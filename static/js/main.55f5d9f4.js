/*! For license information please see main.55f5d9f4.js.LICENSE.txt */
(()=>{var e={73:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/oleandersoperahouse.c34ee31cc6666b279263.jpg"},223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(7248),i=n(9924),a=n(8948),s=n(8417),o=n(579);const l=function(){const{game:e,endTurn:t,setDiscarding:n,setPlaying:l,setGiving:c,discardSelectedCards:u,playSelectedCards:d,giveSelectedCards:h,drawCard:f,refillMeadow:p,harvest:m,revealCard:g,swapHands:y}=(0,r.useGame)(),v=(0,a.getPlayerId)(),b=(0,i.isNotYourTurn)(e,v),w=e.players[e.turn],E=w.discarding,C=w.playing,S=w.giving,A=(0,i.canGiveToSelf)(e,e.turn),T=(0,i.canGiveToOpponent)(e,e.turn),x=(0,i.canRevealDeck)(e,e.turn),k=(0,i.canRevealDiscard)(e,e.turn),I=(0,i.canSwapHands)(e,e.turn),R=(0,i.canStealCard)(e,e.turn);return(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-2 max-w-400px",children:[(0,o.jsx)(s.default,{disabled:b,onClick:()=>f(v),children:"Draw Card"}),(0,o.jsx)(s.default,{disabled:b,onClick:()=>p(v),children:"Refill Meadow"}),(0,o.jsx)(s.default,{disabled:b||E||S,onClick:()=>{C&&d(v),l(v,!C)},children:C?"Confirm play":"Play cards"}),(0,o.jsx)(s.default,{disabled:b||C||S,onClick:()=>{E&&u(v),n(v,!E)},children:E?"Confirm discard":"Discard cards"}),(0,o.jsx)(s.default,{disabled:b||!(0,i.isSafeToEndTurn)(e),variant:"important",onClick:()=>t(v),children:"End Turn"}),(0,o.jsx)(s.default,{disabled:b||!(0,i.isSafeToEndTurn)(e),variant:"important",onClick:()=>m(v),children:"Harvest"}),A&&(0,o.jsx)(s.default,{disabled:b||E||C,variant:"rare",onClick:()=>{S&&h(v,e.turn),c(v,!S)},children:S?"Confirm (self)":"Give to self"}),T&&(0,o.jsx)(s.default,{disabled:b||E||C,variant:"rare",onClick:()=>{S&&h(v,(0,i.oppositePlayerOf)(e.turn)),c(v,!S)},children:S?"Confirm (opp.)":"Give opponent"}),x&&(0,o.jsx)(s.default,{disabled:b,variant:"rare",onClick:()=>g(v,"deck"),children:"Reveal deck"}),k&&(0,o.jsx)(s.default,{disabled:b,variant:"rare",onClick:()=>g(v,"discard"),children:"Reveal discard"}),I&&(0,o.jsx)(s.default,{disabled:b,variant:"rare",onClick:()=>y(v,(0,i.oppositePlayerOf)(e.turn)),children:"Swap hands"}),R&&(0,o.jsx)(s.default,{disabled:b,variant:"rare",onClick:()=>{C&&d(v),l(v,!C)},children:C?"Confirm steal":"Steal cards"})]})}},273:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/storehouse.19b260d5aa8c8169a20a.jpg"},295:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/wife.3e4058c37897d239dba6.jpg"},405:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bridgeofthesky.8a91e3e5de57baefb0b9.jpg"},443:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CardManagementProvider:()=>u,useCardManagement:()=>d});var r=n(2555),i=n(5043),a=n(2484),s=n(6588),o=n(8948),l=n(579);const c=(0,i.createContext)(void 0),u=e=>{let{children:t}=e;const[n,u]=(0,i.useState)((()=>(0,o.getCardFrequencies)()||(0,s.generateDefaultCardFrequencies)(a.DEFAULT_ACTIVE_EXPANSIONS))),[d,h]=(0,i.useState)((()=>(0,o.getActiveExpansions)()||a.DEFAULT_ACTIVE_EXPANSIONS)),[f,p]=(0,i.useState)((()=>(0,o.getPowersEnabled)()||a.DEFAULT_POWERS_ENABLED)),[m,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,o.storeCardFrequencies)(n),g(!(0,s.isAllDefault)(n))}),[n]),(0,i.useEffect)((()=>{(0,o.storeActiveExpansions)(d)}),[d]),(0,i.useEffect)((()=>{(0,o.storePowersEnabled)(f)}),[f]);return(0,l.jsx)(c.Provider,{value:{cardFrequencies:n,activeExpansions:d,powersEnabled:f,updateCardFrequency:(e,t,n)=>{u((i=>{const a=(0,r.A)((0,r.A)({},i),{},{[t]:(0,r.A)((0,r.A)({},i[t]),{},{[e]:Math.max(0,n)})}),s=Object.values(a[t]).every((e=>0===e));return h((e=>{const r=e.includes(t),i=n>0||!s;return i&&!r?[...e,t]:!i&&r?e.filter((e=>e!==t)):e})),a}))},toggleExpansion:e=>{h((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},togglePowersEnabled:()=>{p((e=>!e))},resetToDefaults:()=>{const e=(0,s.generateDefaultCardFrequencies)(a.DEFAULT_ACTIVE_EXPANSIONS);u(e),h(a.DEFAULT_ACTIVE_EXPANSIONS),p(a.DEFAULT_POWERS_ENABLED),(0,o.clearCardFrequencies)(),(0,o.clearActiveExpansions)()},isModified:m},children:t})},d=()=>{const e=(0,i.useContext)(c);if(!e)throw new Error("useCardManagement must be used within a CardManagementProvider");return e}},451:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/inn.a970ec8b72acbe230393.jpg"},452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(2555),i=n(5043),a=n(7248),s=n(5545),o=n(9924),l=n(8948),c=n(7887),u=n(2749),d=n(8417),h=n(4807),f=n(5889),p=n(4645),m=n(579);function g(e){let{power:t}=e;const{game:n,addResourcesToPower:i}=(0,a.useGame)(),u=(0,l.getPlayerId)(),f=(0,l.getPlayerColor)(n,u),p=(0,o.isNotYourTurn)(n,u),g=!!f&&(0,o.canAddResourcesToPower)(n,t,f);return(0,m.jsx)(m.Fragment,{children:t.storage&&(0,m.jsx)("div",{className:"grid grid-cols-2 gap-4 mx-auto",children:(0,c.mapOverResources)(t.storage,((e,t)=>"wildcards"===e?null:(0,m.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,m.jsxs)("div",{className:"flex items-center gap-0",children:[(0,m.jsx)(h.ResourceIcon,{type:e}),(0,m.jsx)("span",{children:t})]}),(0,m.jsxs)("div",{className:"flex gap-1",children:[(0,m.jsx)(d.default,{disabled:p||!g,onClick:()=>i(u,(0,r.A)((0,r.A)({},s.defaultResources),{},{[e]:-1})),children:"-"}),(0,m.jsx)(d.default,{disabled:p||!g,onClick:()=>i(u,(0,r.A)((0,r.A)({},s.defaultResources),{},{[e]:1})),children:"+"})]})]},e)),!1)})})}const y=function(e){let{power:t,onClose:n,inGame:r,index:a=null,renderPowerToggleButtons:s,renderStartButton:o}=e;const[l,c]=(0,i.useState)([]);return(0,m.jsx)(f.default,{onClose:n,children:(0,m.jsxs)("div",{className:"flex flex-1 flex-col h-[30rem] overflow-y-auto w-[36rem] gap-6 items-center p-6",children:[(0,m.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,m.jsxs)("h1",{className:"text-2xl font-bold",children:[null!==a&&"".concat(a+1,". "),t.name]}),(0,m.jsx)("h2",{className:"text-lg",children:t.title})]}),(0,m.jsxs)("div",{className:"flex flex-col gap-4 text-center",children:[(0,m.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,m.jsx)("strong",{children:"Description:"}),(0,m.jsx)("p",{className:"text-center",children:(0,u.renderTextWithIcons)(t.description)})]}),r&&(0,m.jsx)(g,{power:t})]}),(0,m.jsxs)("div",{className:"mt-auto flex flex-col gap-2",children:[!r&&(0,u.renderNumberList)(l),!r&&(0,m.jsx)("div",{children:(0,m.jsx)(d.default,{variant:"rare",disabled:!1,onClick:()=>{const e=p.powers.length;if(e<2)return void c([]);let t=Math.floor(Math.random()*e)+1,n=Math.floor(Math.random()*e)+1;for(;t===n;)n=Math.floor(Math.random()*e)+1;c([Math.min(t,n),Math.max(t,n)])},children:"Random powers"})}),s&&(0,m.jsx)("div",{className:"flex flex-row justify-center h-6",children:s()}),o&&(0,m.jsx)("div",{className:"flex flex-row justify-center h-6",children:o()})]})]})})}},533:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/carnival.42144c28c2adb7c6efdd.jpg"},560:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/thegreenacorn.f584779db84a7f39a955.jpg"},579:(e,t,n)=>{"use strict";e.exports=n(2799)},844:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cemetery.882e3325553fe4e3edb8.jpg"},909:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bard.845a052d244ed6c28357.jpg"},914:e=>{"use strict";e.exports="data:image/png;base64,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"},1060:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/palace.09448af2123e93d871e4.jpg"},1121:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/coin.acd7f875bba1efee8305.png"},1242:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{I9:()=>ut,N_:()=>ht,C5:()=>xe,qh:()=>ke,BV:()=>Re,Zp:()=>ue,g:()=>de});var i=n(2555),a=n(5043);n(4358);const s=["sri"],o=["page"],l=["page","matches"],c=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var h="popstate";function f(){return w((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=b(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),y("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:v(t))}),(function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,i.A)((0,i.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l="POP",c=null,u=d();function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function p(e){return E(e)}null==u&&(u=0,o.replaceState((0,i.A)((0,i.A)({},o.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(h,f),c=e,()=>{a.removeEventListener(h,f),c=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=y(m.location,e,t);n&&n(r,e),u=d()+1;let i=g(r,u),h=m.createHref(r);try{o.pushState(i,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=y(m.location,e,t);n&&n(r,e),u=d();let i=g(r,u),a=m.createHref(r);o.replaceState(i,"",a),s&&c&&c({action:l,location:m.location,delta:0})},go:e=>o.go(e)};return m}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:v(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return S(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function S(e,t,n,r){let i=F(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let a=A(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=M(i);s=O(a[o],e,r)}return s}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(p(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let o=H([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),A(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of T(e.path))i(e,t,r);else i(e,t)})),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=T(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var x=/^:[\w-]+$/,k=3,I=2,R=1,_=10,P=-2,N=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=P),t&&(r+=I),n.filter((e=>!N(e))).reduce(((e,t)=>e+(x.test(t)?k:""===t?R:_)),r)}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:H([a,u.pathname]),pathnameBase:G(H([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=H([a,u.pathnameBase]))}return s}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=j(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function M(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return m(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e){let t=U(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function V(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,i.A)({},e),p(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:q(r),hash:K(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var H=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],Y=(new Set(Q),["GET",...Q]);new Set(Y),Symbol("ResetLoaderData");var J=a.createContext(null);J.displayName="DataRouter";var X=a.createContext(null);X.displayName="DataRouterState";var Z=a.createContext({isTransitioning:!1});Z.displayName="ViewTransition";var $=a.createContext(new Map);$.displayName="Fetchers";var ee=a.createContext(null);ee.displayName="Await";var te=a.createContext(null);te.displayName="Navigation";var ne=a.createContext(null);ne.displayName="Location";var re=a.createContext({outlet:null,matches:[],isDataRoute:!1});re.displayName="Route";var ie=a.createContext(null);ie.displayName="RouteError";var ae=!0;function se(){return null!=a.useContext(ne)}function oe(){return p(se(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(ne).location}var le="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ce(e){a.useContext(te).static||a.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=a.useContext(re);return e?function(){let{router:e}=we("useNavigate"),t=Ce("useNavigate"),n=a.useRef(!1);ce((()=>{n.current=!0}));let r=a.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(n.current,le),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,i.A)({fromRouteId:t},a)))}),[e,t]);return r}():function(){p(se(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(J),{basename:t,navigator:n}=a.useContext(te),{matches:r}=a.useContext(re),{pathname:i}=oe(),s=JSON.stringify(z(r)),o=a.useRef(!1);ce((()=>{o.current=!0}));let l=a.useCallback((function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(o.current,le),!o.current)return;if("number"===typeof r)return void n.go(r);let l=V(r,JSON.parse(s),i,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:H([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[t,n,s,i,e]);return l}()}a.createContext(null);function de(){let{matches:e}=a.useContext(re),t=e[e.length-1];return t?t.params:{}}function he(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=a.useContext(re),{pathname:r}=oe(),i=JSON.stringify(z(n));return a.useMemo((()=>V(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function fe(e,t,n,r){p(se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=a.useContext(te),{matches:l}=a.useContext(re),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;if(ae){let e=f&&f.path||"";Te(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,y=oe();if(t){var v;let e="string"===typeof t?b(t):t;p("/"===h||(null===(v=e.pathname)||void 0===v?void 0:v.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=y;let w=g.pathname||"/",E=w;if("/"!==h){let e=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=!o&&n&&n.matches&&n.matches.length>0?n.matches:C(e,{pathname:E});ae&&(m(f||null!=S,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),m(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.')));let A=ve(S&&S.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:H([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:H([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&A?a.createElement(ne.Provider,{value:{location:(0,i.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},A):A}function pe(){let e=Se(),t=W(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return ae&&(console.error("Error handled by React Router default ErrorBoundary:",e),o=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:s},"ErrorBoundary")," or"," ",a.createElement("code",{style:s},"errorElement")," prop on your route."))),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,o)}var me=a.createElement(pe,null),ge=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(re.Provider,{value:this.props.routeContext},a.createElement(ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(J);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(re.Provider,{value:t},r)}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,o=-1;if(n)for(let a=0;a<r.length;a++){let e=r[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=a),e.route.id){let{loaderData:t,errors:i}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||a){s=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||me,s&&(o<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?a.createElement(l.route.Component,null):l.route.element?l.route.element:e,a.createElement(ye,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?a.createElement(ge,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(e){let t=a.useContext(J);return p(t,be(e)),t}function Ee(e){let t=a.useContext(X);return p(t,be(e)),t}function Ce(e){let t=function(e){let t=a.useContext(re);return p(t,be(e)),t}(e),n=t.matches[t.matches.length-1];return p(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Se(){var e;let t=a.useContext(ie),n=Ee("useRouteError"),r=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ae={};function Te(e,t,n){t||Ae[e]||(Ae[e]=!0,m(!1,n))}a.memo((function(e){let{routes:t,future:n,state:r}=e;return fe(t,void 0,r,n)}));function xe(e){let{to:t,replace:n,state:r,relative:i}=e;p(se(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=a.useContext(te);m(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=a.useContext(re),{pathname:l}=oe(),c=ue(),u=V(t,z(o),l,"path"===i),d=JSON.stringify(u);return a.useEffect((()=>{c(JSON.parse(d),{replace:n,state:r,relative:i})}),[c,d,i,n,r]),null}function ke(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ie(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:o=!1}=e;p(!se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof r&&(r=b(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,y=a.useMemo((()=>{let e=F(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:g},navigationType:i}}),[l,u,d,h,f,g,i]);return m(null!=y,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:a.createElement(te.Provider,{value:c},a.createElement(ne.Provider,{children:n,value:y}))}function Re(e){let{children:t,location:n}=e;return fe(_e(t),n)}a.Component;function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,_e(e.props.children,i));p(e.type===ke,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=_e(e.props.children,i)),n.push(s)})),n}var Pe="get",Ne="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function je(e){return null==e||Le.has(e)?e:(m(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ne,'"')),null)}function Me(e,t){let n,r,i,a,s;if(De(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?F(s,t):null,n=e.getAttribute("method")||Pe,i=je(e.getAttribute("enctype"))||Ne,a=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?F(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Pe,i=je(e.getAttribute("formenctype"))||je(s.getAttribute("enctype"))||Ne,a=new FormData(s,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,i=Ne,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function Fe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Be(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ue(e){return null!=e&&"string"===typeof e.page}function ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ve(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function He(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Ge(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ue(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function qe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ke=new Set([100,101,204,205]);function We(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===F(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}a.Component;function Qe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(W(t))return a.createElement(Ye,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),ae?i:null);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return a.createElement(Ye,{title:"Application Error!",isOutsideRemixApp:n},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function Ye(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=et();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?s:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,n)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?a.createElement(ot,null):null)))}function Je(e,t){return"lazy"===e.mode&&!0===t}function Xe(){let e=a.useContext(J);return Fe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ze(){let e=a.useContext(X);return Fe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=a.createContext(void 0);function et(){let e=a.useContext($e);return Fe(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(e){let{page:t}=e,n=r(e,o),{router:s}=Xe(),l=a.useMemo((()=>C(s.routes,t,s.basename)),[s.routes,t,s.basename]);return l?a.createElement(at,(0,i.A)({page:t,matches:l},n)):null}function it(e){let{manifest:t,routeModules:n}=et(),[r,s]=a.useState([]);return a.useEffect((()=>{let r=!1;return async function(e,t,n){return Ge((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Be(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ze).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?(0,i.A)((0,i.A)({},e),{},{rel:"prefetch",as:"style"}):(0,i.A)((0,i.A)({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),r}function at(e){let{page:t,matches:n}=e,s=r(e,l),o=oe(),{manifest:c,routeModules:u}=et(),{basename:d}=Xe(),{loaderData:h,matches:f}=Ze(),p=a.useMemo((()=>Ve(t,n,f,c,o,"data")),[t,n,f,c,o]),m=a.useMemo((()=>Ve(t,n,f,c,o,"assets")),[t,n,f,c,o]),g=a.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=c.routes[t.route.id];i&&i.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in h&&null!==(n=u[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=We(t,d);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[d,h,o,c,p,n,t,u]),y=a.useMemo((()=>He(m,c)),[m,c]),v=it(m);return a.createElement(a.Fragment,null,g.map((e=>a.createElement("link",(0,i.A)({key:e,rel:"prefetch",as:"fetch",href:e},s)))),y.map((e=>a.createElement("link",(0,i.A)({key:e,rel:"modulepreload",href:e},s)))),v.map((e=>{let{key:t,link:n}=e;return a.createElement("link",(0,i.A)({key:t},n))})))}$e.displayName="FrameworkContext";var st=!1;function ot(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:l,routeDiscovery:c,ssr:u}=et(),{router:d,static:h,staticContext:f}=Xe(),{matches:p}=Ze(),m=Je(c,u);l&&(l.didRenderScripts=!0);let g=nt(p,null,o);a.useEffect((()=>{st=!0}),[]);let y=a.useMemo((()=>{var o;let l=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(o=t.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Fe(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=r(e,s),o=new Set(t.state.matches.map((e=>e.route.id))),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let u=[...o].reduce(((e,t)=>Object.assign(e,{[t]:a.routes[t]})),{});return(0,i.A)((0,i.A)({},a),{},{routes:u,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(l),type:void 0})),a.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(c),type:"module",async:!0})))}),[]),v=st?[]:(b=t.entry.imports.concat(He(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return st?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0}))),y)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.6.0")}catch(bt){}function ut(e){let{basename:t,children:n,window:r}=e,i=a.useRef();null==i.current&&(i.current=f({window:r,v5Compat:!0}));let s=i.current,[o,l]=a.useState({action:s.action,location:s.location}),c=a.useCallback((e=>{a.startTransition((()=>l(e)))}),[l]);return a.useLayoutEffect((()=>s.listen(c)),[s,c]),a.createElement(Ie,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=a.forwardRef((function(e,t){let n,{onClick:s,discover:o="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:f,target:g,to:y,preventScrollReset:b,viewTransition:w}=e,E=r(e,c),{basename:C}=a.useContext(te),S="string"===typeof y&&dt.test(y),A=!1;if("string"===typeof y&&S&&(n=y,ct))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=F(t.pathname,C);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:A=!0}catch(bt){m(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let T=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(se(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=a.useContext(te),{hash:i,pathname:s,search:o}=he(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:H([n,s])),r.createHref({pathname:l,search:o,hash:i})}(y,{relative:u}),[x,k,I]=function(e,t){let n=a.useContext($e),[r,i]=a.useState(!1),[s,o]=a.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=a.useRef(null);a.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),a.useEffect((()=>{if(r){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:tt(l,p),onBlur:tt(c,m),onMouseEnter:tt(u,p),onMouseLeave:tt(d,m),onTouchStart:tt(h,p)}]:[!1,f,{}]}(l,E),R=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ue(),c=oe(),u=he(e,{relative:s});return a.useCallback((a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==n?n:v(c)===v(u);l(e,{replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o})}}),[c,l,u,n,r,t,e,i,s,o])}(y,{replace:h,state:f,target:g,preventScrollReset:b,relative:u,viewTransition:w});let _=a.createElement("a",(0,i.A)((0,i.A)((0,i.A)({},E),I),{},{href:n||T,onClick:A||d?s:function(e){s&&s(e),e.defaultPrevented||R(e)},ref:lt(t,k),target:g,"data-discover":S||"render"!==o?void 0:"true"}));return x&&!S?a.createElement(a.Fragment,null,_,a.createElement(rt,{page:T})):_}));ht.displayName="Link",a.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:o="",end:l=!1,style:c,to:d,viewTransition:h,children:f}=e,m=r(e,u),g=he(d,{relative:m.relative}),y=oe(),v=a.useContext(X),{navigator:b,basename:w}=a.useContext(te),E=null!=v&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.useContext(Z);p(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mt("useViewTransitionState"),i=he(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=F(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=F(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=L(i.pathname,o)||null!=L(i.pathname,s)}(g)&&!0===h,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,S=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(S=S.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=F(A,w)||A);const T="/"!==C&&C.endsWith("/")?C.length-1:C.length;let x,k=S===C||!l&&S.startsWith(C)&&"/"===S.charAt(T),I=null!=A&&(A===C||!l&&A.startsWith(C)&&"/"===A.charAt(C.length)),R={isActive:k,isPending:I,isTransitioning:E},_=k?n:void 0;x="function"===typeof o?o(R):[o,k?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(R):c;return a.createElement(ht,(0,i.A)((0,i.A)({},m),{},{"aria-current":_,className:x,ref:t,style:P,to:d,viewTransition:h}),"function"===typeof f?f(R):f)})).displayName="NavLink";var ft=a.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:s,navigate:o,reloadDocument:l,replace:c,state:u,method:h=Pe,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:b}=e,w=r(e,d),E=vt(),C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=a.useContext(te),r=a.useContext(re);p(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o=(0,i.A)({},he(e||".",{relative:t})),l=oe();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:H([n,o.pathname]));return v(o)}(f,{relative:g}),S="get"===h.toLowerCase()?"get":"post",A="string"===typeof f&&dt.test(f);return a.createElement("form",(0,i.A)((0,i.A)({ref:t,method:S,action:C,onSubmit:l?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;E(t||e.currentTarget,{fetcherKey:s,method:n,navigate:o,replace:c,state:u,relative:g,preventScrollReset:y,viewTransition:b})}},w),{},{"data-discover":A||"render"!==n?void 0:"true"}))}));function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mt(e){let t=a.useContext(J);return p(t,pt(e)),t}ft.displayName="Form";var gt=0,yt=()=>"__".concat(String(++gt),"__");function vt(){let{router:e}=mt("useSubmit"),{basename:t}=a.useContext(te),n=Ce("useRouteId");return a.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Me(r,t);if(!1===i.navigate){let t=i.fetcherKey||yt();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}},1369:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/tantype.00053750a3554a33a535.png"},1380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{achieveEvent:()=>S,achieveSpecialEvent:()=>A,addResourcesToCardInCity:()=>V,addResourcesToLocation:()=>q,addResourcesToPower:()=>K,addResourcesToSelf:()=>Y,discardSelectedCards:()=>B,drawCard:()=>m,endTurn:()=>d,giveResources:()=>J,giveSelectedCards:()=>z,harvest:()=>p,moveCardBelowInCity:()=>j,nextPower:()=>W,placeCharacterOnCardInMeadow:()=>G,placeCharacterOnLocation:()=>H,playCard:()=>O,playSelectedCards:()=>U,playToOppositeCity:()=>L,refillMeadow:()=>y,resetTurn:()=>h,revealCard:()=>f,setDiscarding:()=>x,setGiving:()=>I,setPlaying:()=>k,swapHands:()=>g,toggleCardDiscarding:()=>_,toggleCardGiving:()=>N,toggleCardPlaying:()=>P,toggleOccupiedCardInCity:()=>Q,visitCardInCity:()=>C,visitEvent:()=>w,visitJourney:()=>b,visitLocation:()=>v,visitSpecialEvent:()=>E});var r=n(2555),i=n(4645),a=n(9924),s=n(8948),o=n(7887),l=n(8332),c=n(8382),u=n(5545);function d(e,t){if((0,s.getPlayerColor)(e,t)!==e.turn)return e;if(!(0,a.isSafeToEndTurn)(e))return e;const n={discarded:[],cityDiscarded:[],drew:[],played:[],gave:[],resources:e.players[(0,a.oppositePlayerOf)(e.turn)].resources,workers:e.players[(0,a.oppositePlayerOf)(e.turn)].workers,season:e.players[(0,a.oppositePlayerOf)(e.turn)].season},i=(0,r.A)((0,r.A)({},e),{},{turn:(0,a.oppositePlayerOf)(e.turn),players:(0,r.A)((0,r.A)({},e.players),{},{[(0,a.oppositePlayerOf)(e.turn)]:(0,r.A)((0,r.A)({},e.players[(0,a.oppositePlayerOf)(e.turn)]),{},{history:n})}),previousState:structuredClone((0,r.A)((0,r.A)({},e),{},{turn:(0,a.oppositePlayerOf)(e.turn),previousState:null}))});return(0,a.sanityCheck)(i)?i:e}function h(e,t){const n=(0,s.getPlayerColor)(e,t);if(n!==e.turn)return e;if(!e.previousState)return e;const{previousState:i}=e;let o=(0,r.A)((0,r.A)({},e.previousState),{},{previousState:i,players:(0,r.A)((0,r.A)({},e.previousState.players),{},{[n]:(0,r.A)((0,r.A)({},e.previousState.players[n]),{},{history:(0,r.A)((0,r.A)({},e.previousState.players[n].history),{},{discarded:[],cityDiscarded:[],drew:[],played:[],gave:[]})})})});for(const a of Object.keys(e.players))o.players[a]=(0,r.A)((0,r.A)({},o.players[a]),{},{id:e.players[a].id,name:e.players[a].name,color:e.players[a].color});return(0,a.sanityCheck)(o)?o:e}function f(e,t,n){if((0,s.getPlayerColor)(e,t)!==e.turn)return e;const i=[...e.reveal];if(i.length>=c.MAX_REVEAL_SIZE)return e;if("deck"===n){if(0===e.deck.length)return e;const t=[...e.deck],n=t.pop();if(!n)return e;const s=(0,r.A)((0,r.A)({},e),{},{deck:t,reveal:[...i,n]});return(0,a.sanityCheck)(s)?s:e}if("discard"===n){if(0===e.discard.length)return e;const t=[...e.discard],n=Math.floor(Math.random()*t.length),[s]=t.splice(n,1),o=(0,r.A)((0,r.A)({},e),{},{discard:t,reveal:[...i,s]});return(0,a.sanityCheck)(o)?o:e}return e}function p(e,t){const n=(0,s.getPlayerColor)(e,t);if(n!==e.turn)return e;const i=e.players[n],{season:o}=i;let l,c=o;if("Winter"===o)c="Spring",l=3;else if("Spring"===o)c="Summer",l=4;else{if("Summer"!==o)return e;c="Autumn",l=6}const u=i.city.reduce(((e,t)=>e+((0,a.isPermanentLocationCard)(t)?t.workers[n]:0)),0),d=(0,r.A)((0,r.A)({},i),{},{season:c,workers:{maxWorkers:l,workersLeft:l-u},city:i.city.map((e=>(0,r.A)((0,r.A)({},e),{},{activeDestinations:(0,a.activeDestinationsLeftOnCard)(e,n),workers:(0,a.workersLeftOnCard)(e,n)})))}),h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[n]:d,[(0,a.oppositePlayerOf)(n)]:(0,r.A)((0,r.A)({},e.players[(0,a.oppositePlayerOf)(n)]),{},{city:e.players[(0,a.oppositePlayerOf)(n)].city.map((e=>(0,r.A)((0,r.A)({},e),{},{activeDestinations:(0,a.activeDestinationsLeftOnCard)(e,n),workers:(0,a.workersLeftOnCard)(e,n)})))})}),locations:e.locations.map((e=>(0,r.A)((0,r.A)({},e),{},{workers:(0,r.A)((0,r.A)({},e.workers),{},{[n]:0})}))),journeys:e.journeys.map((e=>(0,r.A)((0,r.A)({},e),{},{workers:(0,r.A)((0,r.A)({},e.workers),{},{[n]:0})}))),events:e.events.map((e=>(0,r.A)((0,r.A)({},e),{},{workers:(0,r.A)((0,r.A)({},e.workers),{},{[n]:0})}))),specialEvents:e.specialEvents.map((e=>(0,r.A)((0,r.A)({},e),{},{workers:(0,r.A)((0,r.A)({},e.workers),{},{[n]:0})})))});return(0,a.sanityCheck)(h)?h:e}function m(e,t){const n=(0,s.getPlayerColor)(e,t);if(n!==e.turn)return e;const i=[...e.deck];if(0===i.length)return e;if(e.players[n].hand.length>=(0,a.computeMaxHandSize)(e,n))return e;const o=i.pop();if(!o)return e;const l=(0,r.A)({},e.players);l[n]=(0,r.A)((0,r.A)({},l[n]),{},{hand:[...l[n].hand,o],history:(0,r.A)((0,r.A)({},l[n].history),{},{drew:[...l[n].history.drew,o]})});const c=(0,r.A)((0,r.A)({},e),{},{deck:i,players:l});return(0,a.sanityCheck)(c)?c:e}function g(e,t,n){const i=(0,s.getPlayerColor)(e,t);if(i!==e.turn)return e;if(!(0,a.canSwapHands)(e,i))return e;const o=(0,r.A)((0,r.A)({},e.players),{},{[i]:(0,r.A)((0,r.A)({},e.players[i]),{},{hand:e.players[n].hand}),[n]:(0,r.A)((0,r.A)({},e.players[n]),{},{hand:e.players[i].hand})}),l=(0,r.A)((0,r.A)({},e),{},{players:o});return(0,a.sanityCheck)(l)?l:e}function y(e,t){if((0,s.getPlayerColor)(e,t)!==e.turn)return e;const n=[...e.deck],i=[...e.meadow];if(0===n.length)return e;if(i.length>=c.MAX_MEADOW_SIZE)return e;const o=c.MAX_MEADOW_SIZE-i.length,l=Math.min(o,n.length),u=n.splice(n.length-l,l),d=(0,r.A)((0,r.A)({},e),{},{deck:n,meadow:[...e.meadow,...u]});return(0,a.sanityCheck)(d)?d:e}function v(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;if(n>=e.locations.length)return e;const l=e.locations[n],c=e.players[o];if(!(0,a.canVisitLocation)(e,l,o,i))return e;const u=(0,r.A)((0,r.A)({},l),{},{workers:(0,r.A)((0,r.A)({},l.workers),{},{[o]:l.workers[o]+i})}),d=(0,r.A)((0,r.A)({},e.players),{},{[o]:(0,r.A)((0,r.A)({},c),{},{workers:(0,r.A)((0,r.A)({},c.workers),{},{workersLeft:c.workers.workersLeft-i}),resources:(0,r.A)({},c.resources)})}),h=(0,r.A)((0,r.A)({},e),{},{locations:e.locations.map(((e,t)=>t===n?u:e)),players:d});return i>0?Y(h,t,l.resources):(0,a.sanityCheck)(h)?h:e}function b(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;if(n>=e.journeys.length)return e;const l=e.journeys[n],c=e.players[o];if(!(0,a.canVisitJourney)(e,l,o,i))return e;const d=(0,r.A)((0,r.A)({},l),{},{workers:(0,r.A)((0,r.A)({},l.workers),{},{[o]:l.workers[o]+i})}),h=(0,r.A)((0,r.A)({},e.players),{},{[o]:(0,r.A)((0,r.A)({},c),{},{workers:(0,r.A)((0,r.A)({},c.workers),{},{workersLeft:c.workers.workersLeft-i}),resources:(0,r.A)({},c.resources)})}),f=(0,r.A)((0,r.A)({},e),{},{journeys:e.journeys.map(((e,t)=>t===n?d:e)),players:h});return i>0?Y(f,t,(0,r.A)((0,r.A)({},u.defaultResources),{},{coins:l.value})):(0,a.sanityCheck)(f)?f:e}function w(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;if(n>=e.events.length)return e;const l=e.events[n],c=e.players[o];if(!(0,a.canVisitEvent)(e,l,o,i))return e;const d=(0,r.A)((0,r.A)({},l),{},{workers:(0,r.A)((0,r.A)({},l.workers),{},{[o]:l.workers[o]+i}),used:!0}),h=(0,r.A)((0,r.A)({},e.players),{},{[o]:(0,r.A)((0,r.A)({},c),{},{workers:(0,r.A)((0,r.A)({},c.workers),{},{workersLeft:c.workers.workersLeft-i}),resources:(0,r.A)({},c.resources)})}),f=(0,r.A)((0,r.A)({},e),{},{events:e.events.map(((e,t)=>t===n?d:e)),players:h});return i>0?Y(f,t,(0,r.A)((0,r.A)({},u.defaultResources),{},{coins:l.value})):(0,a.sanityCheck)(f)?f:e}function E(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;if(n>=e.specialEvents.length)return e;const l=e.specialEvents[n],c=e.players[o];if(!(0,a.canVisitSpecialEvent)(e,l,o,i))return e;const d=(0,r.A)((0,r.A)({},l),{},{workers:(0,r.A)((0,r.A)({},l.workers),{},{[o]:l.workers[o]+i}),used:!0}),h=(0,r.A)((0,r.A)({},e.players),{},{[o]:(0,r.A)((0,r.A)({},c),{},{workers:(0,r.A)((0,r.A)({},c.workers),{},{workersLeft:c.workers.workersLeft-i}),resources:(0,r.A)({},c.resources)})}),f=(0,r.A)((0,r.A)({},e),{},{specialEvents:e.specialEvents.map(((e,t)=>t===n?d:e)),players:h});return i>0&&l.value?Y(f,t,(0,r.A)((0,r.A)({},u.defaultResources),{},{coins:l.value})):(0,a.sanityCheck)(f)?f:e}function C(e,t,n,i,o){const l=(0,s.getPlayerColor)(e,t);if(l!==e.turn)return e;if(i>=e.players[n].city.length)return e;const c=e.players[n].city[i],u=e.players[l];if(!(0,a.canVisitCardInCity)(e,c,l,o))return e;const d=(0,r.A)((0,r.A)({},c),{},{activeDestinations:c.activeDestinations+o,workers:(0,r.A)((0,r.A)({},c.workers),{},{[l]:c.workers[l]+o})}),h=e.players[n].city.map(((e,t)=>t===i?d:e)),f=(0,r.A)((0,r.A)((0,r.A)({},u),l===n&&{city:h}),{},{workers:(0,r.A)((0,r.A)({},u.workers),{},{workersLeft:u.workers.workersLeft-o})}),p=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[l]:f},l!==n&&{[n]:(0,r.A)((0,r.A)({},e.players[n]),{},{city:h})})});return(0,a.sanityCheck)(p)?p:e}function S(e,t,n){const i=(0,s.getPlayerColor)(e,t);if(i!==e.turn)return e;if(n>=e.events.length)return e;const o=e.events[n];if(!(0,a.canAchieveEvent)(e,o,i))return e;const l=(0,r.A)((0,r.A)({},o),{},{used:!0}),c=(0,r.A)((0,r.A)({},e),{},{events:e.events.map(((e,t)=>t===n?l:e))});return Y(c,t,(0,r.A)((0,r.A)({},u.defaultResources),{},{coins:o.value}))}function A(e,t,n){const i=(0,s.getPlayerColor)(e,t);if(i!==e.turn)return e;if(n>=e.specialEvents.length)return e;const o=e.specialEvents[n];if(!(0,a.canAchieveSpecialEvent)(e,o,i))return e;const l=(0,r.A)((0,r.A)({},o),{},{used:!0}),c=(0,r.A)((0,r.A)({},e),{},{specialEvents:e.specialEvents.map(((e,t)=>t===n?l:e))});return o.value?Y(c,t,(0,r.A)((0,r.A)({},u.defaultResources),{},{coins:o.value})):(0,a.sanityCheck)(c)?c:e}function T(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;for(const r of["discarding","playing","giving"])if(e.players[o][r]&&r!==n)return e;if(e.players[o][n]===i)return e;const l=(0,r.A)({},e.players);l[o]=(0,r.A)((0,r.A)({},l[o]),{},{[n]:i});const c=(0,r.A)((0,r.A)({},e),{},{players:l});return(0,a.sanityCheck)(c)?c:e}function x(e,t,n){return T(e,t,"discarding",n)}function k(e,t,n){return T(e,t,"playing",n)}function I(e,t,n){return T(e,t,"giving",n)}function R(e,t,n,i,o){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const c=(0,s.getPlayerColor)(e,t);if(c!==e.turn)return e;const u=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[c]:(0,r.A)((0,r.A)({},e.players[c]),{},{hand:[...e.players[c].hand],city:[...e.players[c].city],legends:[...e.players[c].legends]})},null!==l&&{[l]:(0,r.A)((0,r.A)({},e.players[l]),{},{city:[...e.players[l].city]})}),meadow:[...e.meadow],reveal:[...e.reveal],discard:[...e.discard],farmStack:[...e.farmStack]});let d;return"hand"===n?(d=e.players[c].hand[i],d&&(u.players[c].hand[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"city"===n&&null!==l?(d=e.players[l].city[i],d&&(u.players[l].city[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"city"===n?(d=e.players[c].city[i],d&&(u.players[c].city[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"meadow"===n?(d=e.meadow[i],d&&(u.meadow[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"reveal"===n?(d=e.reveal[i],d&&(u.reveal[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"discard"===n?(d=e.discard[i],d&&(u.discard[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"legends"===n?(d=e.players[c].legends[i],d&&(u.players[c].legends[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))):"farmStack"===n&&(d=e.farmStack[i],d&&(u.farmStack[i]=(0,r.A)((0,r.A)({},d),{},{[o]:!d[o]}))),(0,a.sanityCheck)(u)?u:e}function _(e,t,n,r){return R(e,t,n,r,"discarding",null)}function P(e,t,n,r,i){return"city"===n&&null===i?e:R(e,t,n,r,"playing",i)}function N(e,t,n,r){return R(e,t,n,r,"giving",null)}function D(e,t){const n=e.players[t],i=n.city,a=(0,o.hasCards)(i,["Dungeon"]),s=(0,o.countCardOccurrences)(i,"Wife"),l=(0,o.countCardOccurrences)(i,"Husband"),c=Math.min(s,l);let u=0;const d=i.map((e=>"Dungeon"===e.below&&a?(0,r.A)((0,r.A)({},e),{},{below:"Dungeon"}):"Wife"===e.name?u<c?(u++,(0,r.A)((0,r.A)({},e),{},{below:"Husband"})):(0,r.A)((0,r.A)({},e),{},{below:null}):"Husband"===e.name?(0,r.A)((0,r.A)({},e),{},{below:null}):"Dungeon"!==e.below||a?e:(0,r.A)((0,r.A)({},e),{},{below:null})));return(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[t]:(0,r.A)((0,r.A)({},n),{},{city:d})})})}function O(e,t,n,i){const l=(0,s.getPlayerColor)(e,t);if(l!==e.turn)return e;let c,u=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[l]:(0,r.A)((0,r.A)({},e.players[l]),{},{hand:[...e.players[l].hand],city:[...e.players[l].city],legends:[...e.players[l].legends]})}),meadow:[...e.meadow],reveal:[...e.reveal],discard:[...e.discard]});if("hand"===n){if(i>=e.players[l].hand.length)return e;c=e.players[l].hand[i],u.players[l].hand=u.players[l].hand.filter(((e,t)=>t!==i))}else if("meadow"===n){if(i>=e.meadow.length)return e;c=e.meadow[i],u.meadow=u.meadow.filter(((e,t)=>t!==i))}else if("discard"===n){if(i>=e.discard.length)return e;c=e.discard[i],u.discard=u.discard.filter(((e,t)=>t!==i))}else if("reveal"===n){if(i>=e.reveal.length)return e;c=e.reveal[i],u.reveal=u.reveal.filter(((e,t)=>t!==i))}else if("legends"===n){if(i>=e.players[l].legends.length)return e;c=e.players[l].legends[i],u.players[l].legends=u.players[l].legends.filter(((e,t)=>t!==i))}else if("farmStack"===n){if(i>0||0===e.farmStack.length)return e;c=e.farmStack[i],u.farmStack=u.farmStack.filter(((e,t)=>t!==i))}if(!c)return e;const d=(0,r.A)((0,r.A)({},c),{},{playing:!1,discarding:!1,giving:!1,below:null,characters:null}),h="Fool"===d.name?(0,a.oppositePlayerOf)(l):l;return u.players[h]=(0,r.A)((0,r.A)({},u.players[h]),{},{city:(0,o.sortCity)([...u.players[h].city,d])}),u.players[l]=(0,r.A)((0,r.A)({},u.players[l]),{},{history:M(e,l,"playing",[c],[],[],[],[],[],[],[])}),u=D(u,l),(0,a.sanityCheck)(u)?u:e}function L(e,t,n){const i=(0,s.getPlayerColor)(e,t);if(i!==e.turn)return e;if(n>=e.players[i].city.length)return e;const o=e.players[i].city[n];if(!(0,a.canPlayToOppositeCity)(e,i,o))return e;const l=e.players[i],c=e.players[(0,a.oppositePlayerOf)(i)],u=e.players[i].city.filter(((e,t)=>t!==n)),d=[...c.city,(0,r.A)((0,r.A)({},o),{},{playing:!1,discarding:!1,giving:!1})],h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[i]:(0,r.A)((0,r.A)({},l),{},{city:u}),[(0,a.oppositePlayerOf)(i)]:(0,r.A)((0,r.A)({},c),{},{city:d})})});return(0,a.sanityCheck)(h)?h:e}function j(e,t,n,i){var o;const l=(0,s.getPlayerColor)(e,t);if(l!==e.turn)return e;if(n>=e.players[l].city.length)return e;const c=e.players[l].city[n];if(!(0,a.canMoveCardBelowInCity)(e,l,c,i))return e;const u=(0,r.A)((0,r.A)({},c),{},{below:null!==(o=null===i||void 0===i?void 0:i.name)&&void 0!==o?o:null}),d=e.players[l].city.map(((e,t)=>t===n?u:e)),h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[l]:(0,r.A)((0,r.A)({},e.players[l]),{},{city:d})})});return(0,a.sanityCheck)(h)?h:e}function M(e,t,n,i,a,s,o,l,c,u,d){const h=e.players[t].history;switch(n){case"discarding":return(0,r.A)((0,r.A)({},h),{},{discarded:[...h.discarded,...i,...s,...o],cityDiscarded:[...h.cityDiscarded,...a]});case"playing":return(0,r.A)((0,r.A)({},h),{},{played:[...h.played,...i,...l,...s,...o,...c,...u,...d]});case"giving":return(0,r.A)((0,r.A)({},h),{},{gave:[...h.gave,...i,...s,...o]})}}function F(e,t,n,i){const c=(0,s.getPlayerColor)(e,t);if(c!==e.turn)return e;const u=e.players[c],[d,h]=(e.players[(0,a.oppositePlayerOf)(c)],(0,l.partition)(u.hand,(e=>!e[n]))),[f,p]=(0,l.partition)(u.city,(e=>!e[n])),[m,g]=(0,l.partition)(e.meadow,(e=>!e[n])),[y,v]=(0,l.partition)(e.reveal,(e=>!e[n])),[b,w]=(0,l.partition)(e.discard,(e=>!e[n])),[E,C]=(0,l.partition)(e.players[c].legends,(e=>!e[n])),[S,A]=(0,l.partition)(e.farmStack,(e=>!e[n])),[T,x]=(0,l.partition)(e.players[(0,a.oppositePlayerOf)(c)].city,(e=>!e[n])),k=M(e,c,n,h,p,g,v,w,C,A,x);let I=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[c]:(0,r.A)((0,r.A)({},u),{},{hand:d,city:f,history:k,legends:E})},null!==i&&i!==c&&{[i]:(0,r.A)((0,r.A)({},e.players[i]),{},{city:T})}),meadow:m,reveal:y,discard:b,farmStack:S});switch(n){case"discarding":const t=[...e.discard,...h,...p,...g,...v];I.discard=t.map((e=>(0,r.A)((0,r.A)({},e),{},{playing:!1,discarding:!1,giving:!1,below:null}))),I=D(I,c);break;case"playing":const n=[...u.city,...h,...g,...v,...w,...C,...A,...x],[s,f]=(0,l.partition)(n,(e=>"Fool"===e.name&&e.playing)),m=(0,o.sortCity)(f).map((e=>(0,r.A)((0,r.A)({},e),{},{playing:!1,discarding:!1,giving:!1,characters:null}))),y=(0,o.sortCity)([...T,...s]).map((e=>(0,r.A)((0,r.A)({},e),{},{playing:!1,discarding:!1,giving:!1,characters:null})));I.players[c]=(0,r.A)((0,r.A)({},I.players[c]),{},{city:m}),I.players[(0,a.oppositePlayerOf)(c)]=(0,r.A)((0,r.A)({},I.players[(0,a.oppositePlayerOf)(c)]),{},{city:y}),I=D(I,c);break;case"giving":if(null===i)return e;const b=e.players[i],E=c===i?[...u.hand,...g,...v]:[...d],S=[...b.hand,...h,...g,...v],k=E.map((e=>(0,r.A)((0,r.A)({},e),{},{playing:!1,discarding:!1,giving:!1,below:null}))),R=S.map((e=>(0,r.A)((0,r.A)({},e),{},{playing:!1,discarding:!1,giving:!1,below:null})));I.players[c]=(0,r.A)((0,r.A)({},I.players[c]),{},{hand:k}),c!==i&&(I.players[i]=(0,r.A)((0,r.A)({},I.players[i]),{},{hand:R}))}return(0,a.sanityCheck)(I)?I:e}function B(e,t){return F(e,t,"discarding",null)}function U(e,t){return F(e,t,"playing",null)}function z(e,t,n){return F(e,t,"giving",n)}function V(e,t,n,i,o){if((0,s.getPlayerColor)(e,t)!==e.turn)return e;if(i>=e.players[n].city.length)return e;const l=e.players[n].city[i];if(null===l.storage)return e;const c=(0,r.A)({},l.storage);for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)){const e=r;c[e]+=o[e],c[e]=Math.max(0,c[e])}const u=(0,r.A)((0,r.A)({},l),{},{storage:c}),d=e.players[n].city.map(((e,t)=>t===i?u:e)),h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[n]:(0,r.A)((0,r.A)({},e.players[n]),{},{city:d})})});return(0,a.sanityCheck)(h)?h:e}function H(e,t,n,i,o){const l=(0,s.getPlayerColor)(e,t);if(l!==e.turn)return e;if(n>=e.locations.length)return e;const c=e.locations[n];if(!(0,a.canPlaceCharacterOnLocation)(e,c,l,i,o))return e;const u=(0,r.A)((0,r.A)({},c),null!==c.characters&&{characters:(0,r.A)((0,r.A)({},c.characters),{},{[o]:c.characters[o]+i})}),d=(0,r.A)((0,r.A)({},e),{},{locations:e.locations.map(((e,t)=>t===n?u:e))});return(0,a.sanityCheck)(d)?d:e}function G(e,t,n,i,o){const l=(0,s.getPlayerColor)(e,t);if(l!==e.turn)return e;if(n>=e.meadow.length)return e;const c=e.meadow[n];if(!(0,a.canPlaceCharacterOnLocation)(e,c,l,i,o))return e;const u=(0,r.A)((0,r.A)({},c),null!==c.characters&&{characters:(0,r.A)((0,r.A)({},c.characters),{},{[o]:c.characters[o]+i})}),d=(0,r.A)((0,r.A)({},e),{},{meadow:e.meadow.map(((e,t)=>t===n?u:e))});return(0,a.sanityCheck)(d)?d:e}function q(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;if(n>=e.locations.length)return e;const l=e.locations[n];if(!(0,a.canAddResourcesToLocation)(e,l,o))return e;const c=(0,r.A)({},l.storage);for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const e=r;c[e]+=i[e],c[e]=Math.max(0,c[e])}const u=(0,r.A)((0,r.A)({},l),{},{storage:c}),d=e.locations.map(((e,t)=>t===n?u:e)),h=(0,r.A)((0,r.A)({},e),{},{locations:d});return(0,a.sanityCheck)(h)?h:e}function K(e,t,n){const i=(0,s.getPlayerColor)(e,t);if(i!==e.turn)return e;const o=e.players[i],l=o.power;if(null===l)return e;if(!(0,a.canAddResourcesToPower)(e,l,i))return e;const c=(0,r.A)({},l.storage);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const e=r;c[e]+=n[e],c[e]=Math.max(0,c[e])}const u=(0,r.A)((0,r.A)({},l),{},{storage:c}),d=(0,r.A)((0,r.A)({},o),{},{power:u}),h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[i]:d})});return(0,a.sanityCheck)(h)?h:e}function W(e,t,n){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;const l=e.players[o],c=i.powers.length,u=(i.powers.findIndex((e=>{var t;return e.name===(null===(t=l.power)||void 0===t?void 0:t.name)}))+n+c)%c,d=(0,r.A)((0,r.A)({},l),{},{power:i.powers[u]}),h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[o]:d})});return(0,a.sanityCheck)(h)?h:e}function Q(e,t,n,i,o){if((0,s.getPlayerColor)(e,t)!==e.turn)return e;if(i>=e.players[n].city.length)return e;const l=e.players[n].city[i];if(null===l.occupied)return e;const c=(0,r.A)((0,r.A)({},l),{},{occupied:o}),u=e.players[n].city.map(((e,t)=>t===i?c:e)),d=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[n]:(0,r.A)((0,r.A)({},e.players[n]),{},{city:u})})});return(0,a.sanityCheck)(d)?d:e}function Y(e,t,n){const i=(0,s.getPlayerColor)(e,t);if(i!==e.turn)return e;const o=e.players[i],l=(0,r.A)({},o.resources);let c=(0,r.A)({},e);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const e=r;if("cards"===e)for(let r=0;r<n.cards;r++)c=m(c,t);else l[e]+=n[e],l[e]=Math.max(0,l[e])}const u=(0,r.A)((0,r.A)({},c),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[i]:(0,r.A)((0,r.A)({},c.players[i]),{},{resources:l})})});return(0,a.sanityCheck)(u)?u:e}function J(e,t,n,i){const o=(0,s.getPlayerColor)(e,t);if(o!==e.turn)return e;const l=e.players[o],c=e.players[i];if(l===c)return e;const u=(0,r.A)({},l.resources),d=(0,r.A)({},c.resources);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const t=r,i=n[t];if(i<=0)continue;if(l.resources[t]<i)return e;"cards"!==t&&(u[t]-=i,d[t]+=i)}const h=(0,r.A)((0,r.A)({},e),{},{players:(0,r.A)((0,r.A)({},e.players),{},{[o]:(0,r.A)((0,r.A)({},e.players[o]),{},{resources:u}),[i]:(0,r.A)((0,r.A)({},e.players[i]),{},{resources:d})})});return(0,a.sanityCheck)(h)?h:e}},1428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(7248),i=n(9924),a=n(8948),s=n(7887),o=n(8490),l=n(3759),c=n(4807),u=n(4346),d=n(452),h=n(579);const f=function(e){let{playerColor:t}=e;const{game:n}=(0,r.useGame)(),f=(0,a.getPlayerId)(),p=n.players[t],m=p.city.reduce(((e,t)=>e+("Dungeon"===t.below?1:0)),0);return(0,h.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("strong",{className:"".concat((0,o.stylePlayerColor)(t)),children:[f===p.id?"(Me) ":"",p.name||"Guest"]}),(0,h.jsx)(u.default,{id:p.id||"Not in game"}),n.powersEnabled&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"flex gap-2 text-xs",children:[(0,h.jsx)("strong",{children:"Power: "}),p.power?(0,h.jsx)(l.default,{isInteractive:!0,onRightClick:e=>(0,h.jsx)(d.default,{power:p.power,onClose:e,inGame:!0}),children:(0,h.jsxs)("div",{className:"flex",children:[p.power.name,p.power.storage&&(0,s.mapOverResources)(p.power.storage,((e,t)=>(0,h.jsxs)("div",{className:"flex items-center text-[10px]",children:[(0,h.jsx)(c.ResourceIcon,{type:e})," ",t]},e)))]})}):"None"]})})]}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("strong",{className:"".concat((0,o.styleSeasonColor)(p.season)),children:p.season})}),(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)(c.WorkerIcon,{playerColor:t})," ",p.workers.workersLeft," / ",p.workers.maxWorkers]})]}),(0,h.jsxs)("div",{className:"flex flex-col items-end",children:[(0,h.jsxs)("div",{children:["Hand: ",p.hand.length," / ",(0,i.computeMaxHandSize)(n,t)]}),(0,h.jsxs)("div",{children:["City: ",p.city.length-m," /"," ",(0,i.computeMaxCitySize)(p.city,p.power)-m]})]})]}),(0,h.jsx)("div",{className:"flex flex-row gap-2",children:(0,s.mapOverResources)(p.resources,((e,t)=>(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[(0,h.jsx)(c.ResourceIcon,{type:e})," ",t]},e)),!0,(()=>(0,h.jsx)("div",{className:"italic",children:"No resources"})))})]},t)}},1453:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/resinrefinery.2b4c8bb8ab05ee198996.jpg"},1484:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rugworttheruler.970ec7f8dc86296a49ec.jpg"},1529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>p,FA:()=>D,g:()=>N,u:()=>o,Uj:()=>s,Fy:()=>y,tD:()=>z,bD:()=>j,hp:()=>U,T9:()=>h,Tj:()=>u,yU:()=>d,XA:()=>f,mS:()=>l,Ku:()=>G,ZQ:()=>E,sr:()=>T,zJ:()=>m,c1:()=>A,Im:()=>L,lT:()=>k,zW:()=>_,jZ:()=>C,lV:()=>x,nr:()=>I,Ov:()=>R,gE:()=>g,Am:()=>F,I9:()=>B,P1:()=>w,eX:()=>P});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==l)throw new a;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e){return e.endsWith(".cloudworkstations.dev")}async function g(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}const v={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!m(window.location.host)||v[e]===t||v[e]||b)return;function n(e){return"__firebase__banner__".concat(e)}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function E(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E())}function S(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function A(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){const e=E();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){return!S()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function _(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class N extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(O,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new N(n,a,t)}}const O=/\{\$([^}]+)}/g;function L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(M(n)&&M(a)){if(!j(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M(e){return null!==e&&"object"===typeof e}function F(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function B(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function z(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function H(){}function G(e){return e&&e._delegate?e._delegate:e}},1566:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/coin.657c57b397fd3393d1e9.png"},1705:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bluetype.0338a0a2352de5207c7c.png"},1764:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fool.909b4db06e6590c2c47d.jpg"},1796:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/blueworker.1a7bfd048a6d5805dc95.png"},1888:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/teacher.3dbea59c798f09ddf341.jpg"},1920:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(2555),i=n(5472),a=n(5043),s=n(1242),o=n(5852),l=n(4645),c=n(9291),u=n(8417),d=n(3587),h=n(5059),f=n(452),p=n(443),m=n(7106),g=n(9924),y=n(8948),v=n(8332),b=n(8652),w=n(2749),E=n(579);const C=function(){const e=(0,s.Zp)(),{cardFrequencies:t,isModified:n,activeExpansions:C,powersEnabled:S}=(0,p.useCardManagement)(),[A,T]=(0,a.useState)([]),[x]=(0,a.useState)((()=>(0,y.getPlayerName)()||"")),[k]=(0,a.useState)((()=>(0,y.getPlayerId)()||null)),I=!k,[R,_]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),D=()=>{_(null),N(null)},O=()=>{null!==P&&N((0,v.nextOption)(P,l.powers,-1))},L=()=>{null!==P&&N((0,v.nextOption)(P,l.powers,1))},j=async()=>{if(I)return;const n=(0,o.A)(),r=(0,g.setupGame)("Red",t,C,S,null!==P?l.powers[P]:null);r.players.Red.id=k,r.players.Red.name=x,await(0,i.BN)((0,i.H9)(m.db,"games/".concat(n)),r),e("".concat(b.GAME_PATH,"/").concat(n))},M=async(t,n)=>{if(I)return;const a=(0,i.H9)(m.db,"games",t),s=(await(0,i.x7)(a)).data();if(!s)return alert("Game not found");const o=s.players[n];if(o.id&&o.id!==k)return alert("".concat(n," player slot is already taken."));const c=(0,r.A)((0,r.A)({},s),{},{players:(0,r.A)((0,r.A)({},s.players),{},{[n]:(0,r.A)((0,r.A)({},s.players[n]),{},{id:k,name:x,power:null!==P?l.powers[P]:null})})}),u=(0,g.dealCards)(c,"Red","Blue");await(0,i.BN)((0,i.H9)(m.db,"games/".concat(t)),u),e("".concat(b.GAME_PATH,"/").concat(t))};return(0,a.useEffect)((()=>{(async()=>{const e=(await(0,i.GG)((0,i.rJ)(m.db,"games"))).docs.map((e=>({id:e.id,game:e.data()})));T(e)})()}),[]),(0,E.jsxs)("div",{className:"max-w-7xl mx-auto p-4 flex flex-col h-screen gap-4",children:[(0,E.jsxs)("div",{className:"flex-shrink-0 flex flex-col gap-4",children:[(0,E.jsxs)("div",{className:"flex justify-between items-center flex-wrap",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("strong",{children:"Display Name:"})," ",x||"Not Set"]}),(0,E.jsxs)("span",{className:"ml-6",children:[(0,E.jsx)("strong",{children:"ID:"})," ",(0,E.jsx)("span",{className:"font-mono",children:k||"Not Set"})]})]}),(0,E.jsx)("div",{className:"flex gap-2",children:(0,E.jsx)(h.default,{link:b.HOME_PATH,displayText:"Back to Home",arrow:"backward"})})]}),(0,E.jsx)(c.default,{displayText:n?"Using custom card frequencies":"Using default card frequencies",secondaryDisplay:(0,w.renderActiveExpansions)(C),tertiaryDisplay:(0,w.renderPowersEnabled)(S),variant:n?"warning":"info",visible:!0}),(0,E.jsx)("h2",{className:"text-lg font-bold",children:"Available Games"}),(0,E.jsxs)("div",{className:"flex gap-2",children:[(0,E.jsx)(u.default,{onClick:S?()=>{_(null),N(0)}:j,disabled:I,variant:"important",children:"Start New Game"}),(0,E.jsx)(u.default,{onClick:async()=>{if(I)return;(await(0,i.GG)((0,i.rJ)(m.db,"games"))).docs.forEach((async e=>{await(0,i.kd)(e.ref)})),T([])},disabled:I,variant:"danger",children:"Delete All Games"})]}),0===A.length&&(0,E.jsx)("p",{className:"italic",children:"No games found"})]}),(0,E.jsx)(d.default,{list:A,playerId:k,onJoinGame:async(e,t)=>{if(I)return;const n=(0,i.H9)(m.db,"games",e),r=(await(0,i.x7)(n)).data();if(!r)return alert("Game not found");r.powersEnabled?((e,t)=>{_({gameId:e,color:t}),N(0)})(e,t):M(e,t)},onRejoinGame:async t=>{if(I)return;const n=(0,i.H9)(m.db,"games",t),r=(await(0,i.x7)(n)).data();if(!r)return alert("Game not found");let a=null;if(r.players.Red.id===k?a="Red":r.players.Blue.id===k&&(a="Blue"),null===a)return alert("Could not rejoin game.");await(0,i.mZ)(n,{["players.".concat(a,".name")]:x}),e("".concat(b.GAME_PATH,"/").concat(t))},onSpectateGame:t=>{e("".concat(b.GAME_PATH,"/").concat(t))},onDeleteGame:async e=>{I||(await(0,i.kd)((0,i.H9)(m.db,"games",e)),T((t=>t.filter((t=>t.id!==e)))))}}),null!==P&&(0,E.jsx)(f.default,{power:l.powers[P],index:P,onClose:D,inGame:!1,renderPowerToggleButtons:()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.default,{onClick:O,children:"Prev power"}),(0,E.jsx)(u.default,{onClick:L,children:"Next power"})]}),renderStartButton:()=>R?(0,E.jsx)(u.default,{onClick:()=>{M(R.gameId,R.color),D()},variant:"important",children:"Join Game"}):(0,E.jsx)(u.default,{onClick:()=>{j(),D()},variant:"important",children:"Start Game"})})]})}},2091:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locations:()=>r});const r=[{exclusive:!0,resources:{twigs:3,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0}},{exclusive:!1,resources:{twigs:2,resin:0,pebbles:0,berries:0,coins:0,cards:1,wildcards:0}},{exclusive:!0,resources:{twigs:0,resin:2,pebbles:0,berries:0,coins:0,cards:0,wildcards:0}},{exclusive:!1,resources:{twigs:0,resin:1,pebbles:0,berries:0,coins:0,cards:1,wildcards:0}},{exclusive:!1,resources:{twigs:0,resin:0,pebbles:0,berries:0,coins:1,cards:2,wildcards:0}},{exclusive:!0,resources:{twigs:0,resin:0,pebbles:1,berries:0,coins:0,cards:0,wildcards:0}},{exclusive:!0,resources:{twigs:0,resin:0,pebbles:0,berries:1,coins:0,cards:1,wildcards:0}},{exclusive:!1,resources:{twigs:0,resin:0,pebbles:0,berries:1,coins:0,cards:0,wildcards:0}},{exclusive:!1,resources:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0}}]},2100:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/queen.b3ad1d8902a978d48602.jpg"},2101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(7248),i=n(8948),a=n(8959),s=n(579);const o=function(){const{game:e,toggleCardPlaying:t}=(0,r.useGame)(),n=e.players[e.turn].playing,o=(0,i.getPlayerId)();return(0,s.jsx)(a.default,{cards:e.farmStack,maxLength:1,location:"farmStack",cityColor:null,onLeftClick:(e,r)=>{n&&r&&t(o,"farmStack",e,null)}})}},2116:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/twigbarge.f656a9677bffcd4a7b91.jpg"},2252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(7248),i=n(9924),a=n(8948),s=n(8959),o=n(579);const l=function(e){let{color:t}=e;const{game:n,toggleCardDiscarding:l,toggleCardPlaying:c,playCard:u}=(0,r.useGame)(),d=n.players[t],h=d.discarding,f=(0,a.getPlayerId)(),p=(0,i.canStealCard)(n,n.turn),m=n.players[(0,i.oppositePlayerOf)(t)].playing;return(0,o.jsx)(s.default,{cards:d.city,location:"city",cityColor:t,onLeftClick:(e,n)=>{h&&n?l(f,"city",e):p&&m&&n&&c(f,"city",e,t)},onDrop:(e,r,i,a)=>{n.turn!==t||h||"hand"!==r&&"meadow"!==r&&"discard"!==r&&"reveal"!==r&&"farmStack"!==r&&"legends"!==r||u(f,r,i)},isDropTarget:n.turn===t&&!h})}},2484:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BASE_CARD_FREQUENCIES:()=>o,DEFAULT_ACTIVE_EXPANSIONS:()=>a,DEFAULT_CARD_FREQUENCIES:()=>l,DEFAULT_POWERS_ENABLED:()=>s,rawCards:()=>c});var r=n(5545),i=n(6588);const a=["base"],s=!1,o={base:{Architect:2,Bard:2,"Barge Toad":3,Castle:2,Cemetery:2,Chapel:2,"Chip Sweep":3,"Clock Tower":3,Courthouse:2,Crane:3,Doctor:2,Dungeon:2,"Ever Tree":2,Fairgrounds:3,Farm:8,Fool:2,"General Store":3,Historian:3,Husband:4,Inn:3,Innkeeper:3,Judge:2,King:2,Lookout:2,Mine:3,"Miner Mole":3,Monastery:2,Monk:2,Palace:2,Peddler:3,"Postal Pigeon":3,"Post Office":3,Queen:2,Ranger:2,"Resin Refinery":3,Ruins:3,School:2,Shepherd:2,Shopkeeper:3,Storehouse:3,Teacher:3,Theater:2,"Twig Barge":3,Undertaker:2,University:2,Wanderer:3,Wife:4,Woodcarver:3},"extra extra":{Carnival:2,Gazette:2,Juggler:3,"Scurrble Champion":3,"Scurrble Stadium":3,"Town Crier":2},legends:{"Amilla Glistendew":1,"Bridge of the Sky":1,"Cirrus Windfall":1,Foresight:1,"Fynn Nobletail":1,"McGregor's Market":1,"Oleander's Opera House":1,Poe:1,"Silver Scale Spring":1,"The Green Acorn":1},rugwort:{"Rugwort the Robber":1,"Rugwort the Rowdy":1,"Rugwort the Ruler":1}},l=(0,i.generateDefaultCardFrequencies)(a),c=[{name:"Architect",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Purple",unique:!0,cardNameFreeBonus:"Crane",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"architect",description:"1 coin for each of your unused resin and pebbles, to a maximum of 6.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Bard",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:0,cardType:"Critter",effectType:"Tan",unique:!1,cardNameFreeBonus:"Theater",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"bard",description:"You may discard up to 5 cards to gain 1 coin each.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Barge Toad",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"Twig Barge",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"bargetoad",description:"Gain 2 twigs for each Farm in your city.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Castle",cost:{twigs:2,resin:2,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:4,cardType:"Construction",effectType:"Purple",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"castle",description:"1 coin for each Common Construction in your city.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Cemetery",cost:{twigs:2,resin:0,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:0,cardType:"Construction",effectType:"Red",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"cemetery",description:"Reveal 4 cards from the deck or discard pile and play 1 for free. Discard the others.",occupied:!1,activeDestinations:0,maxDestinations:2,storage:null},{name:"Chapel",cost:{twigs:0,resin:2,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Red",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"chapel",description:"Place 1 coin on this Chapel, then draw 2 cards for each coin on this Chapel.",occupied:!1,activeDestinations:0,maxDestinations:1,storage:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0}},{name:"Chip Sweep",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"Resin Refinery",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"chipsweep",description:"Activate 1 green in your city.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Clock Tower",cost:{twigs:2,resin:1,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:0,cardType:"Construction",effectType:"Blue",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"clocktower",description:"When played, place 3 coins here. At the beginning of Preparing for Season, you may pay 1 coin from here to activate 1 of the Basic or Forest locations where you have a worker deployed.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:{twigs:0,resin:0,pebbles:0,berries:0,coins:3,cards:0,wildcards:0}},{name:"Courthouse",cost:{twigs:0,resin:2,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Blue",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"courthouse",description:"Gain 1 twig or 1 resin or 1 pebble after you play a Construction.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Crane",cost:{twigs:0,resin:0,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Blue",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"crane",description:"When playing a Construction, you may discard this Crane from your city to play that Construction for 3 fewer wildcards.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Doctor",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:4,cardType:"Critter",effectType:"Green",unique:!0,cardNameFreeBonus:"University",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"doctor",description:"You may pay up to 3 berries to gain 1 coin each.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Dungeon",cost:{twigs:0,resin:3,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:0,cardType:"Construction",effectType:"Blue",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"dungeon",description:"When playing a Construction or Critter, you may place a Critter from your city face-down beneath this Dungeon to decrease the cost by 3 wildcards.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Ever Tree",cost:{twigs:3,resin:3,pebbles:3,berries:0,coins:0,cards:0,wildcards:0},value:5,cardType:"Construction",effectType:"Purple",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"evertree",description:"1 coin for each purple in your city.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Fairgrounds",cost:{twigs:2,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:3,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"fairgrounds",description:"Draw 2 cards.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Farm",cost:{twigs:2,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"farm",description:"Gain 1 berry.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Fool",cost:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:-2,cardType:"Critter",effectType:"Tan",unique:!0,cardNameFreeBonus:"Fairgrounds",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"fool",description:"Play this Fool into an empty space in an opponent's city.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"General Store",cost:{twigs:2,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"generalstore",description:"Gain 1 berry. If you have a Farm in your city, gain 1 additional berry.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Historian",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Blue",unique:!1,cardNameFreeBonus:"Clock Tower",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"historian",description:"Draw 1 card after you play a Critter or Construction.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Husband",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"Farm",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"husband",description:"Gain 1 wildcard if paired with a Wife and you have at least 1 Farm in your city.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Inn",cost:{twigs:2,resin:2,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Red",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"inn",description:"Play a Critter or Construction from the Meadow for 3 fewer wildcards.",occupied:!1,activeDestinations:0,maxDestinations:1,storage:null},{name:"Innkeeper",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Blue",unique:!1,cardNameFreeBonus:"Inn",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"innkeeper",description:"When playing a Critter, you may discard this Innkeeper from your city to decrease the cost by 3 berries.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Judge",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Blue",unique:!0,cardNameFreeBonus:"Courthouse",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"judge",description:"When you play a Critter or Construction, you may replace 1 wildcard with 1 wildcard.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"King",cost:{twigs:0,resin:0,pebbles:0,berries:5,coins:0,cards:0,wildcards:0},value:4,cardType:"Critter",effectType:"Purple",unique:!0,cardNameFreeBonus:"Castle",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"king",description:"1 coin for each basic Event you achieved. 2 coins for each special Event you achieved.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Lookout",cost:{twigs:2,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Red",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"lookout",description:"Copy any Basic or Forest location.",occupied:!1,activeDestinations:0,maxDestinations:1,storage:null},{name:"Mine",cost:{twigs:0,resin:1,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"mine",description:"Gain 1 pebble.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Miner Mole",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"Mine",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"minermole",description:"Copy 1 green in an opponent's city.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Monastery",cost:{twigs:1,resin:1,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Red",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"monastery",description:"Give 2 wildcards to an opponent and gain 4 coins.",occupied:!1,activeDestinations:0,maxDestinations:2,storage:null},{name:"Monk",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:0,cardType:"Critter",effectType:"Green",unique:!0,cardNameFreeBonus:"Monastery",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"monk",description:"You may give up to 2 berries to an opponent to gain 2 coins each. Unlocks second Monastery.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Palace",cost:{twigs:2,resin:2,pebbles:2,berries:0,coins:0,cards:0,wildcards:0},value:4,cardType:"Construction",effectType:"Purple",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"palace",description:"1 coin for each Unique Construction in your city.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Peddler",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"Ruins",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"peddler",description:"You may pay up to 2 wildcards to gain an equal amount of 2 wildcards.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Postal Pigeon",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:0,cardType:"Critter",effectType:"Tan",unique:!1,cardNameFreeBonus:"Post Office",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"postalpigeon",description:"Reveal 2 cards. You may play 1 worth up to 3 coins for free. Discard the other.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Post Office",cost:{twigs:1,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Red",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"postoffice",description:"Give an opponent 2 cards, then discard any number of cards and draw up to your hand limit.",occupied:!1,activeDestinations:0,maxDestinations:1,storage:null},{name:"Queen",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:4,cardType:"Critter",effectType:"Red",unique:!0,cardNameFreeBonus:"Palace",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"queen",description:"Play a card worth up to 3 coins for free.",occupied:null,activeDestinations:0,maxDestinations:1,storage:null},{name:"Ranger",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Tan",unique:!0,cardNameFreeBonus:"Dungeon",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"ranger",description:"Move 1 of your deployed workers to a new location. Unlocks second Dungeon.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Resin Refinery",cost:{twigs:2,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"resinrefinery",description:"Gain 1 resin.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Ruins",cost:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:0,cardType:"Construction",effectType:"Tan",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"ruins",description:"Discard a Construction from your city. Gain resources equal to that Construction's cost and draw 2 cards.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"School",cost:{twigs:1,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Purple",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"school",description:"1 coin for each Common Critter in your city.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Shepherd",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Tan",unique:!0,cardNameFreeBonus:"Chapel",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"shepherd",description:"Gain 3 berries, then gain 1 coin for each coin on your Chapel.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Shopkeeper",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Blue",unique:!1,cardNameFreeBonus:"General Store",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"shopkeeper",description:"Gain 1 berry after you play a Critter.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Storehouse",cost:{twigs:2,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"storehouse",description:"Place either 3 twigs, 2 resin, 1 pebble, or 2 berries on this Storehouse from the supply. Take all resources on this card.",occupied:!1,activeDestinations:0,maxDestinations:1,storage:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0}},{name:"Teacher",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"School",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"teacher",description:"Draw 2 cards, keep 1, and give the other to an opponent.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Theater",cost:{twigs:2,resin:2,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:3,cardType:"Construction",effectType:"Purple",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"theater",description:"1 coin for each Unique Critter in your city.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Twig Barge",cost:{twigs:3,resin:1,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Green",unique:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"twigbarge",description:"Gain 2 twigs.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"Undertaker",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Tan",unique:!0,cardNameFreeBonus:"Cemetery",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"undertaker",description:"Discard 3 cards from the Meadow, replenish, then draw 1 card from the Meadow. Unlocks second Cemetery.",occupied:!1,activeDestinations:null,maxDestinations:null,storage:null},{name:"University",cost:{twigs:2,resin:1,pebbles:2,berries:0,coins:0,cards:0,wildcards:0},value:3,cardType:"Construction",effectType:"Red",unique:!0,cardNameFreeBonus:null,effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"university",description:"Discard a Critter or Construction from your city. Gain resources equal to that card's cost, then gain 1 wildcard and gain 1 coin.",occupied:!1,activeDestinations:0,maxDestinations:1,storage:null},{name:"Wanderer",cost:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Critter",effectType:"Tan",unique:!1,cardNameFreeBonus:"Lookout",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"wanderer",description:"Draw 3 cards.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Wife",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Purple",unique:!1,cardNameFreeBonus:"Farm",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"wife",description:"3 coins if paired with a Husband.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Woodcarver",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Green",unique:!1,cardNameFreeBonus:"Sotrehouse",effectTypeFreeBonus:null,workers:r.defaultPlayerCount,expansionName:"base",imageKey:"woodcarver",description:"You may pay up to 3 twigs to gain 1 coin each.",occupied:null,activeDestinations:null,maxDestinations:null,storage:null},{name:"Carnival",cost:{twigs:2,resin:0,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:1,cardType:"Construction",effectType:"Green",unique:!0,description:"Draw 1 card for each other green in your city or gain 1 point for every 2 other greens in your city.",expansionName:"extra extra",imageKey:"carnival",occupied:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Gazette",cost:{twigs:0,resin:2,pebbles:2,berries:0,coins:0,cards:0,wildcards:0},value:3,cardType:"Construction",effectType:"Blue",unique:!0,description:"Place 1 coin here each time you achieve an Event. If there are at least 3 coins here at the end of the game, gain 3 more coins.",expansionName:"extra extra",imageKey:"gazette",occupied:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:{twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0}},{name:"Juggler",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:0,cardType:"Critter",effectType:"Tan",unique:!1,description:"Pay 3 twigs to gain 4 coins or pay 1 twig to reveal 1 card from the deck as many times as you like. If the total base value of revealed cards is 6 or more, gain 6 coins. Discard all revealed cards.",expansionName:"extra extra",imageKey:"juggler",occupied:null,cardNameFreeBonus:"Carnival",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Scurrble Champion",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Purple",unique:!1,description:"May share a space with multiple Scurrble Champions. Gain 2 coins for each other Scurrble Champion in your city.",expansionName:"extra extra",imageKey:"scurrblechampion",occupied:null,cardNameFreeBonus:"Scurrble Stadium",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Scurrble Stadium",cost:{twigs:1,resin:1,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Red",unique:!1,description:"Name a non-green card color and draw 4 cards. If any of the drawn cards match the named color, gain 3 coins.",expansionName:"extra extra",imageKey:"scurrblestadium",occupied:!1,cardNameFreeBonus:null,effectTypeFreeBonus:null,activeDestinations:0,maxDestinations:1,workers:r.defaultPlayerCount,storage:null},{name:"Town Crier",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Green",unique:!0,description:"You may give 2 cards to an opponent. If you do, gain 3 coins.",expansionName:"extra extra",imageKey:"towncrier",occupied:null,cardNameFreeBonus:"Gazette",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Amilla Glistendew",cost:{twigs:0,resin:0,pebbles:0,berries:6,coins:0,cards:0,wildcards:0},value:5,cardType:"Critter",effectType:"Red",unique:!0,description:"Achieve an Event, even if you don't meet the listed requirements.",expansionName:"legends",imageKey:"amillaglistendew",occupied:null,cardNameFreeBonus:"Queen",effectTypeFreeBonus:null,activeDestinations:0,maxDestinations:1,workers:r.defaultPlayerCount,storage:null},{name:"Bridge of the Sky",cost:{twigs:0,resin:0,pebbles:2,berries:0,coins:0,cards:0,wildcards:0},value:0,cardType:"Construction",effectType:"Blue",unique:!0,description:"May not be used with any other card-playing ability. You may play 1 Construction for \u20133 wildcards, then place it on top of this card. \u2605 is equal to the coin value of the Construction on top of this card.",expansionName:"legends",imageKey:"bridgeofthesky",occupied:!1,cardNameFreeBonus:"Crane",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Cirrus Windfall",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:4,cardType:"Critter",effectType:"Tan",unique:!0,description:"You may play 1 card worth up to 3 coins for free.",expansionName:"legends",imageKey:"cirruswindfall",occupied:null,cardNameFreeBonus:"Postal Pigeon",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Foresight",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:4,cardType:"Critter",effectType:"Blue",unique:!0,description:"Draw 2 cards after you play a Critter. Gain 1 wildcard after you play a Construction.",expansionName:"legends",imageKey:"foresight",occupied:null,cardNameFreeBonus:"Historian",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Fynn Nobletail",cost:{twigs:0,resin:0,pebbles:0,berries:7,coins:0,cards:0,wildcards:0},value:5,cardType:"Critter",effectType:"Purple",unique:!0,description:"2 coins for each basic Event you achieved. 3 coins for each special Event you achieved.",expansionName:"legends",imageKey:"fynnnobletail",occupied:null,cardNameFreeBonus:"King",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"McGregor's Market",cost:{twigs:2,resin:2,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:4,cardType:"Construction",effectType:"Green",unique:!0,description:"Gain 2 wildcards.",expansionName:"legends",imageKey:"mcgregorsmarket",occupied:!1,cardNameFreeBonus:"Farm",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Oleander's Opera House",cost:{twigs:3,resin:2,pebbles:2,berries:0,coins:0,cards:0,wildcards:0},value:4,cardType:"Construction",effectType:"Purple",unique:!0,description:"2 coins for each Unique Critter in your city.",expansionName:"legends",imageKey:"oleandersoperahouse",occupied:!1,cardNameFreeBonus:"Theater",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Poe",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:4,cardType:"Critter",effectType:"Green",unique:!0,description:"Discard any number of cards, then draw up to your hand limit.",expansionName:"legends",imageKey:"poe",occupied:null,cardNameFreeBonus:"Teacher",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Silver Scale Spring",cost:{twigs:0,resin:0,pebbles:1,berries:0,coins:0,cards:0,wildcards:0},value:2,cardType:"Construction",effectType:"Tan",unique:!0,description:"Play this card under a Construction in your city. Gain that Construction's cost in resources and draw 2 cards.",expansionName:"legends",imageKey:"silverscalespring",occupied:!1,cardNameFreeBonus:"Ruins",effectTypeFreeBonus:null,activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"The Green Acorn",cost:{twigs:3,resin:3,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},value:4,cardType:"Construction",effectType:"Red",unique:!0,description:"Play a Critter or Construction for 4 fewer wildcards.",expansionName:"legends",imageKey:"thegreenacorn",occupied:!1,cardNameFreeBonus:"Inn",effectTypeFreeBonus:null,activeDestinations:0,maxDestinations:1,workers:r.defaultPlayerCount,storage:null},{name:"Rugwort the Robber",cost:{twigs:0,resin:0,pebbles:0,berries:2,coins:0,cards:0,wildcards:0},value:0,cardType:"Critter",effectType:"Green",unique:!0,description:"Swap hands with an opponent.",expansionName:"rugwort",imageKey:"rugworttherobber",occupied:null,cardNameFreeBonus:null,effectTypeFreeBonus:["Blue","Green","Purple","Red","Tan"],activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Rugwort the Rowdy",cost:{twigs:0,resin:0,pebbles:0,berries:3,coins:0,cards:0,wildcards:0},value:0,cardType:"Critter",effectType:"Green",unique:!0,description:"Take an Event from an opponent\u2019s city and play it into your city for free. Then play Rugwort the Rowdy into that opponent\u2019s city. Discard 2 cards (must activate).",expansionName:"rugwort",imageKey:"rugworttherowdy",occupied:null,cardNameFreeBonus:null,effectTypeFreeBonus:["Green"],activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null},{name:"Rugwort the Ruler",cost:{twigs:0,resin:0,pebbles:0,berries:4,coins:0,cards:0,wildcards:0},value:2,cardType:"Critter",effectType:"Purple",unique:!0,description:"Gain 1 point for each Event achieved by an opponent.",expansionName:"rugwort",imageKey:"rugworttheruler",occupied:null,cardNameFreeBonus:null,effectTypeFreeBonus:["Purple"],activeDestinations:null,maxDestinations:null,workers:r.defaultPlayerCount,storage:null}]},2540:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/scurrblestadium.745901790d28d847be84.jpg"},2551:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/generalstore.26a4630c1eaa8d93076e.jpg"},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{A:()=>o})},2602:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/minermole.10b437a3d9ec3b6f5ed4.jpg"},2741:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pebble.2aafde9a7d42cb8eb191.png"},2749:(e,t,n)=>{"use strict";n.r(t),n.d(t,{renderActiveExpansions:()=>y,renderNumberList:()=>h,renderPlacedCharacters:()=>u,renderPowersEnabled:()=>v,renderTextWithIcons:()=>g,renderVisitButtons:()=>d,renderVisitingWorkers:()=>c});var r=n(8417),i=n(4807),a=n(5545),s=n(6588),o=n(7887),l=n(579);function c(e){return(0,l.jsxs)("div",{className:"flex h-6 gap-2 justify-center",children:[e.workers.Red>0&&(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.WorkerIcon,{playerColor:"Red"})," ",e.workers.Red]}),e.workers.Blue>0&&(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.WorkerIcon,{playerColor:"Blue"})," ",e.workers.Blue]})]})}function u(e){return e.characters&&(0,o.countCharactersOnLocation)(e)>0&&(0,l.jsx)("div",{className:"flex h-6 content-center gap-2",children:a.CHARACTER_TYPE_ORDER.map((t=>e.characters[t]>0&&(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.CharacterIcon,{character:t})," ",e.characters[t]]})))})}function d(e,t,n,i,a,s){return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.default,{disabled:e,onClick:n,children:"Visit"}),(0,l.jsx)(r.default,{disabled:t,onClick:i,children:"Leave"}),s&&(0,l.jsx)(r.default,{disabled:a,onClick:s,variant:"rare",children:"Achieve"})]})}function h(e){return e.join(", ")}const f={twig:"twigs",pebble:"pebbles",berry:"berries",coin:"coins",card:"cards",wildcard:"wildcards"},p={blues:"Blue",greens:"Green",purples:"Purple",reds:"Red",tans:"Tan"},m={rat:"rat",spider:"spider"};function g(e){return e.split(/(\s+|[.,;!?]+)/).map(((e,t)=>{const n=e.toLowerCase().replace(/[^a-z]/g,"");if(a.RESOURCE_ORDER.includes(n))return(0,l.jsx)(i.ResourceIcon,{type:n},t);if(n in f)return(0,l.jsx)(i.ResourceIcon,{type:f[n]},t);if(a.EFFECT_ORDER.map((e=>e.toLowerCase())).includes(n)){const e=n.charAt(0).toUpperCase()+n.slice(1);return(0,l.jsx)(i.EffectTypeIcon,{type:e},t)}return n in p?(0,l.jsx)(i.EffectTypeIcon,{type:p[n]},t):n in m?(0,l.jsx)(i.CharacterIcon,{character:m[n]},t):e}))}function y(e){return(0,l.jsxs)("div",{className:"text-sm flex gap-1",children:[(0,l.jsx)("p",{className:"font-semibold",children:"Active expansions: "}),(0,l.jsx)("p",{children:e.map(s.formatExpansionName).sort().join(", ")})]})}function v(e){return(0,l.jsxs)("div",{className:"text-sm flex gap-1",children:[(0,l.jsx)("p",{className:"font-semibold",children:"Powers:"}),(0,l.jsx)("p",{children:e?"Enabled":"Disabled"})]})}},2756:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(7248),i=n(9924),a=n(8948),s=n(7887),o=n(2749),l=n(4807),c=n(5889),u=n(579);const d=function(e){var t,n;let{specialEvent:d,onClose:h,index:f}=e;const{game:p,visitSpecialEvent:m,achieveSpecialEvent:g}=(0,r.useGame)(),y=(0,a.getPlayerId)(),v=(0,a.getPlayerColor)(p,y),b=(0,i.isNotYourTurn)(p,y),w=v&&(0,i.canVisitSpecialEvent)(p,d,v,1),E=v&&(0,i.canVisitSpecialEvent)(p,d,v,-1),C=v&&(0,i.canAchieveSpecialEvent)(p,d,v),S=Object.entries(d.effectTypeRequirement).filter((e=>{let[t,n]=e;return n>0}));return(0,u.jsx)(c.default,{onClose:h,children:(0,u.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto min-w-96 gap-6 max-h-[100%] items-center",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold",children:d.name}),((null===(t=d.cardRequirement)||void 0===t?void 0:t.length)>0||S.length>0)&&(0,u.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,u.jsx)("strong",{className:"m-0 mb-1",children:"Requirements:"}),(null===(n=d.cardRequirement)||void 0===n?void 0:n.length)>0&&(0,u.jsx)("span",{children:(0,s.listCardNames)(d.cardRequirement)}),S.length>0&&(0,u.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,s.mapOverEffectTypes)(d.effectTypeRequirement,((e,t)=>(0,u.jsxs)("div",{className:"flex items-center gap-1",children:[(0,u.jsx)(l.EffectTypeIcon,{type:e})," ",t]},e)))})]}),d.specialDescription&&(0,u.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,u.jsx)("strong",{children:"When achieved..."}),(0,u.jsx)("p",{className:"m-0 flex items-center gap-1",children:(0,o.renderTextWithIcons)(d.specialDescription)})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,u.jsx)("strong",{children:"Reward:"}),d.specialReward&&(0,u.jsx)("p",{className:"m-0 flex items-center gap-1",children:(0,o.renderTextWithIcons)(d.specialReward)}),d.value&&(0,u.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,u.jsx)(l.ResourceIcon,{type:"coins"}),d.value]})]}),(0,u.jsxs)("div",{className:"flex flex-col items-center h-6",children:[(0,o.renderVisitButtons)(b||!w,b||!E,(()=>m(y,f,1)),(()=>m(y,f,-1)),p.activeExpansions.includes("legends")?b||!C:void 0,p.activeExpansions.includes("legends")?()=>g(y,f):void 0),(0,o.renderVisitingWorkers)(d)]})]})})}},2771:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/gazette.bbfde5641e4bbfed7d03.jpg"},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2824:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},2869:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/innkeeper.44ee269c804b8d84c169.jpg"},2974:(e,t,n)=>{"use strict";n.r(t);var r=n(5043),i=n(4391),a=n(1242),s=n(7391),o=(n(9555),n(9479)),l=n(579);i.createRoot(document.getElementById("root")).render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(a.I9,{children:(0,l.jsx)(o.default,{children:(0,l.jsx)(s.default,{})})})}))},3e3:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var r=n(1242),i=n(2252),a=n(6951),s=n(8090),o=n(9186),l=n(4807),c=n(3182),u=n(8355),d=n(8375),h=n(9814),f=n(8221),p=n(9261),m=n(7248),g=n(9924),y=n(8948),v=n(8490),b=n(7887),w=n(2101),E=n(579);const C=e=>{let{title:t,titleColor:n="",children:r}=e;return(0,E.jsxs)("section",{className:"flex-0-1-auto min-w-0 overflow-x-auto",children:[(0,E.jsx)("h3",{className:"flex items-center gap-0.5 font-bold ".concat(n),children:t}),(0,E.jsx)("div",{className:"flex flex-1 overflow-y-hidden",style:{scrollbarWidth:"thin"},children:r})]})},S=e=>{let{title:t,titleColor:n="",children:r}=e;return(0,E.jsxs)("section",{children:[(0,E.jsx)("h3",{className:"flex items-center gap-0.5 font-bold ".concat(n),children:t}),r]})};const A=function(){var e;const{game:t}=(0,m.useGame)(),{gameId:n}=(0,r.g)(),A=(0,y.getPlayerId)(),T=null!==(e=(0,y.getPlayerColor)(t,A))&&void 0!==e?e:t.turn,x=null===(0,y.getPlayerColor)(t,A),k=t.players[T],I=t.players[(0,g.oppositePlayerOf)(T)];return(0,E.jsxs)("div",{className:"flex flex-row w-full h-screen p-0",children:[(0,E.jsx)("div",{className:"h-screen",children:(0,E.jsx)(f.default,{gameId:n})}),(0,E.jsxs)("div",{className:"flex-1 p-4 flex flex-col gap-3 min-w-0 bg-play-area ml-sidebar",children:[(0,E.jsxs)("div",{className:"flex gap-8",children:[(0,E.jsx)(C,{title:"Locations",children:(0,E.jsx)(d.default,{})}),"Autumn"===t.players[t.turn].season&&(0,E.jsx)(C,{title:"Journeys",children:(0,E.jsx)(c.default,{})})]}),(0,E.jsxs)("div",{className:"flex gap-8",children:[(0,E.jsx)(C,{title:"Basic Events",children:(0,E.jsx)(s.default,{})}),(0,E.jsx)(C,{title:"Special Events",children:(0,E.jsx)(p.default,{})})]}),!x&&(0,E.jsxs)("div",{className:"flex gap-8",children:[(0,E.jsx)(C,{title:"Hand",titleColor:(0,v.stylePlayerColor)(T),children:(0,E.jsx)(o.default,{color:T})}),t.activeExpansions.includes("legends")&&(0,E.jsx)(C,{title:"Legends",titleColor:(0,v.stylePlayerColor)(T),children:(0,E.jsx)(u.default,{color:T})})]}),(0,E.jsxs)("div",{className:"flex gap-8",children:[(0,E.jsx)(C,{title:"Meadow",children:(0,E.jsx)(h.default,{})}),(0,g.isFarmStackEnabled)(t)&&(0,E.jsx)(C,{title:"Farms (".concat(t.farmStack.length,")"),children:(0,E.jsx)(w.default,{})})]}),(0,E.jsx)(S,{title:(0,E.jsxs)(E.Fragment,{children:[x?"".concat(T,"'s"):"My"," City (",(0,E.jsx)(l.ResourceIcon,{type:"coins"})," ",(0,b.countCardValue)(k.city),")"]}),titleColor:(0,v.stylePlayerColor)(T),children:(0,E.jsx)(i.default,{color:T})}),(0,E.jsx)(S,{title:(0,E.jsxs)(E.Fragment,{children:[x?"".concat((0,g.oppositePlayerOf)(T),"'s"):"Opponent"," ","City (",(0,E.jsx)(l.ResourceIcon,{type:"coins"})," ",(0,b.countCardValue)(I.city),")"]}),titleColor:(0,v.stylePlayerColor)((0,g.oppositePlayerOf)(T)),children:(0,E.jsx)(i.default,{color:(0,g.oppositePlayerOf)(T)})}),(0,E.jsx)(S,{title:"Discard",children:(0,E.jsx)(a.default,{})})]})]})}},3144:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/tantype.22606d4e30d6aece4ade.png"},3163:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/resin.cec5fd7d594d86eec2a3.png"},3181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(5043),i=n(2484),a=n(9291),s=n(8417),o=n(5059),l=n(443),c=n(7766),u=n(6588),d=n(8652),h=n(2749),f=n(579);const p=e=>{var t;let{card:n,frequency:r,updateCardFrequency:a,setPreviewedCard:o}=e;const l=n.name,c=n.expansionName;return(0,f.jsxs)("div",{className:"flex items-center justify-between bg-white/5 rounded p-3 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>o(n),children:[(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("h3",{className:"font-medium text-white",children:l}),(0,f.jsxs)("p",{className:"text-sm text-green-200",children:["(Default: ",null!==(t=i.BASE_CARD_FREQUENCIES[c][l])&&void 0!==t?t:1,")"]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("input",{type:"number",min:"1",max:"20",value:r,onChange:e=>{const t=parseInt(e.target.value)||1;t>=1&&(a(l,c,t),o(n))},className:"w-16 px-2 py-1 text-center bg-white/20 text-white rounded border border-white/30",onClick:e=>e.stopPropagation()}),(0,f.jsx)(s.default,{variant:"danger",onClick:e=>{e.stopPropagation(),a(l,c,0),o(n)},children:"Ban"})]})]},l)},m=e=>{var t;let{card:n,restoreCard:r,setPreviewedCard:a}=e;const o=n.name,l=n.expansionName;return(0,f.jsxs)("div",{className:"flex items-center justify-between bg-red-500/20 rounded p-3 cursor-pointer hover:bg-red-500/30 transition-colors",onClick:()=>a(n),children:[(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("h3",{className:"font-medium text-white",children:o}),(0,f.jsxs)("p",{className:"text-sm text-red-200",children:["(Default: ",null!==(t=i.BASE_CARD_FREQUENCIES[l][o])&&void 0!==t?t:1,")"]})]}),(0,f.jsx)(s.default,{variant:"default",onClick:e=>{e.stopPropagation(),r(o,l),a(n)},children:"Restore"})]},o)},g=e=>{let{card:t}=e;if(!t)return(0,f.jsx)("div",{className:"p-8 text-center",children:(0,f.jsx)("p",{className:"italic",children:"Click on a card to preview it"})});const r=t.name;return(0,f.jsx)("div",{className:"text-center flex justify-center w-full h-full min-h-[300px]",children:(0,f.jsx)("img",{src:n(5538)("./".concat((0,u.getCardPath)(t.expansionName,t.imageKey))),alt:r,className:"max-w-[100%] max-h-[375px] object-contain rounded-lg bg-neutral-800 transition-opacity duration-0"})})},y=()=>{const{cardFrequencies:e,activeExpansions:t,powersEnabled:n,updateCardFrequency:y,toggleExpansion:v,togglePowersEnabled:b,resetToDefaults:w,isModified:E}=(0,l.useCardManagement)(),[C,S]=(0,r.useState)(null),A=(e,t)=>{var n;(0,u.findCard)(e)&&y(e,t,null!==(n=i.BASE_CARD_FREQUENCIES[t][e])&&void 0!==n?n:1)},T=(0,u.getActiveCards)(e),x=(0,u.getBannedCards)(e),k=T.reduce(((e,t)=>{let[n,r]=t;return e+Object.values(r).reduce(((e,t)=>e+t),0)}),0),I=x.reduce(((e,t)=>{let[n,r]=t;return e+Object.keys(r).reduce(((e,t)=>{var r,a;return e+(null!==(r=null===(a=i.BASE_CARD_FREQUENCIES[n])||void 0===a?void 0:a[t])&&void 0!==r?r:1)}),0)}),0);return(0,f.jsx)("div",{className:"min-h-screen",children:(0,f.jsxs)("div",{className:"max-w-7xl mx-auto p-4 flex flex-col h-screen gap-6",children:[(0,f.jsx)("div",{className:"flex justify-between items-center",children:(0,f.jsx)(o.default,{link:d.HOME_PATH,displayText:"Back to Home",arrow:"backward"})}),(0,f.jsx)(a.default,{displayText:E?"Using custom card frequencies":"Using default card frequencies",secondaryDisplay:(0,h.renderActiveExpansions)(t),tertiaryDisplay:(0,h.renderPowersEnabled)(n),variant:E?"warning":"info",visible:!0}),(0,f.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,f.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[(0,f.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4",children:["Active Cards (",k,")"]}),(0,f.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(()=>{const e=(0,u.groupCardsByExpansion)(T);return Object.keys(e).map((e=>e)).sort().map((t=>(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-1",children:(0,u.formatExpansionName)(t)}),(0,f.jsx)("div",{className:"space-y-2 ml-4",children:e[t].sort(((e,t)=>e.card.name.localeCompare(t.card.name))).map((e=>{let{card:t,frequency:n}=e;return(0,f.jsx)(p,{card:t,frequency:n,updateCardFrequency:y,setPreviewedCard:S},t.name)}))})]},t)))})()})]}),(0,f.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[(0,f.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4",children:["Banned Cards (",I,")"]}),(0,f.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===x.length?(0,f.jsx)("p",{className:"italic text-center py-8",children:"No cards are currently banned"}):(()=>{const e=(0,u.groupCardsByExpansion)(x);return Object.keys(e).map((e=>e)).sort().map((t=>(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-1",children:(0,u.formatExpansionName)(t)}),(0,f.jsx)("div",{className:"space-y-2 ml-4",children:e[t].sort(((e,t)=>e.card.name.localeCompare(t.card.name))).map((e=>{let{card:t}=e;return(0,f.jsx)(m,{card:t,restoreCard:A,setPreviewedCard:S},t.name)}))})]},t)))})()})]}),(0,f.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Card Preview"}),(0,f.jsx)(g,{card:C})]})]}),(0,f.jsxs)("div",{className:"mt-6 bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,f.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,f.jsx)(s.default,{variant:"important",onClick:w,disabled:!E,children:"Reset to Defaults"}),(0,f.jsx)(s.default,{variant:n?"danger":"important",onClick:b,children:n?"Disable powers":"Enable powers"}),c.EXPANSION_NAMES.map((e=>(0,f.jsx)(s.default,{variant:t.includes(e)?"danger":"important",onClick:()=>{const n=!t.includes(e);v(e),i.rawCards.filter((t=>t.expansionName===e)).forEach((t=>{y(t.name,t.expansionName,n?i.BASE_CARD_FREQUENCIES[e][t.name]:0)}))},children:t.includes(e)?"Exclude "+(0,u.formatExpansionName)(e)+" Expansion":"Include "+(0,u.formatExpansionName)(e)+" Expansion"},e)))]})]})]})})}},3182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(7248),i=n(9924),a=n(8948),s=n(2749),o=n(4807),l=n(8375),c=n(579);function u(e){let{journey:t,index:n}=e;const{game:u,visitJourney:d}=(0,r.useGame)(),h=(0,a.getPlayerId)(),f=(0,a.getPlayerColor)(u,h),p=(0,i.isNotYourTurn)(u,h),m=f&&(0,i.canVisitJourney)(u,t,f,1),g=f&&(0,i.canVisitJourney)(u,t,f,-1);return(0,c.jsx)(l.BaseLocationDisplay,{exclusive:t.exclusive,buttonChildren:(0,s.renderVisitButtons)(p||!m,p||!g,(()=>d(h,n,1)),(()=>d(h,n,-1))),workerChildren:(0,s.renderVisitingWorkers)(t),resourceChildren:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.ResourceIcon,{type:"cards"})," ","-".concat(t.discardCount),"\u2192",(0,c.jsx)(o.ResourceIcon,{type:"coins"})," ",t.value]})})}const d=function(){const{game:e}=(0,r.useGame)();return(0,c.jsx)("div",{className:"flex gap-2",children:e.journeys.map(((e,t)=>(0,c.jsx)(u,{journey:e,index:t})))})}},3187:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(7248),i=n(9924),a=n(7887),s=n(8490),o=n(4807),l=n(579);function c(e){let{children:t}=e;return(0,l.jsx)("li",{className:"mb-1 list-none list-inside",children:t})}function u(e){var t,n,i,u,d,h,f,p,m,g;let{history:y,color:v}=e;const{game:b}=(0,r.useGame)(),w=b.players[v],E=w.season!==y.season,C=(0,a.computeResourceDelta)(y.resources,w.resources),S=w.workers.workersLeft-y.workers.workersLeft,A=e=>(0,a.listCardNames)(e.map((e=>e.name))),T=(null===(t=y.played)||void 0===t?void 0:t.length)>0||(null===(n=y.drew)||void 0===n?void 0:n.length)>0||(null===(i=y.gave)||void 0===i?void 0:i.length)>0||(null===(u=y.discarded)||void 0===u?void 0:u.length)>0||(null===(d=y.cityDiscarded)||void 0===d?void 0:d.length)>0||E||0!==S||Object.values(C).some((e=>0!==e));return w.name?(0,l.jsxs)("div",{className:"text-sm p-2",children:[(0,l.jsx)("strong",{className:"".concat((0,s.stylePlayerColor)(v)),children:w.name}),(0,l.jsxs)("ul",{className:"mt-2 ml-1 p-0",children:[E&&(0,l.jsxs)(c,{children:["Advanced to"," ",(0,l.jsx)("strong",{className:"".concat((0,s.styleSeasonColor)(w.season)),children:w.season})]}),(null===(h=y.played)||void 0===h?void 0:h.length)>0&&(0,l.jsxs)(c,{children:[(0,l.jsx)("strong",{children:"Played:"})," ",A(y.played)]}),(null===(f=y.cityDiscarded)||void 0===f?void 0:f.length)>0&&(0,l.jsxs)(c,{children:[(0,l.jsx)("strong",{children:"City discarded:"})," ",A(y.cityDiscarded)]}),(null===(p=y.gave)||void 0===p?void 0:p.length)>0&&(0,l.jsxs)(c,{children:[(0,l.jsx)("strong",{children:"Gave:"})," ",A(y.gave)]}),(null===(m=y.drew)||void 0===m?void 0:m.length)>0&&(0,l.jsxs)(c,{children:[(0,l.jsx)("strong",{children:"Drew:"})," ",y.drew.length," card",1!==y.drew.length?"s":""]}),(null===(g=y.discarded)||void 0===g?void 0:g.length)>0&&(0,l.jsxs)(c,{children:[(0,l.jsx)("strong",{children:"Discarded:"})," ",y.discarded.length," card",1!==y.discarded.length?"s":""]}),0!==S&&(0,l.jsx)(c,{children:(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(o.WorkerIcon,{playerColor:v})," ",S>0?"+":"",S]})}),Object.values(C).some((e=>0!==e))&&(0,l.jsx)(c,{children:(0,l.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,a.mapOverResources)(C,((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(o.ResourceIcon,{type:e})," ",t>0?"+":"",t]},e)),!0)})}),!T&&(0,l.jsx)("div",{className:"italic",children:"No actions made"})]})]}):null}const d=function(e){let{playerColor:t}=e;const{game:n}=(0,r.useGame)();return(0,l.jsxs)("div",{className:"flex flex-col gap-1 rounded-s bg-log",children:[(0,l.jsx)(u,{history:n.players[t].history,color:t}),(0,l.jsx)(u,{history:n.players[(0,i.oppositePlayerOf)(t)].history,color:(0,i.oppositePlayerOf)(t)})]})}},3258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(5043),i=n(1242),a=n(5472),s=n(7248),o=n(579);const l=e=>{let{children:t}=e;const{gameId:n}=(0,i.g)(),[l,c]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(!n)return;const e=(0,a.H9)((0,a.aU)(),"games/".concat(n)),t=(0,a.aQ)(e,(e=>{const t=e.data();t&&c(t)}));return()=>t()}),[n]),l&&n?(0,o.jsx)(s.GameProvider,{game:l,gameId:n,children:t}):(0,o.jsx)("div",{children:"Loading game..."})}},3285:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/silverscalespring.ebeb2198c46b02b10c1f.jpg"},3291:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/husband.1a15420e37d034427546.jpg"},3317:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/redtype.7e057881a4cc508a96c6.png"},3457:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mine.394e07f2fdc2f04d1b2a.jpg"},3495:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/background.a40d28dce6a079aa06c0.png"},3566:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rugworttherobber.d6381a20010ac268ed01.jpg"},3587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(2749),i=n(8417),a=n(4346),s=n(579);const o=e=>{let{player:t,isYou:n}=e;const r=t.color,i=t.id?"".concat(n?"(Me) ":"").concat(t.name):r,o=t.id?t.id:"Open Slot";return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold ".concat({Red:"text-player-red",Blue:"text-player-blue"}[r]),children:i}),(0,s.jsx)(a.default,{id:o})]})};const l=function(e){let{list:t,playerId:n,onJoinGame:l,onRejoinGame:c,onSpectateGame:u,onDeleteGame:d}=e;const h=!n;return(0,s.jsx)("ul",{className:"list-none p-0 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 overflow-y-auto pr-2 ",children:t.map((e=>{let{id:t,game:f}=e;const p=f.players.Red,m=f.players.Blue,g=n&&[p.id,m.id].includes(n),y=!p.id,v=!m.id;return(0,s.jsxs)("li",{className:"border-container-border bg-container rounded-lg p-4 flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,s.jsx)("strong",{children:"Game ID:"}),(0,s.jsx)(a.default,{id:t})]}),(0,s.jsxs)("div",{children:[(0,r.renderActiveExpansions)(f.activeExpansions),(0,r.renderPowersEnabled)(f.powersEnabled)]}),(0,s.jsxs)("div",{className:"flex justify-between min-h-[40px] mt-2",children:[(0,s.jsx)(o,{player:p,isYou:n===p.id}),(0,s.jsx)(o,{player:m,isYou:n===m.id})]}),(0,s.jsx)("div",{className:"flex justify-between items-end gap-3 mt-auto pt-3 border-t border-container-border",children:(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[y&&!g&&(0,s.jsx)(i.default,{onClick:()=>l(t,"Red"),disabled:h,variant:"important",children:"Join as Red"}),v&&!g&&(0,s.jsx)(i.default,{onClick:()=>l(t,"Blue"),disabled:h,variant:"important",children:"Join as Blue"}),g&&(0,s.jsx)(i.default,{onClick:()=>c(t),variant:"important",children:"Rejoin"}),!g&&(0,s.jsx)(i.default,{onClick:()=>u(t),children:"Spectate"}),(0,s.jsx)(i.default,{onClick:()=>d(t),disabled:h,variant:"danger",children:"Delete"})]})})]},t)}))})}},3692:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/foresight.34f0c7828541992f3e35.jpg"},3759:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2555),i=n(5043),a=n(579);const s=function(e){let{children:t,isInteractive:n,onLeftClick:s,onRightClick:o,style:l}=e;const[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{onMouseEnter:()=>h(n),onMouseLeave:()=>h(!1),onMouseDown:e=>{0!==e.button||c||void 0===s||s()},onContextMenu:e=>{e.preventDefault(),u(n),h(!1)},style:(0,r.A)({cursor:n?"pointer":"default",transition:"transform 0.1s ease, filter 0.1s ease",transform:n&&d?"scale(1.02)":"scale(1)",filter:n&&d?"brightness(1.10)":"brightness(1)"},l),children:t}),c&&o&&o((()=>u(!1)))]})}},3774:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bluetype.e6fd79fe0ca5d51877c1.png"},3791:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(2555),i=n(5043),a=n(7248),s=n(5545),o=n(6588),l=n(9924),c=n(8948),u=n(7887),d=n(2749),h=n(8417),f=n(4807),p=n(5889),m=n(579);const g=function(e){let{card:t,index:g,cityColor:y,onClose:v,location:b}=e;const{game:w,visitCardInCity:E,addResourcesToCardInCity:C,toggleOccupiedCardInCity:S,moveCardBelowInCity:A,playToOppositeCity:T,playCard:x,placeCharacterOnCardInMeadow:k}=(0,a.useGame)(),[I,R]=(0,i.useState)(!1),_=(0,c.getPlayerId)(),P=(0,c.getPlayerColor)(w,_),N=(0,l.isNotYourTurn)(w,_),D=P&&(0,l.canVisitCardInCity)(w,t,P,1),O=P&&(0,l.canVisitCardInCity)(w,t,P,-1),L=P&&(0,l.canPlayToOppositeCity)(w,P,t),j=null!==t&&void 0!==t&&t.occupied?"text-cardPreviewOutline-occupied":"text-text";return(0,m.jsxs)(p.default,{onClose:v,children:[(0,m.jsx)("img",{src:n(5538)("./".concat((0,o.getCardPath)(t.expansionName,t.imageKey))),alt:t.name,className:"w-[30vw] object-contain transition-opacity duration-0 ".concat(I?"opacity-100":"opacity-0"),onLoad:()=>R(!0)}),(0,m.jsxs)("div",{className:"flex flex-1 flex-col gap-4 overflow-y-auto w-[20vw] min-w-[20%]",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold",children:t.name}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Expansion:"})," ",(0,o.formatExpansionName)(t.expansionName)]}),void 0!==t.value&&(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Point value:"})," ","Dungeon"===t.below?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("s",{children:t.value})," 0"]}):t.value]}),"city"!==b&&(0,m.jsx)("div",{children:(0,m.jsx)(h.default,{disabled:N,onClick:()=>{x(_,b,g),v()},children:"Play"})}),"city"===b&&null!==t.occupied&&y?(0,m.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,m.jsx)("strong",{className:j,children:"Occupied:"}),(0,m.jsx)(h.default,{disabled:N,onClick:()=>S(_,y,g,!t.occupied),children:t.occupied?"Yes":"No"})]}):(0,m.jsx)(m.Fragment,{}),"city"===b&&null!==t.below&&(0,m.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,m.jsx)("strong",{className:"text-text",children:"Below:"}),(0,m.jsx)("span",{children:t.below})]}),"city"===b&&y&&(0,m.jsxs)("div",{className:"flex flex-col items-center text-center gap-2",children:[w.players[y].city.filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t)).map((e=>(0,l.canMoveCardBelowInCity)(w,y,t,e)?(0,m.jsxs)(h.default,{onClick:()=>{A(_,g,e),v()},children:["Move below ",e.name]}):(0,m.jsx)(m.Fragment,{}))),(0,l.canMoveCardBelowInCity)(w,y,t,null)&&(0,m.jsxs)(h.default,{onClick:()=>{A(_,g,null),v()},children:["Move off of ",t.below]})]}),"city"===b&&y&&L&&(0,m.jsx)("div",{className:"flex justify-center",children:(0,m.jsx)(h.default,{onClick:()=>{T(_,g),v()},children:"Play to opposite city"})}),"city"===b&&t.storage&&(0,m.jsx)("div",{className:"grid grid-cols-2 gap-4 mx-auto",children:(0,u.mapOverResources)(t.storage,((e,t)=>"cards"===e||"wildcards"===e?(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,m.jsxs)("div",{className:"flex items-center gap-0",children:[(0,m.jsx)(f.ResourceIcon,{type:e}),(0,m.jsx)("span",{children:t})]}),(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(h.default,{disabled:N,onClick:()=>C(_,w.turn,g,(0,r.A)((0,r.A)({},s.defaultResources),{},{[e]:-1})),children:"-"}),(0,m.jsx)(h.default,{disabled:N,onClick:()=>C(_,w.turn,g,(0,r.A)((0,r.A)({},s.defaultResources),{},{[e]:1})),children:"+"})]})]},e)),!1)}),"city"===b&&null!=t.maxDestinations&&null!=y&&(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,d.renderVisitButtons)(N||!D,N||!O,(()=>E(_,y,g,1)),(()=>E(_,y,g,-1))),t.workers&&(0,d.renderVisitingWorkers)(t)]}),"meadow"===b&&t.characters&&P&&(0,m.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,u.mapOverCharacters)((e=>(0,l.canPlaceCharacterOnLocation)(w,t,P,1,e)?(0,m.jsxs)("div",{children:[(0,m.jsx)(h.default,{disabled:N||!(0,l.canPlaceCharacterOnLocation)(w,t,P,1,e),onClick:()=>k(_,g,1,e),children:"Place ".concat(e)}),(0,m.jsx)(h.default,{disabled:N||!(0,l.canPlaceCharacterOnLocation)(w,t,P,-1,e),onClick:()=>k(_,g,-1,e),children:"Remove"})]}):(0,m.jsx)(m.Fragment,{}))),(0,d.renderPlacedCharacters)(t)]})]})]})}},3917:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lookout.f484c4b941ae20f06c6c.jpg"},4068:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/school.553bbf747f6c19add217.jpg"},4114:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fynnnobletail.4a915fc4aff6d6d21c67.jpg"},4174:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/towncrier.eac466120df6fc9df2c6.jpg"},4176:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/wildcard.3e07ecaaac402725d222.png"},4276:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/university.af8e465512dad9274b1b.jpg"},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function A(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function R(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+k(e,0):a,E(s)?(i="",null!=u&&(i=u.replace(x,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+u,s=A(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(E(e))for(var m=0;m<e.length;m++)u+=R(a=e[m],t,i,o=p+k(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=R(a=a.value,t,i,o=p+k(a,m++),s);else if("object"===o){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function _(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return A(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return A(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,N)}catch(a){N(a)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=C.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},4316:e=>{"use strict";e.exports="data:image/png;base64,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"},4346:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(579);const i=function(e){let{id:t}=e;return(0,r.jsx)("div",{className:"font-mono text-[11px]",children:t})}},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4575:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/judge.2414d77753bafdd10c7c.jpg"},4645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{powers:()=>a});var r=n(2555),i=n(5545);const a=[{name:"Axolotls",title:"Explorers",description:"At the beginning of the game, place 1 wildcard on each Basic location. Whenever you visit a Basic location, also gain the wildcard from that location.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Butterflies",title:"Boundless",description:"Increase your hand limit by 4. Begin the game with 12 cards in your hand (11 cards if playing with 5 or 6 players). You are the first player.",handLimit:10,startingHandSize:12,storage:null,expansionName:"base",imageKey:"architect"},{name:"Cardinals",title:"Scouts",description:"Increase your hand limit by 2. Any time you get to draw any number of cards, you may draw 1 additional card from the deck.",handLimit:10,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Cats",title:"Bossy",description:"You may send a worker to any basic location, forest location, or red already occupied by an opponent.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Hedgehogs",title:"Good Sniffers",description:"If you did not gain a berry when you placed a worker on a Basic or Forest location, gain 1 berry. When playing a Construction, you may pay 2 berries to replace 1 wildcard.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Honey Bees",title:"Networkers",description:"Whenever you play a non-green Critter or Construction, you may discard 1 card to activate a green in your city. You may not use this ability when you are in autumn.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Mice",title:"Efficient Gatherers",description:"After you visit a Basic or Forest location, you may gain 1 wildcard that you do not already have.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"wife"},{name:"Moles",title:"Diggers",description:"When you use a worker to gain resources from a location, you may pay up to 1 of these resources to gain a pebble.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"minermole"},{name:"Otters",title:"Patchers",description:"When playing a Construction, you may use resin as any resource.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Owls",title:"Wise",description:"Increase your hand limit by 1. After you place a worker and resolve the action, you may discard 1 card from your hand, and/or draw 1 card. You may keep this card or give it away to an opponent. Draw 2 cards if you give it away.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"shepherd"},{name:"Pigs",title:"Master Farmers",description:"Begin the game with all Farm cards in a faceup stack in your area. At the beginning of each season, you may play the top Farm card for free (this does not count as your turn). Farms do not take up a space in your city. If an opponent plays a Farm, you gain 2 coins.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Platypuses",title:"Treasure Hunters",description:"At the beginning of the game, place 5 coins here. At any time on your turn, you may pay up to 1 of these coins to gain 1 wildcard and draw 1 card from the deck or the Meadow.",handLimit:null,startingHandSize:null,storage:(0,r.A)({},i.defaultResources),expansionName:"base",imageKey:"architect"},{name:"Rats",title:"Obnoxious",description:"At the beginning of the game, place Rugwort rat on any Meadow card. Whenever that card is played, gain 1 wildcard that you do not already have, then move rat to a different Meadow card.",handLimit:10,startingHandSize:null,storage:null,expansionName:"rugwort",imageKey:"rugworttherowdy"},{name:"Spiders",title:"Sneaky",description:"At the beginning of the game, place Nightweave spider on any worker location on the board. Whenever this location is visited, gain 1 wildcard you don't already have and draw 1 card, then move spider to a different location. You are the last player.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Squirrels",title:"Master Woodcrafters",description:"Any time you use a worker to gain at least 1 twig, gain 1 additional twig. When playing a construction, you may pay 2 twigs to replace 1 wildcard in the cost.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"woodcarver"},{name:"Starlings",title:"Harmonious",description:"Increase your hand limit by 3. When you draw cards, you may draw from the deck or the Meadow. If you are required to 'reveal', they must be cards from the deck.",handLimit:10,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"},{name:"Stoats",title:"Planners",description:"After you play a Critter or Construction, you may discard 2 cards to gain 1 berry / twig / resin, or discard 3 cards to gain 1 pebble. This is not considered a card-playing ability.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"monk"},{name:"Turtles",title:"Patient Investors",description:"After you play a card and resolve its effect, you may place 1 wildcard here from your supply. If there is already a resource here, gain it and an additional resource of the same type from the general supply.",handLimit:null,startingHandSize:null,storage:(0,r.A)({},i.defaultResources),expansionName:"base",imageKey:"judge"},{name:"Toads",title:"Green Thumbs",description:"When you play a green, you may discard 1 card to activate that green again.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"bargetoad"},{name:"WIP: Bats",title:"Archivists",description:"Whenever you play a card, you may take 1 card from the Meadow and place it facedown in a stack by your city. You may play any card from this stack as though it were in your hand, the Meadow, or the Station.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"historian"},{name:"WIP: Snails",title:"Steady",description:"During setup, draw 7 cards and place them in a facedown stack. When an opponent plays a green, you may give them a card from this stack to also activate the green for yourself.",handLimit:null,startingHandSize:null,storage:null,expansionName:"base",imageKey:"architect"}]},4746:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/woodcarver.58e0e56f063991530b59.jpg"},4807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CharacterIcon:()=>k,CustomResourceIcon:()=>I,EffectTypeIcon:()=>A,ResourceIcon:()=>T,WorkerIcon:()=>x});var r=n(4316),i=n(3774),a=n(1796),s=n(9100),o=n(1121),l=n(6981),c=n(914),u=n(8464),d=n(3317),h=n(6335),f=n(3163),p=n(1369),m=n(6289),g=n(4176),y=n(9841),v=n(9673),b=n(579);const w={Blue:i,Green:l,Purple:u,Red:d,Tan:p},E={twigs:m,resin:f,pebbles:c,berries:r,coins:o,cards:s,wildcards:g},C={Red:h,Blue:a},S={rat:y,spider:v};function A(e){let{type:t}=e;return(0,b.jsx)("img",{src:w[t],alt:t.toString(),className:"w-4 h-4 mx-0.5 align-middle inline-block"})}function T(e){let{type:t}=e;return(0,b.jsx)("img",{src:E[t],alt:t.toString(),className:"w-4 h-4 mx-0.5 align-middle inline-block"})}function x(e){let{playerColor:t}=e;return(0,b.jsx)("img",{src:C[t],alt:t.toString(),className:"w-4 h-4 mx-0.5 align-middle inline-block"})}function k(e){let{character:t}=e;return(0,b.jsx)("img",{src:S[t],alt:t.toString(),className:"w-4 h-4 mx-0.5 align-middle inline-block"})}function I(e){let{path:t}=e;return(0,b.jsx)("img",{src:t,alt:t,className:"w-4 h-4 mx-0.5 align-middle inline-block"})}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5059:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1242),i=n(579);const a=function(e){let{link:t,displayText:n,arrow:a}=e;const s="backward"===a?"\u2190 ":"forward"===a?"\u2192 ":"";return(0,i.jsx)("div",{children:(0,i.jsx)(r.N_,{to:t,className:"no-underline text-navigation",children:"forward"===a?"".concat(n," ").concat(s):"".concat(s).concat(n)})})}},5175:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/architect.b2a68f05c00bbb37cbb0.jpg"},5186:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8490),i=n(3791),a=n(3759),s=n(579);const o=function(e){let{card:t,index:n,onLeftClick:o,location:l,cityColor:c}=e;const u=!(!t||!o),d=null!==t&&void 0!==t&&t.occupied?"text-cardPreviewOutline-occupied":"text-text";return(0,s.jsx)(a.default,{isInteractive:u,onLeftClick:o,onRightClick:e=>t&&(0,s.jsx)(i.default,{card:t,index:n,cityColor:c,onClose:e,location:l}),children:(0,s.jsx)("div",{className:"w-[100px] text-center border-2 flex-none flex flex-col bg-card-preview ".concat((0,r.styleCardPreviewBorderColor)(!(null===t||void 0===t||!t.discarding),!(null===t||void 0===t||!t.playing),!(null===t||void 0===t||!t.giving))),children:(0,s.jsx)("div",{className:"flex-grow flex flex-col",children:(0,s.jsx)("div",{className:"text-[11px] leading-tight font-bold ".concat(d," flex-grow flex items-center justify-center"),children:"Dungeon"===(null===t||void 0===t?void 0:t.below)?(0,s.jsx)("s",{children:t.name}):null===t||void 0===t?void 0:t.name})})})})}},5189:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/clocktower.a43c07c3391b99f6535f.jpg"},5222:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/shopkeeper.5f061412dea415f19bc9.jpg"},5356:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cardback.997d29a3915450c27cab.png"},5472:(e,t,n)=>{"use strict";n.d(t,{rJ:()=>Wo,kd:()=>Gl,H9:()=>Qo,x7:()=>Bl,GG:()=>zl,aU:()=>el,aQ:()=>ql,BN:()=>Vl,mZ:()=>Hl});var r,i,a=n(7150),s=n(8812),o=n(2824),l=n(1529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function a(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new a([0|e],0>e?-1:0)})):new a([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new a(t,0)}var c=o(0),d=o(1),h=o(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(m(e),t),new v(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new v(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=E(n,1),a=E(r,1);for(r=E(r,2),n=E(n,2);!f(r);){var s=a.add(r);0>=s.l(e)&&(i=i.add(n),a=s),r=E(r,1),n=E(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=l(n)).j(t);p(s)||0<s.l(e);)s=(a=l(n-=r)).j(t);f(a)&&(a=d),i=i.add(a),e=g(e,s)}return new v(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function E(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new a(i,e.h)}(e=a.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,a=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new a(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.i(r)>>>16,o=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=o*d,y(n,2*r+2*i),n[2*r+2*i+1]+=s*d,y(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new a(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=l(Math.pow(n,s)),i=i.j(s).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},r=u.Integer=a}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function C(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function A(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var k=-1!=T().indexOf("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge"))&&!(-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE"))&&-1==T().indexOf("Edge");function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_.length;t++)n=_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function D(e){i.setTimeout((()=>{throw e}),0)}function O(){var e=B;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var L=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new j),(e=>e.reset()));class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let M,F=!1,B=new class{constructor(){this.h=this.g=null}add(e,t){const n=L.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{const e=i.Promise.resolve(void 0);M=()=>{e.then(z)}};var z=()=>{for(var e;e=O();){try{e.h.call(e.g)}catch(n){D(n)}var t=L;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}F=!1};function V(){this.s=this.s,this.C=this.C}function H(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},H.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function q(e,t){if(H.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(k){e:{try{x(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.aa.h.call(this)}}E(q,H);var K={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Y(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Q,this.da=this.fa=!1}function J(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function X(e){this.src=e,this.g={},this.h=0}function Z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(J(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}X.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=$(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Y(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ne(e,t[a],n,r,i);return null}return n=de(n),e&&e[W]?e.K(t,n,s(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new X(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)G||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ie(e,t[a],n,r,i);return null}return n=de(n),e&&e[W]?e.L(t,n,s(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function ae(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ae(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=de(n),e&&e[W]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(a=e.g[t],n,r,i))&&(J(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&se(n))}function se(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[W])Z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(Z(n,e),0==n.h&&(n.src=null,t[ee]=null)):J(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new q(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&se(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof X?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){V.call(this),this.i=new X(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new H(t,e);else if(t instanceof H)t.target=t.target||e;else{var i=t;P(t=new H(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=pe(s,r,!0,t)&&i}if(i=pe(s=t.g=e,r,!0,t)&&i,i=pe(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pe(s=t.g=n[a],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&Z(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=me((()=>{e.g=null,e.i&&(e.i=!1,ge(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}E(he,V),he.prototype[W]=!0,he.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)J(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){V.call(this),this.h=e,this.g={}}E(ve,V);var be=[];function we(e){I(e.g,(function(e,t){this.g.hasOwnProperty(t)&&se(e)}),e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),we(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=i.JSON.stringify,Ce=i.JSON.parse,Se=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ae(){}function Te(e){return e.h||(e.h=e.i())}function xe(){}Ae.prototype.h=null;var ke={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ie(){H.call(this,"d")}function Re(){H.call(this,"c")}E(Ie,H),E(Re,H);var _e={},Pe=null;function Ne(){return Pe=Pe||new he}function De(e){H.call(this,_e.La,e)}function Oe(e){const t=Ne();fe(t,new De(t))}function Le(e,t){H.call(this,_e.STAT_EVENT,e),this.stat=t}function je(e){const t=Ne();fe(t,new Le(t,e))}function Me(e,t){H.call(this,_e.Ma,e),this.size=t}function Fe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Be(){this.g=!0}function Ue(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return Ee(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}_e.La="serverreachability",E(De,H),_e.STAT_EVENT="statevent",E(Le,H),_e.Ma="timingevent",E(Me,H),Be.prototype.xa=function(){this.g=!1},Be.prototype.info=function(){};var ze,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ge(){}function qe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}E(Ge,Ae),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},ze=new Ge;var We={},Qe={};function Ye(e,t,n){e.L=1,e.v=Et(gt(t)),e.m=n,e.P=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),$e(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Lt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ke,e.g=Sn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var a=0;a<i.length;a++){var s=ne(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?R(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Oe(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Xe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qe:(n=Number(t.substring(n,r)),isNaN(n)?We:(r+=1)+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fe(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||vn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),on(n)}pn(n),je(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Fe(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&yn(n),!A(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ut(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=Cn(r,r.J?r.ia:null,r.W),s.K){dt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(tt(o),$e(o)),r.g=s}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):sn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Oe()}catch(u){}}qe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},qe.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Oe(),tt(this);var n=this.g.Z();this.X=n;t:if(Xe(this)){var r=nn(this.g);e="";var a=r.length,s=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),rt(this),nt(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ze(this,o),e==Qe){4==h&&(this.s=4,je(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==We){this.s=4,je(15),Ue(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,e,null),it(this,e)}if(Xe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),mn(d),d.M=!0,je(11))}}else Ue(this.i,this.l,o,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ue(this.i,this.l,o,null),it(this,o);4==h&&rt(this),this.o&&!this.J&&(4==h?vn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(A(e[r]))continue;var n=N(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),rt(this),nt(this)}}}catch(h){}},qe.prototype.cancel=function(){this.J=!0,rt(this)},qe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Oe(),je(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function st(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return C(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}st.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new Pt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=Ct(t[2]||""),this.g=Ct(t[3]||"",!0),vt(this,t[4]),this.l=Ct(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=Ct(t[7]||"")):(this.h=!1,this.i=new Pt(null,this.h))}function gt(e){return new mt(e)}function yt(e,t,n){e.j=n?Ct(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof Pt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dt(this,t),Lt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=St(t,Rt)),e.i=new Pt(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function Et(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ct(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function St(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,At),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function At(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(St(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(St(t,xt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(St(n,"/"==n.charAt(0)?It:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",St(n,_t)),e.join("")};var Tt,xt=/[#\/\?@]/g,kt=/[#\?:]/g,It=/[#\?]/g,Rt=/[#\?@]/g,_t=/#/g;function Pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dt(e,t){Nt(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ot(e,t){return Nt(e),t=jt(e,t),e.g.has(t)}function Lt(e,t,n){Dt(e,t),0<n.length&&(e.i=null,e.g.set(jt(e,t),C(n)),e.h+=n.length)}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ft(){this.g=new Se}function Bt(e,t,n){const r=n||"";try{ft(e,(function(e,n){let i=e;s(e)&&(i=Ee(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ut(e){this.l=e.Ub||null,this.j=e.eb||!1}function zt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Gt(e)}function Gt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function qt(e){let t="";return I(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Kt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Wt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Pt.prototype).add=function(e,t){Nt(this),this.i=null,e=jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Ot(this,e)&&(t=t.concat(this.g.get(jt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,Ot(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},E(Ut,Ae),Ut.prototype.g=function(){return new zt(this.l,this.j)},Ut.prototype.i=(Tt={},function(){return Tt}),E(zt,he),(e=zt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Gt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gt(this)),this.g&&(this.readyState=3,Gt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):Gt(this),3==this.readyState&&Vt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),E(Wt,he);var Qt=/^https?$/i,Yt=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Xt(e),$t(e)}function Xt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(pt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Qt.test(s?s.toLowerCase():"")}n=a}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var o=2<tn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Xt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new st(e&&e.concurrentRequestLimit),this.Da=new Ft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sn(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),dn(e,n),(t=new qe(e,e.j,t)).L=2,t.v=Et(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}En(e)}function on(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){on(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!ot(e.h)&&!e.s){e.s=!0;var t=e.Ga;M||U(),F||(M(),F=!0),B.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),dn(e,r),e.m&&e.o&&Kt(r,e.m,e.o),n=new qe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Ye(n,r,t)}function dn(e,t){e.H&&I(e.H,(function(e,n){wt(t,n,e)})),e.l&&ft({},(function(e,n){wt(t,n,e)}))}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Bt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;M||U(),F||(M(),F=!0),B.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Fe(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new qe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Et(gt(t)),n.m=null,n.P=!0,Je(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vn(e,t){var n=null;if(e.g==t){yn(e),mn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Ne(),new Me(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Fe(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),Et(r),t?function(e,t){const n=new Be;if(i.Image){const r=new Image;r.onload=u(Mt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Mt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Mt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Mt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Be;const n=new AbortController,r=setTimeout((()=>{n.abort(),Mt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Mt(0,0,!1,t)}))}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),En(e),ln(e)}function En(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(S(e.ka,t),S(e.ka,e.i),e.h.i.length=0,C(e.i),e.i.length=0),e.l.ra()}}function Cn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new mt(null);r&&yt(s,r),t&&(s.g=t),a&&vt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),dn(e,r),r}function Sn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Wt(new Ut({eb:n})):new Wt(e.pa)).Ha(e.J),t}function An(){}function Tn(){}function xn(e,t){he.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!A(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rn(this)}function kn(e){Ie.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){Re.call(this),this.status=1}function Rn(e){this.g=e}(e=Wt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Te(this.o):Te(ze),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Jt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Jt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},e.bb=function(){Zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Tt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Tt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ce(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Cn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new qe(this,this.j,e);let a=this.o;if(this.S&&(a?(a=R(a),P(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),dn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(qt(a)))+"&"+t:this.m&&Kt(n,this.m,a)),ut(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,Ye(i,n,null)):Ye(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||ot(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Fe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),on(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,on(this),pn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=An.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tn.prototype.g=function(e,t){return new xn(e,t)},E(xn,he),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){sn(this.g)},xn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=Ee(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&cn(t)},xn.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,xn.aa.N.call(this)},E(kn,Ie),E(In,Re),E(Rn,An),Rn.prototype.ua=function(){fe(this.g,"a")},Rn.prototype.ta=function(e){fe(this.g,new kn(e))},Rn.prototype.sa=function(e){fe(this.g,new In)},Rn.prototype.ra=function(){fe(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,v=w.createWebChannelTransport=function(){return new Tn},y=w.getStatEventTarget=function(){return Ne()},g=w.Event=_e,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,p=w.ErrorCode=Ve,He.COMPLETE="complete",f=w.EventType=He,xe.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=xe,w.FetchXmlHttpFactory=Ut,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,d=w.XhrIo=Wt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const E="@firebase/firestore",C="4.7.16";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let A="11.8.1";const T=new o.Vy("@firebase/firestore");function x(){return T.logLevel}function k(e){if(T.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_);T.debug("Firestore (".concat(A,"): ").concat(e),...i)}}function I(e){if(T.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_);T.error("Firestore (".concat(A,"): ").concat(e),...i)}}function R(e){if(T.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_);T.warn("Firestore (".concat(A,"): ").concat(e),...i)}}function _(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function P(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,N(e,r,n)}function N(e,t,n){let r="FIRESTORE (".concat(A,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw I(r),new Error(r)}function D(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||N(t,i,r)}function O(e,t){return e}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class M{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(S.UNAUTHENTICATED)))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class z{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new M;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new M,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new M)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken,31837,{l:t}),new F(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e,2055,{h:e}),new S(e)}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=S.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(S.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,a.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){D(void 0===this.o,3512);const n=e=>{null!=e.error&&k("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,k("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(D("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new G(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function W(){return new TextEncoder}class Q{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=K(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Y(e,t){return e<t?-1:e>t?1:0}function J(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Y(r,i);{const a=W(),s=Z(a.encode(X(e,n)),a.encode(X(t,n)));return 0!==s?s:Y(r,i)}}n+=r>65535?2:1}return Y(e.length,t.length)}function X(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Z(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Y(e[n],t[n]);return Y(e.length,t.length)}function $(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ee=-62135596800,te=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*te);return new ne(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ee)throw new j(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/te}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ee;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new ne(0,0))}static max(){return new re(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ie="__name__";class ae{constructor(e,t,n){void 0===t?t=0:t>e.length&&P(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&P(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ae.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ae?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ae.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Y(e.length,t.length)}static compareSegments(e,t){const n=ae.isNumericId(e),r=ae.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ae.extractNumericId(e).compare(ae.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class se extends ae{construct(e,t,n){return new se(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new j(L.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new se(e)}static emptyPath(){return new se([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends ae{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ie}static keyField(){return new le([ie])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new j(L.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new j(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new j(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new j(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(se.fromString(e))}static fromName(e){return new ce(se.fromString(e).popFirst(5))}static empty(){return new ce(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new se(e.slice()))}}const ue=-1;class de{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}de.UNKNOWN_ID=-1;function he(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=re.fromTimestamp(1e9===r?new ne(n+1,0):new ne(n,r));return new pe(i,ce.empty(),t)}function fe(e){return new pe(e.readTime,e.key,ue)}class pe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new pe(re.min(),ce.empty(),ue)}static max(){return new pe(re.max(),ce.empty(),ue)}}function me(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:Y(e.largestBatchId,t.largestBatchId))}const ge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ve(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==ge)throw e;k("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(e){return be.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):be.reject(t)}static resolve(e){return new be(((t,n)=>{t(e)}))}static reject(e){return new be(((t,n)=>{n(e)}))}static waitFor(e){return new be(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=be.resolve(!1);for(const n of e)t=t.next((e=>e?be.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new be(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new be(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function we(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ee(e){return"IndexedDbTransactionError"===e.name}class Ce{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ce.le=-1;const Se=-1;function Ae(e){return null==e}function Te(e){return 0===e&&1/e==-1/0}function xe(e){return"number"==typeof e&&Number.isInteger(e)&&!Te(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ke="\x01";function Ie(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_e(t)),t=Re(e.get(n),t);return _e(t)}function Re(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ke:n+="\x01\x11";break;default:n+=t}}return n}function _e(e){return e+ke+"\x01"}const Pe="remoteDocuments",Ne="owner",De="mutationQueues",Oe="mutations";const Le="documentMutations",je="remoteDocumentsV14",Me="remoteDocumentGlobal",Fe="targets",Be="targetDocuments",Ue="targetGlobal",ze="collectionParents",Ve="clientMetadata",He="bundles",Ge="namedQueries",qe="indexConfiguration",Ke="indexState",We="indexEntries",Qe="documentOverlays",Ye="globals",Je=[De,Oe,Le,Pe,Fe,Ne,Ue,Be,Ve,Me,ze,He,Ge],Xe=[De,Oe,Le,je,Fe,Ne,Ue,Be,Ve,Me,ze,He,Ge,Qe],Ze=Xe,$e=[...Ze,qe,Ke,We];function et(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||at.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new it(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new it(this.root,e,this.comparator,!1)}getReverseIterator(){return new it(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new it(this.root,e,this.comparator,!0)}}class it{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:at.RED,this.left=null!=r?r:at.EMPTY,this.right=null!=i?i:at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new at(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return at.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw P(43730,{key:this.key,value:this.value});if(this.right.isRed())throw P(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw P(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1,at.EMPTY=new class{constructor(){this.size=0}get key(){throw P(57766)}get value(){throw P(16141)}get color(){throw P(16727)}get left(){throw P(29726)}get right(){throw P(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new at(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class st{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ot(this.data.getIterator())}getIteratorFrom(e){return new ot(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof st))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class ot{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lt{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new lt([])}unionWith(e){let t=new st(le.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ct("Invalid base64 string: "+e):e}}(e);return new ut(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const dt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(e){if(D(!!e,39018),"string"==typeof e){let t=0;const n=dt.exec(e);if(D(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pt(e){return"string"==typeof e?ut.fromBase64String(e):ut.fromUint8Array(e)}const mt="server_timestamp",gt="__type__",yt="__previous_value__",vt="__local_write_time__";function bt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[gt])||void 0===n?void 0:n.stringValue)===mt}function wt(e){const t=e.mapValue.fields[yt];return bt(t)?wt(t):t}function Et(e){const t=ht(e.mapValue.fields[vt].timestampValue);return new ne(t.seconds,t.nanos)}class Ct{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const St="(default)";class At{constructor(e,t){this.projectId=e,this.database=t||St}static empty(){return new At("","")}get isDefaultDatabase(){return this.database===St}isEqual(e){return e instanceof At&&e.projectId===this.projectId&&e.database===this.database}}const Tt="__type__",xt="__max__",kt={mapValue:{fields:{__type__:{stringValue:xt}}}},It="__vector__",Rt="value";function _t(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bt(e)?4:Kt(e)?9007199254740991:Gt(e)?10:11:P(28295,{value:e})}function Pt(e,t){if(e===t)return!0;const n=_t(e);if(n!==_t(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Et(e).isEqual(Et(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ht(e.timestampValue),r=ht(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pt(e.bytesValue).isEqual(pt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ft(e.geoPointValue.latitude)===ft(t.geoPointValue.latitude)&&ft(e.geoPointValue.longitude)===ft(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ft(e.integerValue)===ft(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ft(e.doubleValue),r=ft(t.doubleValue);return n===r?Te(n)===Te(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],Pt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(et(n)!==et(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pt(n[i],r[i])))return!1;return!0}(e,t);default:return P(52216,{left:e})}}function Nt(e,t){return void 0!==(e.values||[]).find((e=>Pt(e,t)))}function Dt(e,t){if(e===t)return 0;const n=_t(e),r=_t(t);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ft(e.integerValue||e.doubleValue),r=ft(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ot(e.timestampValue,t.timestampValue);case 4:return Ot(Et(e),Et(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pt(e),r=pt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Y(n[i],r[i]);if(0!==e)return e}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Y(ft(e.latitude),ft(t.latitude));return 0!==n?n:Y(ft(e.longitude),ft(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Lt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Rt])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Rt])||void 0===r?void 0:r.arrayValue,u=Y((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Lt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kt.mapValue&&t===kt.mapValue)return 0;if(e===kt.mapValue)return 1;if(t===kt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=J(r[s],a[s]);if(0!==e)return e;const t=Dt(n[r[s]],i[a[s]]);if(0!==t)return t}return Y(r.length,a.length)}(e.mapValue,t.mapValue);default:throw P(23264,{Pe:n})}}function Ot(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);const n=ht(e),r=ht(t),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Lt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Dt(n[i],r[i]);if(e)return e}return Y(n.length,r.length)}function jt(e){return Mt(e)}function Mt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ht(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Mt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Mt(e.fields[i]));return n+"}"}(e.mapValue):P(61005,{value:e})}function Ft(e){switch(_t(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wt(e);return t?16+Ft(t):16;case 5:return 2*e.stringValue.length;case 6:return pt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ft(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return tt(e.fields,((e,n)=>{t+=e.length+Ft(n)})),t}(e.mapValue);default:throw P(13486,{value:e})}}function Bt(e){return!!e&&"integerValue"in e}function Ut(e){return!!e&&"arrayValue"in e}function zt(e){return!!e&&"nullValue"in e}function Vt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ht(e){return!!e&&"mapValue"in e}function Gt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Tt])||void 0===n?void 0:n.stringValue)===It}function qt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tt(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=qt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xt}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ht(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qt(t)}setAll(e){let t=le.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=qt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ht(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ht(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tt(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Wt(qt(this.value))}}function Qt(e){const t=[];return tt(e.fields,((e,n)=>{const r=new le([e]);if(Ht(n)){const e=Qt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new lt(t)}class Yt{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Yt(e,0,re.min(),re.min(),re.min(),Wt.empty(),0)}static newFoundDocument(e,t,n,r){return new Yt(e,1,t,re.min(),n,r,0)}static newNoDocument(e,t){return new Yt(e,2,t,re.min(),re.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,re.min(),re.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Jt{constructor(e,t){this.position=e,this.inclusive=t}}function Xt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ce.comparator(ce.fromName(s.referenceValue),n.key):Dt(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pt(e.position[n],t.position[n]))return!1;return!0}class $t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function en(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class tn{}class nn extends tn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new dn(e,t,n):"array-contains"===t?new mn(e,n):"in"===t?new gn(e,n):"not-in"===t?new yn(e,n):"array-contains-any"===t?new vn(e,n):new nn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new hn(e,n):new fn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Dt(t,this.value)):null!==t&&_t(this.value)===_t(t)&&this.matchesComparison(Dt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rn extends tn{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new rn(e,t)}matches(e){return an(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function an(e){return"and"===e.op}function sn(e){return on(e)&&an(e)}function on(e){for(const t of e.filters)if(t instanceof rn)return!1;return!0}function ln(e){if(e instanceof nn)return e.field.canonicalString()+e.op.toString()+jt(e.value);if(sn(e))return e.filters.map((e=>ln(e))).join(",");{const t=e.filters.map((e=>ln(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function cn(e,t){return e instanceof nn?function(e,t){return t instanceof nn&&e.op===t.op&&e.field.isEqual(t.field)&&Pt(e.value,t.value)}(e,t):e instanceof rn?function(e,t){return t instanceof rn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&cn(n,t.filters[r])),!0)}(e,t):void P(19439)}function un(e){return e instanceof nn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(jt(e.value))}(e):e instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(un).join(" ,")+"}"}(e):"Filter"}class dn extends nn{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class hn extends nn{constructor(e,t){super(e,"in",t),this.keys=pn("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fn extends nn{constructor(e,t){super(e,"not-in",t),this.keys=pn("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ce.fromName(e.referenceValue)))}class mn extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ut(t)&&Nt(t.arrayValue,this.value)}}class gn extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nt(this.value.arrayValue,t)}}class yn extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Nt(this.value.arrayValue,t)}}class vn extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ut(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Nt(this.value.arrayValue,e)))}}class bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Ie=null}}function wn(e){return new bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function En(e){const t=O(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ln(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ae(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>jt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>jt(e))).join(",")),t.Ie=e}return t.Ie}function Cn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!en(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zt(e.startAt,t.startAt)&&Zt(e.endAt,t.endAt)}function Sn(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class An{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Tn(e,t,n,r,i,a,s,o){return new An(e,t,n,r,i,a,s,o)}function xn(e){return new An(e)}function kn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function In(e){return null!==e.collectionGroup}function Rn(e){const t=O(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new st(le.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new $t(r,n))})),e.has(le.keyField().canonicalString())||t.Ee.push(new $t(le.keyField(),n))}return t.Ee}function _n(e){const t=O(e);return t.de||(t.de=Pn(t,Rn(e))),t.de}function Pn(e,t){if("F"===e.limitType)return wn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new $t(e.field,t)}));const n=e.endAt?new Jt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jt(e.startAt.position,e.startAt.inclusive):null;return wn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Nn(e,t,n){return new An(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dn(e,t){return Cn(_n(e),_n(t))&&e.limitType===t.limitType}function On(e){return"".concat(En(_n(e)),"|lt:").concat(e.limitType)}function Ln(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>un(e))).join(", "),"]")),Ae(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>jt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>jt(e))).join(",")),"Target(".concat(t,")")}(_n(e)),"; limitType=").concat(e.limitType,")")}function jn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rn(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rn(e),t))}(e,t)}function Mn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fn(e){return(t,n)=>{let r=!1;for(const i of Rn(e)){const e=Bn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Bn(e,t,n){const r=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Dt(r,i):P(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return P(19790,{direction:e.dir})}}class Un{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tt(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return nt(this.inner)}size(){return this.innerSize}}const zn=new rt(ce.comparator);function Vn(){return zn}const Hn=new rt(ce.comparator);function Gn(){let e=Hn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function qn(e){let t=Hn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Kn(){return Qn()}function Wn(){return Qn()}function Qn(){return new Un((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yn=new rt(ce.comparator),Jn=new st(ce.comparator);function Xn(){let e=Jn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zn=new st(Y);function $n(){return Zn}function er(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Te(t)?"-0":t}}function tr(e){return{integerValue:""+e}}function nr(e,t){return xe(t)?tr(t):er(e,t)}class rr{constructor(){this._=void 0}}function ir(e,t,n){return e instanceof or?function(e,t){const n={fields:{[gt]:{stringValue:mt},[vt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bt(t)&&(t=wt(t)),t&&(n.fields[yt]=t),{mapValue:n}}(n,t):e instanceof lr?cr(e,t):e instanceof ur?dr(e,t):function(e,t){const n=sr(e,t),r=fr(n)+fr(e.Re);return Bt(n)&&Bt(e.Re)?tr(r):er(e.serializer,r)}(e,t)}function ar(e,t,n){return e instanceof lr?cr(e,t):e instanceof ur?dr(e,t):n}function sr(e,t){return e instanceof hr?function(e){return Bt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class or extends rr{}class lr extends rr{constructor(e){super(),this.elements=e}}function cr(e,t){const n=pr(t);for(const r of e.elements)n.some((e=>Pt(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ur extends rr{constructor(e){super(),this.elements=e}}function dr(e,t){let n=pr(t);for(const r of e.elements)n=n.filter((e=>!Pt(e,r)));return{arrayValue:{values:n}}}class hr extends rr{constructor(e,t){super(),this.serializer=e,this.Re=t}}function fr(e){return ft(e.integerValue||e.doubleValue)}function pr(e){return Ut(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mr{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vr{}function br(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rr(e.key,gr.none()):new Ar(e.key,e.data,gr.none());{const n=e.data,r=Wt.empty();let i=new st(le.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Tr(e.key,r,new lt(i.toArray()),gr.none())}}function wr(e,t,n){e instanceof Ar?function(e,t,n){const r=e.value.clone(),i=kr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tr?function(e,t,n){if(!yr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=kr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Er(e,t,n,r){return e instanceof Ar?function(e,t,n,r){if(!yr(e.precondition,t))return n;const i=e.value.clone(),a=Ir(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tr?function(e,t,n,r){if(!yr(e.precondition,t))return n;const i=Ir(e.fieldTransforms,r,t),a=t.data;return a.setAll(xr(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return yr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sr(r.transform,e||null);null!=i&&(null===n&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function Sr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lr&&t instanceof lr||e instanceof ur&&t instanceof ur?$(e.elements,t.elements,Pt):e instanceof hr&&t instanceof hr?Pt(e.Re,t.Re):e instanceof or&&t instanceof or}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ar extends vr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tr extends vr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function kr(e,t,n){const r=new Map;D(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,ar(s,o,n[i]))}return r}function Ir(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,ir(e,a,t))}return r}class Rr extends vr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _r extends vr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&wr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wn();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=br(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(re.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xn())}isEqual(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,((e,t)=>Sr(e,t)))&&$(this.baseMutations,e.baseMutations,((e,t)=>Sr(e,t)))}}class Nr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){D(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Yn;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Nr(e,t,n,r)}}class Dr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Or{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lr,jr;function Mr(e){switch(e){case L.OK:return P(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return P(15467,{code:e})}}function Fr(e){if(void 0===e)return I("GRPC error has no .code"),L.UNKNOWN;switch(e){case Lr.OK:return L.OK;case Lr.CANCELLED:return L.CANCELLED;case Lr.UNKNOWN:return L.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return L.INTERNAL;case Lr.UNAVAILABLE:return L.UNAVAILABLE;case Lr.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Lr.NOT_FOUND:return L.NOT_FOUND;case Lr.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Lr.ABORTED:return L.ABORTED;case Lr.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Lr.DATA_LOSS:return L.DATA_LOSS;default:return P(39323,{code:e})}}(jr=Lr||(Lr={}))[jr.OK=0]="OK",jr[jr.CANCELLED=1]="CANCELLED",jr[jr.UNKNOWN=2]="UNKNOWN",jr[jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jr[jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jr[jr.NOT_FOUND=5]="NOT_FOUND",jr[jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",jr[jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",jr[jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",jr[jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jr[jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jr[jr.ABORTED=10]="ABORTED",jr[jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",jr[jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",jr[jr.INTERNAL=13]="INTERNAL",jr[jr.UNAVAILABLE=14]="UNAVAILABLE",jr[jr.DATA_LOSS=15]="DATA_LOSS";let Br=null;const Ur=new r([4294967295,4294967295],0);function zr(e){const t=W().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function Vr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,i],0),new r([a,s],0)]}class Hr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gr("Invalid padding: ".concat(t));if(n<0)throw new Gr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Gr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Gr("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=r.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Ur)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=zr(e),[n,r]=Vr(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.Se(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Hr(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.pe)return;const t=zr(e),[n,r]=Vr(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Kr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qr(re.min(),r,new rt(Y),Vn(),Xn())}}class Kr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kr(n,t,Xn(),Xn(),Xn())}}class Wr{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Qr{constructor(e,t){this.targetId=e,this.Ce=t}}class Yr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Jr{constructor(){this.Fe=0,this.Me=$r(),this.xe=ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xn(),t=Xn(),n=Xn();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:P(38017,{changeType:i})}})),new Kr(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=$r()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,D(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Xr{constructor(e){this.ze=e,this.je=new Map,this.He=Vn(),this.Je=Zr(),this.Ye=Zr(),this.Ze=new rt(Y)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:P(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Sn(i))if(0===n){const e=new ce(i.path);this.tt(t,e,Yt.newNoDocument(e,re.min()))}else D(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Br||Br.ht(function(e,t,n,r,i){var a,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=pt(n).toUint8Array()}catch(e){if(e instanceof ct)return R("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Hr(a,r,i)}catch(e){return R(e instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&Sn(i.target)){const t=new ce(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Yt.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Xn();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new qr(e,t,this.Ze,this.He,n);return this.He=Vn(),this.Je=Zr(),this.Ye=Zr(),this.Ze=new rt(Y),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Jr,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new st(Y),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new st(Y),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||k("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Jr),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Zr(){return new rt(ce.comparator)}function $r(){return new rt(ce.comparator)}const ei={asc:"ASCENDING",desc:"DESCENDING"},ti={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ni={and:"AND",or:"OR"};class ri{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ii(e,t){return e.useProto3Json||Ae(t)?t:{value:t}}function ai(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function si(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oi(e,t){return ai(e,t.toTimestamp())}function li(e){return D(!!e,49232),re.fromTimestamp(function(e){const t=ht(e);return new ne(t.seconds,t.nanos)}(e))}function ci(e,t){return ui(e,t).canonicalString()}function ui(e,t){const n=function(e){return new se(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function di(e){const t=se.fromString(e);return D(Pi(t),10190,{key:t.toString()}),t}function hi(e,t){return ci(e.databaseId,t.path)}function fi(e,t){const n=di(t);if(n.get(1)!==e.databaseId.projectId)throw new j(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(yi(n))}function pi(e,t){return ci(e.databaseId,t)}function mi(e){const t=di(e);return 4===t.length?se.emptyPath():yi(t)}function gi(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yi(e){return D(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function vi(e,t,n){return{name:hi(e,t),fields:n.value.mapValue.fields}}function bi(e,t){let n;if(t instanceof Ar)n={update:vi(e,t.key,t.value)};else if(t instanceof Rr)n={delete:hi(e,t.key)};else if(t instanceof Tr)n={update:vi(e,t.key,t.data),updateMask:_i(t.fieldMask)};else{if(!(t instanceof _r))return P(16599,{ft:t.type});n={verify:hi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof or)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw P(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:oi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:P(27497)}(e,t.precondition)),n}function wi(e,t){return{documents:[pi(e,t.path)]}}function Ei(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pi(e,i);const a=function(e){if(0!==e.length)return Ri(rn.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ki(e.field),direction:Ai(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ii(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Ci(e){let t=mi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){D(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Si(e);return t instanceof rn&&sn(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new $t(Ii(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ae(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Jt(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Jt(n,t)}(n.endAt)),Tn(t,i,s,a,o,"F",l,c)}function Si(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ii(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ii(e.unaryFilter.field);return nn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ii(e.unaryFilter.field);return nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ii(e.unaryFilter.field);return nn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return P(61313);default:return P(60726)}}(e):void 0!==e.fieldFilter?function(e){return nn.create(Ii(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return P(58110);default:return P(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map((e=>Si(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return P(1026)}}(e.compositeFilter.op))}(e):P(30097,{filter:e})}function Ai(e){return ei[e]}function Ti(e){return ti[e]}function xi(e){return ni[e]}function ki(e){return{fieldPath:e.canonicalString()}}function Ii(e){return le.fromServerFormat(e.fieldPath)}function Ri(e){return e instanceof nn?function(e){if("=="===e.op){if(Vt(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NAN"}};if(zt(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vt(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NAN"}};if(zt(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(e.field),op:Ti(e.op),value:e.value}}}(e):e instanceof rn?function(e){const t=e.getFilters().map((e=>Ri(e)));return 1===t.length?t[0]:{compositeFilter:{op:xi(e.op),filters:t}}}(e):P(54877,{filter:e})}function _i(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Pi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ni{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:re.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:re.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ut.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Di{constructor(e){this.wt=e}}function Oi(e){const t=Ci({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nn(t,t.limit,"L"):t}class Li{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){const n=ft(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Te(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=ht(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(pt(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Kt(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Gt(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):P(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const a=Rt,s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(ft(s)),this.Nt(a,t),this.Ct(i[a],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),ce.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Li.Wt=new Li;class ji{constructor(){this.Cn=new Mi}addToCollectionParentIndex(e,t){return this.Cn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(pe.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(pe.min())}updateCollectionGroup(e,t,n){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class Mi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new st(se.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new st(se.comparator)).toArray()}}new Uint8Array(0);const Fi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bi=41943040;class Ui{static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(Bi,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);class zi{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new zi(0)}static lr(){return new zi(-1)}}const Vi="LruGarbageCollector",Hi=1048576;function Gi(e,t){let[n,r]=e,[i,a]=t;const s=Y(n,i);return 0===s?Y(r,a):s}class qi{constructor(e){this.Er=e,this.buffer=new st(Gi),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Gi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ki{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){k(Vi,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ee(e)?k(Vi,"Ignoring IndexedDB error during garbage collection: ",e):await ve(e)}await this.mr(3e5)}))}}class Wi{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return be.resolve(Ce.le);const n=new qi(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Fi)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Fi):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,a,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),x()<=o.$b.DEBUG&&k("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Qi(e,t){return new Wi(e,t)}class Yi{constructor(){this.changes=new Un((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ji{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xi{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Er(n.mutation,e,lt.empty(),ne.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xn()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xn();const r=Kn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Gn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Kn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Vn();const a=Qn(),s=Qn();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Tr)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Er(s.mutation,t,s.mutation.getFieldMask(),ne.now())):a.set(t.key,lt.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Ji(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Qn();let r=new rt(((e,t)=>e-t)),i=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||lt.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Xn()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=Wn();l.forEach((e=>{if(!i.has(e)){const r=br(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return be.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):In(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):be.resolve(Kn());let s=ue,o=i;return a.next((t=>be.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?be.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Xn()))).next((e=>({batchId:s,changes:qn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((e=>{let t=Gn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Gn();return this.indexManager.getCollectionParents(e,i).next((s=>be.forEach(s,(s=>{const o=function(e,t){return new An(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yt.newInvalidDocument(r)))}));let n=Gn();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Er(a.mutation,r,lt.empty(),ne.now()),jn(t,r)&&(n=n.insert(e,r))})),n}))}}class Zi{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return be.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:li(e.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Oi(e.bundledQuery),readTime:li(e.readTime)}}(t)),be.resolve()}}class $i{constructor(){this.overlays=new rt(ce.comparator),this.Qr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Kn();return be.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),be.resolve()}getOverlaysForCollection(e,t,n){const r=Kn(),i=t.length+1,a=new ce(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rt(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Kn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Kn(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return be.resolve(s)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Dr(t,n));let i=this.Qr.get(t);void 0===i&&(i=Xn(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class ea{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}class ta{constructor(){this.$r=new st(na.Ur),this.Kr=new st(na.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new na(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new na(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new ce(new se([])),n=new na(t,e),r=new na(t,e+1),i=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),i.push(e.key)})),i}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ce(new se([])),n=new na(t,e),r=new na(t,e+1);let i=Xn();return this.Kr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new na(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class na{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ce.comparator(e.key,t.key)||Y(e.Zr,t.Zr)}static Wr(e,t){return Y(e.Zr,t.Zr)||ce.comparator(e.key,t.key)}}class ra{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new st(na.Ur)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Pr(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Xr=this.Xr.add(new na(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return be.resolve(a)}lookupMutationBatch(e,t){return be.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return be.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?Se:this.nr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new na(t,0),r=new na(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);i.push(t)})),be.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new st(Y);return t.forEach((e=>{const t=new na(e,0),r=new na(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),be.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ce.isDocumentKey(i)||(i=i.child(""));const a=new na(new ce(i),0);let s=new st(Y);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Zr)),!0)}),a),be.resolve(this.ni(s))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){D(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return be.forEach(t.mutations,(r=>{const i=new na(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new na(t,0),r=this.Xr.firstAfterOrEqual(n);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ia{constructor(e){this.ii=e,this.docs=new rt(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return be.resolve(n?n.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let n=Vn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yt.newInvalidDocument(e))})),be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Vn();const a=t.path,s=new ce(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||me(fe(s),n)<=0||(r.has(s.key)||jn(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,t,n,r){P(9500)}si(e,t){return be.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new aa(this)}getSize(e){return be.resolve(this.size)}}class aa extends Yi{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),be.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class sa{constructor(e){this.persistence=e,this.oi=new Un((e=>En(e)),Cn),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this._i=0,this.ai=new ta,this.targetCount=0,this.ui=zi.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),be.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new zi(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Tr(t),be.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),be.waitFor(i).next((()=>r))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return be.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),be.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),be.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return be.resolve(n)}containsKey(e,t){return be.resolve(this.ai.containsKey(t))}}class oa{constructor(e,t){this.ci={},this.overlays={},this.li=new Ce(0),this.hi=!1,this.hi=!0,this.Pi=new ea,this.referenceDelegate=e(this),this.Ti=new sa(this),this.indexManager=new ji,this.remoteDocumentCache=function(e){return new ia(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Di(t),this.Ei=new Zi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $i,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new ra(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){k("MemoryPersistence","Starting transaction:",e);const r=new la(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return be.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class la extends ye{constructor(e){super(),this.currentSequenceNumber=e}}class ca{constructor(e){this.persistence=e,this.Vi=new ta,this.mi=null}static fi(e){return new ca(e)}get gi(){if(this.mi)return this.mi;throw P(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),be.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.gi,(n=>{const r=ce.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,re.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return be.or([()=>be.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class ua{constructor(e,t){this.persistence=e,this.yi=new Un((e=>Ie(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Qi(this,t)}static fi(e,t){return new ua(e,t)}di(){}Ai(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Sr(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return be.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?be.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,re.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),be.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),be.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ft(e.data.value)),t}Dr(e,t,n){return be.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return be.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class da{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Xn(),r=Xn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new da(e,t.fromCache,n,r)}}class ha{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fa{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,l.nr)()?8:we((0,l.ZQ)())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ha;return this.bs(e,t,n).next((r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>i.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(x()<=o.$b.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",Ln(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),be.resolve()):(x()<=o.$b.DEBUG&&k("QueryEngine","Query:",Ln(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(x()<=o.$b.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",Ln(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(t))):be.resolve())}ws(e,t){if(kn(t))return be.resolve(null);let n=_n(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Nn(t,null,"F"),n=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Xn(...r);return this.ys.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.vs(t,r);return this.Cs(t,a,i,n.readTime)?this.ws(e,Nn(t,null,"F")):this.Fs(e,a,t,n)}))))})))))}Ss(e,t,n,r){return kn(t)||r.isEqual(re.min())?be.resolve(null):this.ys.getDocuments(e,n).next((i=>{const a=this.vs(t,i);return this.Cs(t,a,n,r)?be.resolve(null):(x()<=o.$b.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ln(t)),this.Fs(e,a,t,he(r,ue)).next((e=>e)))}))}vs(e,t){let n=new st(Fn(e));return t.forEach(((t,r)=>{jn(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}bs(e,t,n){return x()<=o.$b.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Ln(t)),this.ys.getDocumentsMatchingQuery(e,t,pe.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const pa="LocalStore",ma=3e8;class ga{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new rt(Y),this.Os=new Un((e=>En(e)),Cn),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xi(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function ya(e,t,n,r){return new ga(e,t,n,r)}async function va(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=Xn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ks:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function ba(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function wa(e,t,n){let r=Xn(),i=Xn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Vn();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(re.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):k(pa,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{qs:r,Qs:i}}))}function Ea(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Se),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ca(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((i=>i?(r=i,be.resolve(r)):n.Ti.allocateTargetId(e).next((i=>(r=new Ni(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function Sa(e,t,n){const r=O(e),i=r.xs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ee(e))throw e;k(pa,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Aa(e,t,n){const r=O(e);let i=re.min(),a=Xn();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=O(e),i=r.Os.get(n);return void 0!==i?be.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,_n(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:re.min(),n?a:Xn()))).next((e=>(Ta(r,Mn(t),e),{documents:e,$s:a})))))}function Ta(e,t,n){let r=e.Ns.get(t)||re.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class xa{constructor(){this.activeTargetIds=$n()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ka{constructor(){this.xo=new xa,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ia{No(e){}shutdown(){}}const Ra="ConnectivityMonitor";class _a{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){k(Ra,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){k(Ra,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pa=null;function Na(){return null===Pa?Pa=268435456+Math.round(2147483648*Math.random()):Pa++,"0x"+Pa.toString(16)}const Da="RestConnection",Oa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class La{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===St?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const a=Na(),s=this.jo(e,t.toUriEncodedString());k(Da,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,i);const{host:c}=new URL(s),u=(0,l.zJ)(c);return this.Jo(e,s,o,n,u).then((t=>(k(Da,"Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw R(Da,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t}))}Yo(e,t,n,r,i,a){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+A,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Oa[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class ja{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Ma="WebChannelConnection";class Fa extends La{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Na();return new Promise(((i,s)=>{const o=new d;o.setWithCredentials(!0),o.listenOnce(f.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case p.NO_ERROR:const t=o.getResponseJson();k(Ma,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case p.TIMEOUT:k(Ma,"RPC '".concat(e,"' ").concat(a," timed out")),s(new j(L.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=o.getStatus();if(k(Ma,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(t)>=0?t:L.UNKNOWN}(t.status);s(new j(e,t.message))}else s(new j(L.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new j(L.UNAVAILABLE,"Connection failed."));break;default:P(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{k(Ma,"RPC '".concat(e,"' ").concat(a," completed."))}}));const l=JSON.stringify(r);k(Ma,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)}))}T_(e,t,n){const r=Na(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=v(),s=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");k(Ma,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);let d=!1,f=!1;const p=new ja({Zo:t=>{f?k(Ma,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(k(Ma,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),k(Ma,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return b(u,h.EventType.OPEN,(()=>{f||(k(Ma,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.__())})),b(u,h.EventType.CLOSE,(()=>{f||(f=!0,k(Ma,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.u_())})),b(u,h.EventType.ERROR,(t=>{f||(f=!0,R(Ma,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.u_(new j(L.UNAVAILABLE,"The operation could not be completed")))})),b(u,h.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];D(!!i,16349);const a=i,s=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){k(Ma,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Lr[e];if(void 0!==t)return Fr(t)}(t),i=s.message;void 0===n&&(n=L.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,p.u_(new j(n,i)),u.close()}else k(Ma,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.c_(i)}})),b(s,g.STAT_EVENT,(t=>{t.stat===m.PROXY?k(Ma,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===m.NOPROXY&&k(Ma,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.a_()}),0),p}}function Ba(){return"undefined"!=typeof document?document:null}function Ua(e){return new ri(e,!0)}class za{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.I_=n,this.E_=r,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),r=Math.max(0,t-n);r>0&&k("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.A_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.V_=Date.now(),e()))),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const Va="PersistentStream";class Ha{constructor(e,t,n,r,i,a,s,o){this.xi=e,this.y_=n,this.w_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new za(e,t)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,(()=>this.B_())))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,4!==e?this.C_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(I(t.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===L.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.S_===t&&this.K_(n,r)}),(t=>{e((()=>{const e=new j(L.UNKNOWN,"Fetching auth token failed: "+t.message);return this.W_(e)}))}))}K_(e,t){const n=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,(()=>(this.M_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.W_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.v_?this.z_(e):this.onNext(e)))}))}x_(){this.state=5,this.C_.f_((async()=>{this.state=0,this.start()}))}W_(e){return k(Va,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget((()=>this.S_===e?t():(k(Va,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ga extends Ha{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:P(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t,58123),ut.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ut.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?L.UNKNOWN:Fr(e.code);return new j(t,e.message||"")}(s);n=new Yr(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fi(e,r.document.name),a=li(r.document.updateTime),s=r.document.createTime?li(r.document.createTime):re.min(),o=new Wt({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Wr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fi(e,r.document),a=r.readTime?li(r.readTime):re.min(),s=Yt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Wr([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fi(e,r.document),a=r.removedTargetIds||[];n=new Wr([],a,i,null)}else{if(!("filter"in t))return P(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Or(r,i),s=e.targetId;n=new Qr(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return re.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?re.min():t.readTime?li(t.readTime):re.min()}(e);return this.listener.j_(t,n)}H_(e){const t={};t.database=gi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Sn(r)?{documents:wi(e,r)}:{query:Ei(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=si(e,t.resumeToken);const r=ii(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(re.min())>0){n.readTime=ai(e,t.snapshotVersion.toTimestamp());const r=ii(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.L_(t)}J_(e){const t={};t.database=gi(this.serializer),t.removeTarget=e,this.L_(t)}}class qa extends Ha{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return D(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length,55816),this.listener.X_()}onNext(e){D(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=function(e,t){return e&&e.length>0?(D(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?li(e.updateTime):li(t);return n.isEqual(re.min())&&(n=li(t)),new mr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=li(e.commitTime);return this.listener.ea(n,t)}ta(){const e={};e.database=gi(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>bi(this.serializer,e)))};this.L_(t)}}class Ka{}class Wa extends Ka{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.na=!1}ra(){if(this.na)throw new j(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.zo(e,ui(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new j(L.UNKNOWN,e.toString())}))}Yo(e,t,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.Yo(e,ui(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new j(L.UNKNOWN,e.toString())}))}terminate(){this.na=!0,this.connection.terminate()}}class Qa{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve()))))}ca(e){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.aa("Offline")))}set(e){this.la(),this.ia=0,"Online"===e&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.oa?(I(t),this.oa=!1):k("OnlineStateTracker",t)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Ya="RemoteStore";class Ja{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No((e=>{n.enqueueAndForget((async()=>{as(this)&&(k(Ya,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ta.add(4),await Za(t),t.da.set("Unknown"),t.Ta.delete(4),await Xa(t)}(this))}))})),this.da=new Qa(n,r)}}async function Xa(e){if(as(e))for(const t of e.Ia)await t(!0)}async function Za(e){for(const t of e.Ia)await t(!1)}function $a(e,t){const n=O(e);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),is(n)?rs(n):As(n).M_()&&ts(n,t))}function es(e,t){const n=O(e),r=As(n);n.Pa.delete(t),r.M_()&&ns(n,t),0===n.Pa.size&&(r.M_()?r.N_():as(n)&&n.da.set("Unknown"))}function ts(e,t){if(e.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}As(e).H_(t)}function ns(e,t){e.Aa.Ke(t),As(e).J_(t)}function rs(e){e.Aa=new Xr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Pa.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),As(e).start(),e.da._a()}function is(e){return as(e)&&!As(e).F_()&&e.Pa.size>0}function as(e){return 0===O(e).Ta.size}function ss(e){e.Aa=void 0}async function os(e){e.da.set("Online")}async function ls(e){e.Pa.forEach(((t,n)=>{ts(e,t)}))}async function cs(e,t){ss(e),is(e)?(e.da.ca(t),rs(e)):e.da.set("Unknown")}async function us(e,t,n){if(e.da.set("Online"),t instanceof Yr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Pa.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Pa.delete(r),e.Aa.removeTarget(r))}(e,t)}catch(n){k(Ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ds(e,n)}else if(t instanceof Wr?e.Aa.Xe(t):t instanceof Qr?e.Aa.ot(t):e.Aa.nt(t),!n.isEqual(re.min()))try{const t=await ba(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Aa.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Pa.get(r);i&&e.Pa.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Pa.get(t);if(!r)return;e.Pa.set(t,r.withResumeToken(ut.EMPTY_BYTE_STRING,r.snapshotVersion)),ns(e,t);const i=new Ni(r.target,t,n,r.sequenceNumber);ts(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){k(Ya,"Failed to raise snapshot:",t),await ds(e,t)}}async function ds(e,t,n){if(!Ee(t))throw t;e.Ta.add(1),await Za(e),e.da.set("Offline"),n||(n=()=>ba(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{k(Ya,"Retrying IndexedDB access"),await n(),e.Ta.delete(1),await Xa(e)}))}function hs(e,t){return t().catch((n=>ds(e,n,t)))}async function fs(e){const t=O(e),n=Ts(t);let r=t.ha.length>0?t.ha[t.ha.length-1].batchId:Se;for(;ps(t);)try{const e=await Ea(t.localStore,r);if(null===e){0===t.ha.length&&n.N_();break}r=e.batchId,ms(t,e)}catch(e){await ds(t,e)}gs(t)&&ys(t)}function ps(e){return as(e)&&e.ha.length<10}function ms(e,t){e.ha.push(t);const n=Ts(e);n.M_()&&n.Y_&&n.Z_(t.mutations)}function gs(e){return as(e)&&!Ts(e).F_()&&e.ha.length>0}function ys(e){Ts(e).start()}async function vs(e){Ts(e).ta()}async function bs(e){const t=Ts(e);for(const n of e.ha)t.Z_(n.mutations)}async function ws(e,t,n){const r=e.ha.shift(),i=Nr.from(r,t,n);await hs(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await fs(e)}async function Es(e,t){t&&Ts(e).Y_&&await async function(e,t){if(function(e){return Mr(e)&&e!==L.ABORTED}(t.code)){const n=e.ha.shift();Ts(e).O_(),await hs(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await fs(e)}}(e,t),gs(e)&&ys(e)}async function Cs(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),k(Ya,"RemoteStore received new credentials");const r=as(n);n.Ta.add(3),await Za(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await Xa(n)}async function Ss(e,t){const n=O(e);t?(n.Ta.delete(2),await Xa(n)):t||(n.Ta.add(2),await Za(n),n.da.set("Unknown"))}function As(e){return e.Ra||(e.Ra=function(e,t,n){const r=O(e);return r.ra(),new Ga(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:os.bind(null,e),n_:ls.bind(null,e),i_:cs.bind(null,e),j_:us.bind(null,e)}),e.Ia.push((async t=>{t?(e.Ra.O_(),is(e)?rs(e):e.da.set("Unknown")):(await e.Ra.stop(),ss(e))}))),e.Ra}function Ts(e){return e.Va||(e.Va=function(e,t,n){const r=O(e);return r.ra(),new qa(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:vs.bind(null,e),i_:Es.bind(null,e),X_:bs.bind(null,e),ea:ws.bind(null,e)}),e.Ia.push((async t=>{t?(e.Va.O_(),await fs(e)):(await e.Va.stop(),e.ha.length>0&&(k(Ya,"Stopping write stream with ".concat(e.ha.length," pending writes")),e.ha=[]))}))),e.Va}class xs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new xs(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ks(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),Ee(e))return new j(L.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=Gn(),this.sortedSet=new rt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Is))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Is;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Rs{constructor(){this.ma=new rt(ce.comparator)}track(e){const t=e.doc.key,n=this.ma.get(t);n?0!==e.type&&3===n.type?this.ma=this.ma.insert(t,e):3===e.type&&1!==n.type?this.ma=this.ma.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ma=this.ma.remove(t):1===e.type&&2===n.type?this.ma=this.ma.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):P(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _s{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new _s(e,t,Is.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ps{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some((e=>e.Sa()))}}class Ns{constructor(){this.queries=Ds(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=Ds(),r.forEach(((e,n)=>{for(const r of n.ya)r.onError(t)}))}(this,new j(L.ABORTED,"Firestore shutting down"))}}function Ds(){return new Un((e=>On(e)),Dn)}async function Os(e,t){const n=O(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.wa()&&t.Sa()&&(r=2):(a=new Ps,r=t.Sa()?0:1);try{switch(r){case 0:a.pa=await n.onListen(i,!0);break;case 1:a.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ks(e,"Initialization of query '".concat(Ln(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.ya.push(t),t.Da(n.onlineState),a.pa&&t.va(a.pa)&&Fs(n)}async function Ls(e,t){const n=O(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ya.indexOf(t);e>=0&&(a.ya.splice(e,1),0===a.ya.length?i=t.Sa()?0:1:!a.wa()&&t.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function js(e,t){const n=O(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ya)e.va(i)&&(r=!0);t.pa=i}}r&&Fs(n)}function Ms(e,t,n){const r=O(e),i=r.queries.get(t);if(i)for(const a of i.ya)a.onError(n);r.queries.delete(t)}function Fs(e){e.ba.forEach((e=>{e.next()}))}var Bs,Us;(Us=Bs||(Bs={})).Ca="default",Us.Cache="cache";class zs{constructor(e,t,n){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _s(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache)return!0;if(!this.Sa())return!0;const n="Offline"!==t;return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ba(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Bs.Cache}}class Vs{constructor(e){this.key=e}}class Hs{constructor(e){this.key=e}}class Gs{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Xn(),this.mutatedKeys=Xn(),this.Ha=Fn(e),this.Ja=new Is(this.Ha)}get Ya(){return this.Ga}Za(e,t){const n=t?t.Xa:new Rs,r=t?t.Ja:this.Ja;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=jn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.eu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Ha(u,o)>0||l&&this.Ha(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ja:a,Xa:n,Cs:s,mutatedKeys:i}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const a=e.Xa.ga();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ha(e.doc,t.doc))),this.tu(n),r=null!=r&&r;const s=t&&!r?this.nu():[],o=0===this.ja.size&&this.current&&!r?1:0,l=o!==this.za;return this.za=o,0!==a.length||l?{snapshot:new _s(this.query,e.Ja,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:s}:{ru:s}}Da(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Rs,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach((e=>this.Ga=this.Ga.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ga=this.Ga.delete(e))),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Xn(),this.Ja.forEach((e=>{this.iu(e.key)&&(this.ja=this.ja.add(e.key))}));const t=[];return e.forEach((e=>{this.ja.has(e)||t.push(new Hs(e))})),this.ja.forEach((n=>{e.has(n)||t.push(new Vs(n))})),t}su(e){this.Ga=e.$s,this.ja=Xn();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return _s.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const qs="SyncEngine";class Ks{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ws{constructor(e){this.key=e,this._u=!1}}class Qs{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.au={},this.uu=new Un((e=>On(e)),Dn),this.cu=new Map,this.lu=new Set,this.hu=new rt(ce.comparator),this.Pu=new Map,this.Tu=new ta,this.Iu={},this.Eu=new Map,this.du=zi.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}async function Ys(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yo(e);let i;const a=r.uu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await Xs(r,t,n,!0),i}async function Js(e,t){const n=yo(e);await Xs(n,t,!0,!1)}async function Xs(e,t,n,r){const i=await Ca(e.localStore,_n(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Zs(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&$a(e.remoteStore,i),o}async function Zs(e,t,n,r,i){e.Ru=(t,n,r)=>async function(e,t,n,r){let i=t.view.Za(n);i.Cs&&(i=await Aa(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Za(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return uo(e,t.targetId,o.ru),o.snapshot}(e,t,n,r);const a=await Aa(e.localStore,t,!0),s=new Gs(t,a.$s),o=s.Za(a.documents),l=Kr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);uo(e,n,c.ru);const u=new Ks(t,n,s);return e.uu.set(t,u),e.cu.has(n)?e.cu.get(n).push(t):e.cu.set(n,[t]),c.snapshot}async function $s(e,t,n){const r=O(e),i=r.uu.get(t),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter((e=>!Dn(e,t)))),void r.uu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sa(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&es(r.remoteStore,i.targetId),lo(r,i.targetId)})).catch(ve)):(lo(r,i.targetId),await Sa(r.localStore,i.targetId,!0))}async function eo(e,t){const n=O(e),r=n.uu.get(t),i=n.cu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),es(n.remoteStore,r.targetId))}async function to(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Ti.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ut.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=ma||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Ti.updateTargetData(e,c))}));let o=Vn(),l=Xn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(wa(e,a,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(re.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return be.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Pu.get(t);r&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r._u=!0:e.modifiedDocuments.size>0?D(r._u,14607):e.removedDocuments.size>0&&(D(r._u,42227),r._u=!1))})),await po(n,e,t)}catch(e){await ve(e)}}function no(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.uu.forEach(((n,r)=>{const i=r.view.Da(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ya)i.Da(t)&&(r=!0)})),r&&Fs(n)}(r.eventManager,t),e.length&&r.au.j_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ro(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Pu.get(t),a=i&&i.key;if(a){let e=new rt(ce.comparator);e=e.insert(a,Yt.newNoDocument(a,re.min()));const n=Xn().add(a),i=new qr(re.min(),new Map,new rt(Y),e,n);await to(r,i),r.hu=r.hu.remove(a),r.Pu.delete(t),fo(r)}else await Sa(r.localStore,t,!1).then((()=>lo(r,t,n))).catch(ve)}async function io(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=be.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);D(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);oo(n,r,null),so(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await po(n,e)}catch(e){await ve(e)}}async function ao(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(D(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);oo(r,t,n),so(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await po(r,e)}catch(n){await ve(n)}}function so(e,t){(e.Eu.get(t)||[]).forEach((e=>{e.resolve()})),e.Eu.delete(t)}function oo(e,t,n){const r=O(e);let i=r.Iu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Iu[r.currentUser.toKey()]=i}}function lo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cu.get(t))e.uu.delete(r),n&&e.au.Vu(r,n);e.cu.delete(t),e.isPrimaryClient&&e.Tu.Hr(t).forEach((t=>{e.Tu.containsKey(t)||co(e,t)}))}function co(e,t){e.lu.delete(t.path.canonicalString());const n=e.hu.get(t);null!==n&&(es(e.remoteStore,n),e.hu=e.hu.remove(t),e.Pu.delete(n),fo(e))}function uo(e,t,n){for(const r of n)r instanceof Vs?(e.Tu.addReference(r.key,t),ho(e,r)):r instanceof Hs?(k(qs,"Document no longer in limbo: "+r.key),e.Tu.removeReference(r.key,t),e.Tu.containsKey(r.key)||co(e,r.key)):P(19791,{mu:r})}function ho(e,t){const n=t.key,r=n.path.canonicalString();e.hu.get(n)||e.lu.has(r)||(k(qs,"New document in limbo: "+n),e.lu.add(r),fo(e))}function fo(e){for(;e.lu.size>0&&e.hu.size<e.maxConcurrentLimboResolutions;){const t=e.lu.values().next().value;e.lu.delete(t);const n=new ce(se.fromString(t)),r=e.du.next();e.Pu.set(r,new Ws(n)),e.hu=e.hu.insert(n,r),$a(e.remoteStore,new Ni(_n(xn(n.path)),r,"TargetPurposeLimboResolution",Ce.le))}}async function po(e,t,n){const r=O(e),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach(((e,o)=>{s.push(r.Ru(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=da.Rs(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.au.j_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>be.forEach(t,(t=>be.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>be.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ee(e))throw e;k(pa,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,a))}async function mo(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){k(qs,"User change. New user:",t.toKey());const e=await va(n.localStore,t);n.currentUser=t,function(e,t){e.Eu.forEach((e=>{e.forEach((e=>{e.reject(new j(L.CANCELLED,t))}))})),e.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await po(n,e.ks)}}function go(e,t){const n=O(e),r=n.Pu.get(t);if(r&&r._u)return Xn().add(r.key);{let e=Xn();const r=n.cu.get(t);if(!r)return e;for(const t of r){const r=n.uu.get(t);e=e.unionWith(r.view.Ya)}return e}}function yo(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=to.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=go.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ro.bind(null,t),t.au.j_=js.bind(null,t.eventManager),t.au.Vu=Ms.bind(null,t.eventManager),t}function vo(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=io.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ao.bind(null,t),t}class bo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ua(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return ya(this.persistence,new fa,e.initialUser,this.serializer)}yu(e){return new oa(ca.fi,this.serializer)}pu(e){return new ka}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bo.provider={build:()=>new bo};class wo extends bo{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){D(this.persistence.referenceDelegate instanceof ua,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ki(n,e.asyncQueue,t)}yu(e){const t=void 0!==this.cacheSizeBytes?Ui.withCacheSize(this.cacheSizeBytes):Ui.DEFAULT;return new oa((e=>ua.fi(e,t)),this.serializer)}}class Eo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>no(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mo.bind(null,this.syncEngine),await Ss(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ns}createDatastore(e){const t=Ua(e.databaseInfo.databaseId),n=function(e){return new Fa(e)}(e.databaseInfo);return function(e,t,n,r){return new Wa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ja(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>no(this.syncEngine,e,0)),_a.C()?new _a:new Ia)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Qs(e,t,n,r,i,a);return s&&(o.Au=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);k(Ya,"RemoteStore shutting down."),t.Ta.add(5),await Za(t),t.Ea.shutdown(),t.da.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Eo.provider={build:()=>new Eo};class Co{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):I("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const So="FirestoreClient";class Ao{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=S.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{k(So,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(k(So,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ks(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function To(e,t){e.asyncQueue.verifyOperationInProgress(),k(So,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await va(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ko(e);k(So,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Cs(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Cs(t.remoteStore,n))),e._onlineComponents=t}async function ko(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){k(So,"Using user provided OfflineComponentProvider");try{await To(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;R("Error using user provided cache. Falling back to memory cache: "+n),await To(e,new bo)}}else k(So,"Using default OfflineComponentProvider"),await To(e,new wo(void 0));return e._offlineComponents}async function Io(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(k(So,"Using user provided OnlineComponentProvider"),await xo(e,e._uninitializedComponentsProvider._online)):(k(So,"Using default OnlineComponentProvider"),await xo(e,new Eo))),e._onlineComponents}function Ro(e){return Io(e).then((e=>e.syncEngine))}async function _o(e){const t=await Io(e),n=t.eventManager;return n.onListen=Ys.bind(null,t.syncEngine),n.onUnlisten=$s.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Js.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eo.bind(null,t.syncEngine),n}function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Co({next:o=>{a.Cu(),t.enqueueAndForget((()=>Ls(e,s)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new j(L.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new j(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new zs(xn(n.path),a,{includeMetadataChanges:!0,La:!0});return Os(e,s)}(await _o(e),e.asyncQueue,t,n,r))),r.promise}function No(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new M;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Co({next:n=>{a.Cu(),t.enqueueAndForget((()=>Ls(e,s))),n.fromCache&&"server"===r.source?i.reject(new j(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new zs(n,a,{includeMetadataChanges:!0,La:!0});return Os(e,s)}(await _o(e),e.asyncQueue,t,n,r))),r.promise}function Do(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Oo=new Map;function Lo(e,t,n){if(!n)throw new j(L.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jo(e){if(!ce.isDocumentKey(e))throw new j(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mo(e){if(ce.isDocumentKey(e))throw new j(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Fo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":P(12329,{type:typeof e})}function Bo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fo(e);throw new j(L.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Uo="firestore.googleapis.com",zo=!0;class Vo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new j(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uo,this.ssl=zo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:zo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Bi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Hi)throw new j(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new j(L.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Do(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new j(L.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new j(L.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new j(L.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ho{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new j(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new B;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new j(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Oo.get(e);t&&(k("ComponentProvider","Removing Datastore"),Oo.delete(e),t.terminate())}(this),Promise.resolve()}}class Go{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class qo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qo(this.firestore,e,this._key)}}class Ko extends Go{constructor(e,t,n){super(e,t,xn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qo(this.firestore,null,new ce(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function Wo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Lo("collection","path",t),e instanceof Ho){const n=se.fromString(t,...r);return Mo(n),new Ko(e,null,n)}{if(!(e instanceof qo||e instanceof Ko))throw new j(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(se.fromString(t,...r));return Mo(n),new Ko(e.firestore,null,n)}}function Qo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=Q.newId()),Lo("doc","path",t),e instanceof Ho){const n=se.fromString(t,...r);return jo(n),new qo(e,null,new ce(n))}{if(!(e instanceof qo||e instanceof Ko))throw new j(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(se.fromString(t,...r));return jo(n),new qo(e.firestore,e instanceof Ko?e.converter:null,new ce(n))}}const Yo="AsyncQueue";class Jo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new za(this,"async_queue_retry"),this.ec=()=>{const e=Ba();e&&k(Yo,"Visibility state changed to "+e.visibilityState),this.C_.p_()},this.tc=e;const t=Ba();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Ba();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise((()=>{}));const t=new M;return this.rc((()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.zu.push(e),this.sc())))}async sc(){if(0!==this.zu.length){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ee(e))throw e;k(Yo,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_((()=>this.sc()))}}rc(e){const t=this.tc.then((()=>(this.Yu=!0,e().catch((e=>{throw this.Ju=e,this.Yu=!1,I("INTERNAL UNHANDLED ERROR: ",Xo(e)),e})).then((e=>(this.Yu=!1,e))))));return this.tc=t,t}enqueueAfterDelay(e,t,n){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const r=xs.createAndSchedule(this,e,t,n,(e=>this.oc(e)));return this.Hu.push(r),r}nc(){this.Ju&&P(47125,{_c:Xo(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do{e=this.tc,await e}while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then((()=>{this.Hu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Hu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ac()}))}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Xo(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Zo(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class $o extends Ho{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Jo,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jo(e),this._firestoreClient=void 0,await e}}}function el(e,t){const n="object"==typeof e?e:(0,a.Sx)(),r="string"==typeof e?e:t||St,i=(0,a.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Bo(e,Ho);const a=(0,l.zJ)(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),c="".concat(t,":").concat(n);a&&((0,l.gE)("https://".concat(c)),(0,l.P1)("Firestore",!0)),s.host!==Uo&&s.host!==c&&R("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!(0,l.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=S.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new j(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new S(a)}e._authCredentials=new U(new F(t,n))}}(i,...e)}return i}function tl(e){if(e._terminated)throw new j(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||nl(e),e._firestoreClient}function nl(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Ct(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Do(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ao(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(ut.fromBase64String(e))}catch(e){throw new j(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rl(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class il{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new j(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class al{constructor(e){this._methodName=e}}class sl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}class ol{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ll=/^__.*__$/;class cl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ar(e,this.data,t,this.fieldTransforms)}}class ul{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P(40011,{hc:e})}}class hl{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new hl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tc({path:n,Ec:!1});return r.dc(e),r}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tc({path:n,Ec:!1});return r.Pc(),r}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return xl(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(0===e.length)throw this.Vc("Document fields must not be empty");if(dl(this.hc)&&ll.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class fl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ua(e)}gc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hl({hc:e,methodName:t,fc:n,path:le.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pl(e){const t=e._freezeSettings(),n=Ua(e._databaseId);return new fl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ml(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.gc(a.merge||a.mergeFields?2:0,t,n,i);Cl("Data must be an object, but it was:",s,r);const o=wl(r,s);let l,c;if(a.merge)l=new lt(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Sl(t,r,n);if(!s.contains(i))throw new j(L.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));kl(e,i)||e.push(i)}l=new lt(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new cl(new Wt(o),l,c)}class gl extends al{_toFieldTransform(e){if(2!==e.hc)throw 1===e.hc?e.Vc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Vc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gl}}function yl(e,t,n,r){const i=e.gc(1,t,n);Cl("Data must be an object, but it was:",i,r);const a=[],s=Wt.empty();tt(r,((e,r)=>{const o=Tl(t,e,n);r=(0,l.Ku)(r);const c=i.Ac(o);if(r instanceof gl)a.push(o);else{const e=bl(r,c);null!=e&&(a.push(o),s.set(o,e))}}));const o=new lt(a);return new ul(s,o,i.fieldTransforms)}function vl(e,t,n,r,i,a){const s=e.gc(1,t,n),o=[Sl(t,r,n)],c=[i];if(a.length%2!=0)throw new j(L.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<a.length;l+=2)o.push(Sl(t,a[l])),c.push(a[l+1]);const u=[],d=Wt.empty();for(let f=o.length-1;f>=0;--f)if(!kl(u,o[f])){const e=o[f];let t=c[f];t=(0,l.Ku)(t);const n=s.Ac(e);if(t instanceof gl)u.push(e);else{const r=bl(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new lt(u);return new ul(d,h,s.fieldTransforms)}function bl(e,t){if(El(e=(0,l.Ku)(e)))return Cl("Unsupported field value:",t,e),wl(e,t);if(e instanceof al)return function(e,t){if(!dl(t.hc))throw t.Vc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Vc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ec&&4!==t.hc)throw t.Vc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=bl(i,t.Rc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ne.fromDate(e);return{timestampValue:ai(t.serializer,n)}}if(e instanceof ne){const n=new ne(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ai(t.serializer,n)}}if(e instanceof sl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rl)return{bytesValue:si(t.serializer,e._byteString)};if(e instanceof qo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Vc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ci(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ol)return function(e,t){return{mapValue:{fields:{[Tt]:{stringValue:It},[Rt]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Vc("VectorValues must only contain numeric values.");return er(t.serializer,e)}))}}}}}}(e,t);throw t.Vc("Unsupported field value: ".concat(Fo(e)))}(e,t)}function wl(e,t){const n={};return nt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tt(e,((e,r)=>{const i=bl(r,t.Ic(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function El(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof sl||e instanceof rl||e instanceof qo||e instanceof al||e instanceof ol)}function Cl(e,t,n){if(!El(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Fo(n);throw"an object"===r?t.Vc(e+" a custom object"):t.Vc(e+" "+r)}}function Sl(e,t,n){if((t=(0,l.Ku)(t))instanceof il)return t._internalPath;if("string"==typeof t)return Tl(e,t);throw xl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Al=new RegExp("[~\\*/\\[\\]]");function Tl(e,t,n){if(t.search(Al)>=0)throw xl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new il(...t.split("."))._internalPath}catch(r){throw xl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function xl(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new j(L.INVALID_ARGUMENT,o+e+l)}function kl(e,t){return e.some((e=>e.isEqual(t)))}class Il{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rl extends Il{data(){return super.data()}}function _l(e,t){return"string"==typeof t?Tl(e,t):t instanceof il?t._internalPath:t._delegate._internalPath}function Pl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new j(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_t(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw P(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return tt(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Rt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ft(e.doubleValue)));return new ol(i)}convertGeoPoint(e){return new sl(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Et(e));default:return null}}convertTimestamp(e){const t=ht(e);return new ne(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=se.fromString(e);D(Pi(n),9688,{name:e});const r=new At(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||I("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Dl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends Il{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jl extends Ll{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ml{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ol(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jl(this._firestore,this._userDataWriter,n.key,n,new Ol(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new j(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new jl(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ol(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new jl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ol(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Fl(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P(61501,{type:e})}}function Bl(e){e=Bo(e,qo);const t=Bo(e.firestore,$o);return Po(tl(t),e._key).then((n=>Wl(t,e,n)))}class Ul extends Nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,t)}}function zl(e){e=Bo(e,Go);const t=Bo(e.firestore,$o),n=tl(t),r=new Ul(t);return Pl(e._query),No(n,e._query).then((n=>new Ml(t,r,e,n)))}function Vl(e,t,n){e=Bo(e,qo);const r=Bo(e.firestore,$o),i=Dl(e.converter,t,n);return Kl(r,[ml(pl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gr.none())])}function Hl(e,t,n){e=Bo(e,qo);const r=Bo(e.firestore,$o),i=pl(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),c=3;c<s;c++)o[c-3]=arguments[c];return a="string"==typeof(t=(0,l.Ku)(t))||t instanceof il?vl(i,"updateDoc",e._key,t,n,o):yl(i,"updateDoc",e._key,t),Kl(r,[a.toMutation(e._key,gr.exists(!0))])}function Gl(e){return Kl(Bo(e.firestore,$o),[new Rr(e._key,gr.none())])}function ql(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=(0,l.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Zo(n[c])||(o=n[c],c++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Zo(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let d,h,f;if(e instanceof qo)h=Bo(e.firestore,$o),f=xn(e._key.path),d={next:t=>{n[c]&&n[c](Wl(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Bo(e,Go);h=Bo(t.firestore,$o),f=t._query;const r=new Ul(h);d={next:e=>{n[c]&&n[c](new Ml(h,r,t,e))},error:n[c+1],complete:n[c+2]},Pl(e._query)}return function(e,t,n,r){const i=new Co(r),a=new zs(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Os(await _o(e),a))),()=>{i.Cu(),e.asyncQueue.enqueueAndForget((async()=>Ls(await _o(e),a)))}}(tl(h),f,u,d)}function Kl(e,t){return function(e,t){const n=new M;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vo(e);try{const e=await function(e,t){const n=O(e),r=ne.now(),i=t.reduce(((e,t)=>e.add(t.key)),Xn());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Vn(),l=Xn();return n.Bs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=Cr(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Tr(e.key,t,Qt(t.value.mapValue),gr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:qn(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Iu[e.currentUser.toKey()];r||(r=new rt(Y)),r=r.insert(t,n),e.Iu[e.currentUser.toKey()]=r}(r,e.batchId,n),await po(r,e.changes),await fs(r.remoteStore)}catch(e){const t=ks(e,"Failed to persist write");n.reject(t)}}(await Ro(e),t,n))),n.promise}(tl(e),t)}function Wl(e,t,n){const r=n.docs.get(t._key),i=new Ul(e);return new Ll(e,i,t._key,r,new Ol(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){A=e}(a.MF),(0,a.om)(new s.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new $o(new z(e.getProvider("auth-internal")),new q(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new j(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new At(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),(0,a.KO)(E,C,e),(0,a.KO)(E,C,"esm2017")}()},5538:(e,t,n)=>{var r={"./":2974,"./App":7391,"./App.tsx":7391,"./assets/cards/base/architect.jpg":5175,"./assets/cards/base/bard.jpg":909,"./assets/cards/base/bargetoad.jpg":8257,"./assets/cards/base/castle.jpg":8660,"./assets/cards/base/cemetery.jpg":844,"./assets/cards/base/chapel.jpg":9921,"./assets/cards/base/chipsweep.jpg":7228,"./assets/cards/base/clocktower.jpg":5189,"./assets/cards/base/courthouse.jpg":6943,"./assets/cards/base/crane.jpg":7921,"./assets/cards/base/doctor.jpg":8813,"./assets/cards/base/dungeon.jpg":8728,"./assets/cards/base/evertree.jpg":5936,"./assets/cards/base/fairgrounds.jpg":9392,"./assets/cards/base/farm.jpg":5868,"./assets/cards/base/fool.jpg":1764,"./assets/cards/base/generalstore.jpg":2551,"./assets/cards/base/historian.jpg":8159,"./assets/cards/base/husband.jpg":3291,"./assets/cards/base/inn.jpg":451,"./assets/cards/base/innkeeper.jpg":2869,"./assets/cards/base/judge.jpg":4575,"./assets/cards/base/king.jpg":7129,"./assets/cards/base/lookout.jpg":3917,"./assets/cards/base/mine.jpg":3457,"./assets/cards/base/minermole.jpg":2602,"./assets/cards/base/monastery.jpg":7122,"./assets/cards/base/monk.jpg":7113,"./assets/cards/base/palace.jpg":1060,"./assets/cards/base/peddler.jpg":9428,"./assets/cards/base/postalpigeon.jpg":6767,"./assets/cards/base/postoffice.jpg":7478,"./assets/cards/base/queen.jpg":2100,"./assets/cards/base/ranger.jpg":6051,"./assets/cards/base/resinrefinery.jpg":1453,"./assets/cards/base/ruins.jpg":5759,"./assets/cards/base/school.jpg":4068,"./assets/cards/base/shepherd.jpg":7869,"./assets/cards/base/shopkeeper.jpg":5222,"./assets/cards/base/storehouse.jpg":273,"./assets/cards/base/teacher.jpg":1888,"./assets/cards/base/theater.jpg":5845,"./assets/cards/base/twigbarge.jpg":2116,"./assets/cards/base/undertaker.jpg":6999,"./assets/cards/base/university.jpg":4276,"./assets/cards/base/wanderer.jpg":8678,"./assets/cards/base/wife.jpg":295,"./assets/cards/base/woodcarver.jpg":4746,"./assets/cards/extra extra/carnival.jpg":533,"./assets/cards/extra extra/gazette.jpg":2771,"./assets/cards/extra extra/juggler.jpg":6165,"./assets/cards/extra extra/scurrblechampion.jpg":5612,"./assets/cards/extra extra/scurrblestadium.jpg":2540,"./assets/cards/extra extra/towncrier.jpg":4174,"./assets/cards/legends/amillaglistendew.jpg":7419,"./assets/cards/legends/bridgeofthesky.jpg":405,"./assets/cards/legends/cirruswindfall.jpg":5904,"./assets/cards/legends/foresight.jpg":3692,"./assets/cards/legends/fynnnobletail.jpg":4114,"./assets/cards/legends/mcgregorsmarket.jpg":9798,"./assets/cards/legends/oleandersoperahouse.jpg":73,"./assets/cards/legends/poe.jpg":9689,"./assets/cards/legends/silverscalespring.jpg":3285,"./assets/cards/legends/thegreenacorn.jpg":560,"./assets/cards/rugwort/rugworttherobber.jpg":3566,"./assets/cards/rugwort/rugworttherowdy.jpg":9401,"./assets/cards/rugwort/rugworttheruler.jpg":1484,"./assets/data/cards":2484,"./assets/data/cards.ts":2484,"./assets/data/events":8402,"./assets/data/events.ts":8402,"./assets/data/journey":7831,"./assets/data/journey.ts":7831,"./assets/data/locations":2091,"./assets/data/locations.ts":2091,"./assets/data/powers":4645,"./assets/data/powers.ts":4645,"./assets/data/specialEvents":7981,"./assets/data/specialEvents.ts":7981,"./assets/icons/berry.png":9865,"./assets/icons/bluetype.png":1705,"./assets/icons/blueworker.PNG":7326,"./assets/icons/card.png":5863,"./assets/icons/coin.png":1566,"./assets/icons/greentype.png":5832,"./assets/icons/pebble.png":2741,"./assets/icons/purpletype.png":7823,"./assets/icons/redtype.png":7108,"./assets/icons/redworker.png":9742,"./assets/icons/resin.png":5774,"./assets/icons/tantype.png":3144,"./assets/icons/twig.png":9490,"./assets/icons/wildcard.png":9247,"./assets/images/background.png":3495,"./assets/images/cardback.png":5356,"./assets/images/icon.png":6472,"./assets/transparent-icons/berry.png":4316,"./assets/transparent-icons/bluetype.png":3774,"./assets/transparent-icons/blueworker.png":1796,"./assets/transparent-icons/card.png":9100,"./assets/transparent-icons/coin.png":1121,"./assets/transparent-icons/greentype.png":6981,"./assets/transparent-icons/pebble.png":914,"./assets/transparent-icons/purpletype.png":8464,"./assets/transparent-icons/rat.png":9841,"./assets/transparent-icons/redtype.png":3317,"./assets/transparent-icons/redworker.png":6335,"./assets/transparent-icons/resin.png":3163,"./assets/transparent-icons/spider.png":9673,"./assets/transparent-icons/tantype.png":1369,"./assets/transparent-icons/twig.png":6289,"./assets/transparent-icons/wildcard.png":4176,"./components/Alert":9291,"./components/Alert.tsx":9291,"./components/BackgroundContainer":9479,"./components/BackgroundContainer.tsx":9479,"./components/Button":8417,"./components/Button.tsx":8417,"./components/CardInspect":3791,"./components/CardInspect.tsx":3791,"./components/CardPreview":8559,"./components/CardPreview.tsx":8559,"./components/CardPreviewBottom":5186,"./components/CardPreviewBottom.tsx":5186,"./components/CardPreviewStack":9495,"./components/CardPreviewStack.tsx":9495,"./components/CardRow":8959,"./components/CardRow.tsx":8959,"./components/City":2252,"./components/City.tsx":2252,"./components/Controls":223,"./components/Controls.tsx":223,"./components/Discard":6951,"./components/Discard.tsx":6951,"./components/EventsDisplay":8090,"./components/EventsDisplay.tsx":8090,"./components/FarmStack":2101,"./components/FarmStack.tsx":2101,"./components/GameList":3587,"./components/GameList.tsx":3587,"./components/Hand":9186,"./components/Hand.tsx":9186,"./components/Hoverable":3759,"./components/Hoverable.tsx":3759,"./components/Icons":4807,"./components/Icons.tsx":4807,"./components/Id":4346,"./components/Id.tsx":4346,"./components/Inspectable":5889,"./components/Inspectable.tsx":5889,"./components/JourneysDisplay":3182,"./components/JourneysDisplay.tsx":3182,"./components/Legends":8355,"./components/Legends.tsx":8355,"./components/LocationInspect":6214,"./components/LocationInspect.tsx":6214,"./components/LocationsDisplay":8375,"./components/LocationsDisplay.tsx":8375,"./components/Log":3187,"./components/Log.tsx":3187,"./components/Meadow":9814,"./components/Meadow.tsx":9814,"./components/Navigation":5059,"./components/Navigation.tsx":5059,"./components/PlayerStatus":1428,"./components/PlayerStatus.tsx":1428,"./components/PowerInspect":452,"./components/PowerInspect.tsx":452,"./components/ResourceBank":6159,"./components/ResourceBank.tsx":6159,"./components/Reveal":8098,"./components/Reveal.tsx":8098,"./components/Sidebar":8221,"./components/Sidebar.tsx":8221,"./components/SpecialEventInspect":2756,"./components/SpecialEventInspect.tsx":2756,"./components/SpecialEventsDisplay":9261,"./components/SpecialEventsDisplay.tsx":9261,"./engine/CardManagementContext":443,"./engine/CardManagementContext.tsx":443,"./engine/GameContext":7248,"./engine/GameContext.tsx":7248,"./engine/gameActions":1380,"./engine/gameActions.ts":1380,"./engine/gameConstants":8382,"./engine/gameConstants.ts":8382,"./engine/gameDefaults":5545,"./engine/gameDefaults.ts":5545,"./engine/gameTypes":7766,"./engine/gameTypes.ts":7766,"./index":2974,"./index.css":9555,"./index.tsx":2974,"./screens/CardManagement":3181,"./screens/CardManagement.tsx":3181,"./screens/Game":3e3,"./screens/Game.tsx":3e3,"./screens/Home":7923,"./screens/Home.tsx":7923,"./screens/Lobby":1920,"./screens/Lobby.tsx":1920,"./server/GameProviderLoader":3258,"./server/GameProviderLoader.tsx":3258,"./server/firebase":7106,"./server/firebase.ts":7106,"./utils/card":6588,"./utils/card.ts":6588,"./utils/gameLogic":9924,"./utils/gameLogic.ts":9924,"./utils/identity":8948,"./utils/identity.ts":8948,"./utils/loops":7887,"./utils/loops.ts":7887,"./utils/math":8332,"./utils/math.ts":8332,"./utils/navigation":8652,"./utils/navigation.ts":8652,"./utils/react":2749,"./utils/react.tsx":2749,"./utils/tailwind":8490,"./utils/tailwind.ts":8490};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=5538},5545:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CHARACTER_TYPE_ORDER:()=>p,EFFECT_ORDER:()=>f,RESOURCE_ORDER:()=>h,defaultCharacterCount:()=>a,defaultEffectTypeCount:()=>s,defaultGameState:()=>d,defaultPlayer:()=>c,defaultPlayerCount:()=>i,defaultResources:()=>o,defaultWorkers:()=>l});var r=n(2555);const i={Red:0,Blue:0},a={rat:0,spider:0},s={Blue:0,Green:0,Purple:0,Red:0,Tan:0},o={twigs:0,resin:0,pebbles:0,berries:0,coins:0,cards:0,wildcards:0},l={workersLeft:2,maxWorkers:2},c={name:"",id:"",color:"Red",hand:[],city:[],resources:o,workers:l,season:"Winter",legends:[],power:null,discarding:!1,playing:!1,giving:!1,history:{discarded:[],cityDiscarded:[],drew:[],played:[],gave:[],resources:o,workers:l,season:"Winter"}},u={players:{Red:c,Blue:c},deck:[],discard:[],meadow:[],reveal:[],farmStack:[],locations:[],journeys:[],events:[],specialEvents:[],turn:"Red",previousState:null,cardFrequencies:null,activeExpansions:[],powersEnabled:!1},d=(0,r.A)((0,r.A)({},u),{},{previousState:structuredClone(u)}),h=["twigs","resin","pebbles","berries","coins","cards","wildcards"],f=["Blue","Green","Purple","Red","Tan"],p=["rat","spider"]},5612:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/scurrblechampion.c3197e85ee68558fb95f.jpg"},5759:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ruins.6444667527feff187f41.jpg"},5774:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/resin.3797a9e6a3091e5a70d9.png"},5832:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/greentype.0f0890b096d5e9a2a920.png"},5845:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/theater.cad2743a5a25c69d4e10.jpg"},5852:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});const r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const a=new Uint8Array(16);const s=[];for(let c=0;c<256;++c)s.push((c+256).toString(16).slice(1));function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}const l=function(e,t,n){var s,l,c,u;if(r.randomUUID&&!t&&!e)return r.randomUUID();const d=null!==(s=null!==(l=(e=e||{}).random)&&void 0!==l?l:null===(c=(u=e).rng)||void 0===c?void 0:c.call(u))&&void 0!==s?s:function(){if(!i){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(a)}();if(d.length<16)throw new Error("Random bytes length must be >= 16");if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=d[e];return t}return o(d)}},5863:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/card.fae1d7c1872500ca6dc4.png"},5868:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/farm.da8ef5fea0f6c888accd.jpg"},5889:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(5043),i=n(7950),a=n(579);const s=function(e){let{children:t,onClose:n}=e;const[s,o]=(0,r.useState)(!1);(0,r.useEffect)((()=>(o(!0),()=>o(!1))),[]);const l=(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex justify-center items-center text-center z-50 bg-inspect-background",onClick:n,children:(0,a.jsx)("div",{className:"flex gap-8 p-6 rounded-xl max-w-[80%] max-h-[80%] overflow-x-auto bg-inspect",onClick:e=>e.stopPropagation(),children:t})});return s?(0,i.createPortal)(l,document.body):null}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(g=!1,E(e),!m)if(null!==r(c))m=!0,A||(A=!0,S());else{var t=r(u);null!==t&&N(C,t.startTime-e)}}var S,A=!1,T=-1,x=5,k=-1;function I(){return!!y||!(t.unstable_now()-k<x)}function R(){if(y=!1,A){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(T),T=-1),p=!0;var a=f;try{t:{for(E(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,E(e),n=!0;break t}h===r(c)&&i(c),E(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(C,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():A=!1}}}if("function"===typeof w)S=function(){w(R)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,P=_.port2;_.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){v(R,0)};function N(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(T),T=-1):g=!0,N(C,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A||(A=!0,S()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5904:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cirruswindfall.355c583e9b5e37c1ce10.jpg"},5936:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/evertree.8aef0907470072e2d8f0.jpg"},6051:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ranger.1b3d58440eb21e7849e9.jpg"},6159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ResourceDisplay:()=>h,default:()=>f});var r=n(2555),i=n(7248),a=n(5545),s=n(9924),o=n(8948),l=n(7887),c=n(8417),u=n(4807),d=n(579);function h(e){let{resource:t}=e;const{game:n,addResourcesToSelf:l,giveResources:h}=(0,i.useGame)(),f=(0,o.getPlayerId)(),p=(0,s.isNotYourTurn)(n,f),m=(0,s.canGiveResources)(n,n.turn),g=(0,s.computeResourceCount)(n);return(0,d.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[m&&(0,d.jsx)(c.default,{disabled:p,onClick:()=>{h(f,(0,r.A)((0,r.A)({},a.defaultResources),{},{[t]:1}),(0,s.oppositePlayerOf)(n.turn))},variant:"rare",children:"!"}),(0,d.jsx)(u.ResourceIcon,{type:t}),(0,d.jsx)("p",{className:"text-xs",children:g[t]}),(0,d.jsx)(c.default,{disabled:p,onClick:()=>{l(f,(0,r.A)((0,r.A)({},a.defaultResources),{},{[t]:-1}))},children:"-"}),(0,d.jsx)(c.default,{disabled:p,onClick:()=>{l(f,(0,r.A)((0,r.A)({},a.defaultResources),{},{[t]:1}))},children:"+"})]})}const f=function(){return(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(0,l.mapOverResources)(a.defaultResources,((e,t)=>"cards"===e||"wildcards"===e?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)(h,{resource:e},e)),!1)})}},6165:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/juggler.e980bbc6ffc4129b9181.jpg"},6214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(2555),i=n(7248),a=n(5545),s=n(9924),o=n(8948),l=n(7887),c=n(2749),u=n(8417),d=n(4807),h=n(5889),f=n(579);const p=function(e){let{location:t,onClose:n,index:p}=e;const{game:m,visitLocation:g,addResourcesToLocation:y,placeCharacterOnLocation:v}=(0,i.useGame)(),b=(0,o.getPlayerId)(),w=(0,o.getPlayerColor)(m,b),E=(0,s.isNotYourTurn)(m,b),C=w&&(0,s.canVisitLocation)(m,t,w,1),S=w&&(0,s.canVisitLocation)(m,t,w,-1),A=w&&(0,s.canAddResourcesToLocation)(m,t,w);return(0,f.jsx)(h.default,{onClose:n,children:(0,f.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto min-w-96 gap-6 max-h-[100%] items-center",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("strong",{children:"Resources:"}),(0,l.mapOverResources)(t.resources,((e,t)=>(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)(d.ResourceIcon,{type:e})," ",t]},e)))]}),t.storage&&(0,f.jsx)("div",{className:"grid grid-cols-2 gap-4 mx-auto",children:(0,l.mapOverResources)(t.storage,((e,t)=>"cards"===e||"wildcards"===e||"coins"===e?(0,f.jsx)(f.Fragment,{}):(0,f.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,f.jsxs)("div",{className:"flex items-center gap-0",children:[(0,f.jsx)(d.ResourceIcon,{type:e}),(0,f.jsx)("span",{children:t})]}),(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsx)(u.default,{disabled:E||!A,onClick:()=>y(b,p,(0,r.A)((0,r.A)({},a.defaultResources),{},{[e]:-1})),children:"-"}),(0,f.jsx)(u.default,{disabled:E||!A,onClick:()=>y(b,p,(0,r.A)((0,r.A)({},a.defaultResources),{},{[e]:1})),children:"+"})]})]},e)),!1)}),(0,f.jsxs)("div",{className:"flex flex-col items-center",children:[(0,c.renderVisitButtons)(E||!C,E||!S,(()=>g(b,p,1)),(()=>g(b,p,-1))),(0,c.renderVisitingWorkers)(t)]}),t.characters&&w&&(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.mapOverCharacters)((e=>(0,s.canPlaceCharacterOnLocation)(m,t,w,1,e)?(0,f.jsxs)("div",{children:[(0,f.jsx)(u.default,{disabled:E||!(0,s.canPlaceCharacterOnLocation)(m,t,w,1,e),onClick:()=>v(b,p,1,e),children:"Place ".concat(e)}),(0,f.jsx)(u.default,{disabled:E||!(0,s.canPlaceCharacterOnLocation)(m,t,w,-1,e),onClick:()=>v(b,p,-1,e),children:"Remove"})]}):(0,f.jsx)(f.Fragment,{}))),(0,c.renderPlacedCharacters)(t)]})]})})}},6289:e=>{"use strict";e.exports="data:image/png;base64,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"},6335:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/redworker.a6297542e83216fdb2a5.png"},6472:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/icon.2a5002c6e3285f5f0f63.png"},6588:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cardNameFromPath:()=>l,findCard:()=>c,formatExpansionName:()=>h,generateDefaultCardFrequencies:()=>g,getActiveCards:()=>m,getBannedCards:()=>p,getCardPath:()=>o,groupCardsByBelow:()=>v,groupCardsByExpansion:()=>f,isAllDefault:()=>y,makeLegendsDecks:()=>d,makeShuffledDeck:()=>u});var r=n(2555),i=n(2484),a=n(5545),s=n(8332);const o=(e,t)=>{const n=t.replace(/ /g,"").toLowerCase();return"assets/cards/".concat(e,"/").concat(n,".jpg")},l=e=>{var t,n;return null!==(t=null===(n=e.split("/").pop())||void 0===n?void 0:n.replace(/\.jpg$/,""))&&void 0!==t?t:""},c=e=>{let t=i.rawCards.find((t=>t.name===e));if(t)return(0,r.A)((0,r.A)({},t),{},{discarding:!1,playing:!1,giving:!1,below:null,characters:null})},u=(e,t)=>{const n=Object.values(e).reduce(((e,t)=>(0,r.A)((0,r.A)({},e),t)),{}),o=i.rawCards.flatMap((e=>{var i;if("legends"===e.expansionName)return[];const s=null!==(i=n[e.name])&&void 0!==i?i:1;return Array.from({length:s},(()=>(0,r.A)((0,r.A)({},e),{},{discarding:!1,playing:!1,giving:!1,below:null,characters:t?a.defaultCharacterCount:null})))}));return(0,s.shuffleArray)(o)},d=e=>{const t=i.rawCards.filter((e=>"legends"===e.expansionName)),n=t.filter((e=>"Critter"===e.cardType)).flatMap((t=>{var n;const i=null!==(n=e[t.name])&&void 0!==n?n:1;return Array.from({length:i},(()=>(0,r.A)((0,r.A)({},t),{},{discarding:!1,playing:!1,giving:!1,below:null})))})),a=t.filter((e=>"Construction"===e.cardType)).flatMap((t=>{var n;const i=null!==(n=e[t.name])&&void 0!==n?n:1;return Array.from({length:i},(()=>(0,r.A)((0,r.A)({},t),{},{discarding:!1,playing:!1,giving:!1,below:null})))}));return{critters:(0,s.shuffleArray)(n),constructions:(0,s.shuffleArray)(a)}},h=e=>e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),f=e=>e.reduce(((e,t)=>{let[n,r]=t;return e[n]=Object.entries(r).map((e=>{let[t,n]=e;const r=c(t);return r?{card:r,frequency:n}:null})).filter((e=>null!==e)),e}),{}),p=e=>Object.entries(e).map((e=>{let[t,n]=e;return[t,Object.fromEntries(Object.entries(n).filter((e=>{let[t,n]=e;return 0===n})))]})),m=e=>Object.entries(e).map((e=>{let[t,n]=e;return[t,Object.fromEntries(Object.entries(n).filter((e=>{let[t,n]=e;return n>0})))]}));function g(e){const t={};return Object.keys(i.BASE_CARD_FREQUENCIES).forEach((n=>{if(e.includes(n))t[n]=(0,r.A)({},i.BASE_CARD_FREQUENCIES[n]);else{const e={};Object.keys(i.BASE_CARD_FREQUENCIES[n]).forEach((t=>{e[t]=0})),t[n]=e}})),t}const y=e=>Object.entries(e).every((e=>{let[t,n]=e;return Object.entries(n).every((e=>{var n;let[r,a]=e;return a===(null===(n=i.BASE_CARD_FREQUENCIES[t])||void 0===n?void 0:n[r])}))||Object.entries(n).every((e=>{let[t,n]=e;return 0===n}))})),v=e=>{const t=[],n=new Set,r=e.filter((e=>{let{card:t}=e;return"Scurrble Champion"===t.name}));r.length>0&&(t.push(r),r.forEach((e=>{let{index:t}=e;return n.add(t)})));const i=new Map;return e.forEach((e=>{let{card:t,index:r}=e;!n.has(r)&&t.below&&(i.has(t.below)||i.set(t.below,[]),i.get(t.below).push({card:t,index:r}))})),i.forEach(((r,i)=>{const a=e.filter((e=>{let{card:t,index:r}=e;return t.name===i&&!n.has(r)}));if(a.length>0){const e=Math.ceil(r.length/a.length);a.forEach(((i,a)=>{const s=a*e,o=Math.min(s+e,r.length),l=r.slice(s,o);l.length>0&&(t.push([i,...l]),n.add(i.index),l.forEach((e=>{let{index:t}=e;return n.add(t)})))}))}else t.push(r),r.forEach((e=>{let{index:t}=e;return n.add(t)}))})),e.forEach((e=>{n.has(e.index)||(t.push([e]),n.add(e.index))})),t}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6767:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/postalpigeon.faa462929177ab0db8bb.jpg"},6943:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/courthouse.e9683492353f6c2ba1e1.jpg"},6951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(7248),i=n(8948),a=n(8959),s=n(579);const o=function(){const{game:e,toggleCardPlaying:t}=(0,r.useGame)(),n=e.players[e.turn].playing,o=(0,i.getPlayerId)();return 0===e.discard.length?(0,s.jsx)("div",{className:"italic text-center py-2",children:"No cards in discard pile"}):(0,s.jsx)(a.default,{cards:e.discard,maxLength:e.discard.length,location:"discard",cityColor:null,onLeftClick:(e,r)=>{n&&r&&t(o,"discard",e,null)}})}},6981:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/greentype.229901bfdac213531a68.png"},6999:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/undertaker.e8d79cb456842a756d29.jpg"},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),a=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case E:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var D=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},M=[],F=-1;function B(e){return{current:e}}function U(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var V=B(null),H=B(null),G=B(null),q=B(null);function K(e,t){switch(z(G,t),z(H,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),z(V,e)}function W(){U(V),U(H),U(G)}function Q(e){null!==e.memoizedState&&z(q,e);var t=V.current,n=ad(t,e.type);t!==n&&(z(H,e),z(V,n))}function Y(e){H.current===e&&(U(V),U(H)),q.current===e&&(U(q),Qd._currentValue=j)}var J=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ve(r):0!==(s&=o)?i=ve(s):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~a)?i=ve(o):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function _e(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Pe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pe,De="__reactProps$"+Pe,Oe="__reactContainer$"+Pe,Le="__reactEvents$"+Pe,je="__reactListeners$"+Pe,Me="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,Be="__reactMarker$"+Pe;function Ue(e){delete e[Ne],delete e[De],delete e[Le],delete e[je],delete e[Me]}function ze(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ne])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Ne]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ge(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Be]=!0}var Ke=new Set,We={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Je,Xe,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(i=t,J.call(et,i)||!J.call($e,i)&&(Ze.test(i)?et[i]=!0:($e[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Xe}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function At(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&At(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&At(e,a,t[a])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _t=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Dt=null;function Ot(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[De]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function jt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Nt||null!==Dt)&&(zc(),Nt&&(t=Nt,e=Dt,Dt=Nt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Dh){Bt=!1}var zt=null,Vt=null,Ht=null;function Gt(){if(Ht)return Ht;var e,t,n=Vt,r=n.length,i="value"in zt?zt.value:zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Qt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Jt,Xt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Qt(Zt),en=h({},Zt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Jt=e.screenY-Xt.screenY):Jt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=Qt(nn),an=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Zt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(h({},Zt,{newState:0,oldState:0})),En=[9,13,27,32],Cn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var An=Ft&&"TextEvent"in window&&!Sn,Tn=Ft&&(!Cn||Sn&&8<Sn&&11>=Sn),xn=String.fromCharCode(32),kn=!1;function In(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _n=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Dn(e,t,n,r){Nt?Dt?Dt.push(r):Dt=[r]:Nt=r,0<(t=Gu(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Ln=null;function jn(e){ju(e,0)}function Mn(e){if(ht(He(e)))return e}function Fn(e,t){if("change"===e)return t}var Bn=!1;if(Ft){var Un;if(Ft){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"===typeof Vn.oninput}Un=zn}else Un=!1;Bn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){On&&(On.detachEvent("onpropertychange",Gn),Ln=On=null)}function Gn(e){if("value"===e.propertyName&&Mn(Ln)){var t=[];Dn(t,Ln,e,Pt(e)),jt(jn,t)}}function qn(e,t,n){"focusin"===e?(Hn(),Ln=n,(On=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Ln)}function Wn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!J.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Jn(ar,r)||(ar=r,0<(r=Gu(ir,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){wr.set(e,t),Qe(t,[e])}Er.push("scrollEnd");var Sr=new WeakMap;function Ar(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],xr=0,kr=0;function Ir(){for(var e=xr,t=kr=xr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Nr(n,i,a)}}function Rr(e,t,n,r){Tr[xr++]=e,Tr[xr++]=t,Tr[xr++]=n,Tr[xr++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function _r(e,t,n,r){return Rr(e,t,n,r),Dr(e)}function Pr(e,t){return Rr(e,null,null,t),Dr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Dr(e){if(50<Nc)throw Nc=0,Dc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Lr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=jr(31,n,t,i)).elementType=k,e.lanes=a,e;case g:return zr(n.children,i,a,t);case y:o=8,i|=24;break;case v:return(e=jr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=jr(13,n,t,i)).elementType=S,e.lanes=a,e;case A:return(e=jr(19,n,t,i)).elementType=A,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case E:o=10;break e;case w:o=9;break e;case C:o=11;break e;case T:o=14;break e;case x:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=jr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zr(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=[],qr=0,Kr=null,Wr=0,Qr=[],Yr=0,Jr=null,Xr=1,Zr="";function $r(e,t){Gr[qr++]=Wr,Gr[qr++]=Kr,Kr=e,Wr=t}function ei(e,t,n){Qr[Yr++]=Xr,Qr[Yr++]=Zr,Qr[Yr++]=Jr,Jr=e;var r=Xr;e=Zr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-fe(t)+i|n<<i|r,Zr=a+e}else Xr=1<<a|n<<i|r,Zr=e}function ti(e){null!==e.return&&($r(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Gr[--qr],Gr[qr]=null,Wr=Gr[--qr],Gr[qr]=null;for(;e===Jr;)Jr=Qr[--Yr],Qr[Yr]=null,Zr=Qr[--Yr],Qr[Yr]=null,Xr=Qr[--Yr],Qr[Yr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ci(e){throw mi(Ar(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[De]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Mu(Ou[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),Et(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=B(null),yi=null,vi=null;function bi(e,t,n){z(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Ei(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&Ci(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function xi(e){return Ii(yi,e)}function ki(e,t){return null===yi&&Ti(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ri="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},_i=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ni={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Di(){return{controller:new Ri,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&_i(Pi,(function(){e.controller.abort()}))}var Li=null,ji=0,Mi=0,Fi=null;function Bi(){if(0===--ji&&null!==Li){null!==Fi&&(Fi.status="fulfilled");var e=Li;Li=null,Mi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];ji=0,Mi=Ru(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}ji++,t.then(Bi,Bi)}(0,t),null!==Ui&&Ui(e,t)};var zi=B(null);function Vi(){var e=zi.current;return null!==e?e:rc.pooledCache}function Hi(e,t){z(zi,null===t?zi.current:t.pool)}function Gi(){var e=Vi();return null===e?null:{parent:Ni._currentValue,pool:e}}var qi=Error(s(460)),Ki=Error(s(474)),Wi=Error(s(542)),Qi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ji(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ji,Ji),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ji,Ji);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Zi=t,qi}}var Zi=null;function $i(){if(null===Zi)throw Error(s(459));var e=Zi;return Zi=null,e}function ea(e){if(e===qi||e===Wi)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Nr(e,null,n),t}return Rr(e,r,t,n),Dr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ke(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Fi)throw Fi}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Mi&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ta=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=B(null),pa=B(0);function ma(e,t){z(pa,e=dc),z(fa,t),dc=e|t.baseLanes}function ga(){z(pa,dc),z(fa,fa.current)}function ya(){dc=pa.current,U(fa),U(pa)}var va=0,ba=null,wa=null,Ea=null,Ca=!1,Sa=!1,Aa=!1,Ta=0,xa=0,ka=null,Ia=0;function Ra(){throw Error(s(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Pa(e,t,n,r,i,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?qs:Ks,Aa=!1,a=n(r,i),Aa=!1,Sa&&(a=Da(t,n,r,i)),Na(e),a}function Na(e){O.H=Gs;var t=null!==wa&&null!==wa.next;if(va=0,Ea=wa=ba=null,Ca=!1,xa=0,ka=null,t)throw Error(s(300));null===e||ko||null!==(e=e.dependencies)&&Ai(e)&&(ko=!0)}function Da(e,t,n,r){ba=e;var i=0;do{if(Sa&&(ka=null),xa=0,Sa=!1,25<=i)throw Error(s(301));if(i+=1,Ea=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=Ws,a=t(n,r)}while(Sa);return a}function Oa(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Ua(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(ba.flags|=1024),t}function La(){var e=0!==Ta;return Ta=0,e}function ja(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ma(e){if(Ca){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ca=!1}va=0,Ea=wa=ba=null,Sa=!1,xa=Ta=0,ka=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ea?ba.memoizedState=Ea=e:Ea=Ea.next=e,Ea}function Ba(){if(null===wa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===Ea?ba.memoizedState:Ea.next;if(null!==t)Ea=t,wa=e;else{if(null===e){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===Ea?ba.memoizedState=Ea=e:Ea=Ea.next=e}return Ea}function Ua(e){var t=xa;return xa+=1,null===ka&&(ka=[]),e=Xi(ka,e,t),t=ba,null===(null===Ea?t.memoizedState:Ea.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?qs:Ks),e}function za(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ua(e);if(e.$$typeof===E)return xi(e)}throw Error(s(438,String(e)))}function Va(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Ha(e,t){return"function"===typeof t?t(e):t}function Ga(e){return qa(Ba(),wa,e)}function qa(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(va&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Mi&&(d=!0);else{if((va&f)===f){u=u.next,f===Mi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ba.lanes|=f,fc|=f}h=u.action,Aa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,ba.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Yn(a,e.memoizedState)&&(ko=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=Ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Yn(a,t.memoizedState)||(ko=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Wa(e,t,n){var r=ba,i=Ba(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Yn((wa||i).memoizedState,n);if(o&&(i.memoizedState=n,ko=!0),i=i.queue,gs(2048,8,Ja.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Ea&&1&Ea.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));a||0!==(124&va)||Qa(r,t,n)}return n}function Qa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Xa(t)&&Za(e)}function Ja(e,t,n){return n((function(){Xa(t)&&Za(e)}))}function Xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Za(e){var t=Pr(e,2);null!==t&&jc(t,e,2)}function $a(e){var t=Fa();if("function"===typeof e){var n=e;if(e=n(),Aa){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,qa(e,wa,"function"===typeof r?r:Ha)}function ts(e,t,n,r,i){if(zs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,s={};O.T=s;try{var o=n(i,r),l=O.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){as(e,t,c)}finally{O.T=a}}else try{rs(e,t,a=n(i,r))}catch(u){as(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){is(e,t,n)}),(function(n){return as(e,t,n)})):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Fs.bind(null,ba,r),r.dispatch=n,r=$a(!1),a=Us.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fa()).queue=i,n=ts.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Ba(),wa,e)}function us(e,t,n){if(t=qa(e,t,os)[0],e=Ga(Ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ua(t)}catch(s){if(s===qi)throw Wi;throw s}else r=t;var i=(t=Ba()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function hs(e){var t=Ba(),n=wa;if(null!==n)return us(t,n,e);Ba(),t=t.memoizedState;var r=(n=Ba()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Ba().memoizedState}function ms(e,t,n,r){var i=Fa();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=Ba();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&_a(r,wa.memoizedState.deps)?i.memoizedState=fs(t,a,n,r):(ba.flags|=e,i.memoizedState=fs(1|t,a,n,r))}function ys(e,t){ms(8390656,8,e,t)}function vs(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function ws(e,t){return gs(4,4,e,t)}function Es(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Cs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,Es.bind(null,t,e),n)}function Ss(){}function As(e,t){var n=Ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Ba();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&_a(t,r[1]))return r[0];if(r=e(),Aa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function xs(e,t,n){return void 0===n||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),ba.lanes|=e,fc|=e,n)}function ks(e,t,n,r){return Yn(n,t)?n:null!==fa.current?(e=xs(e,n,r),Yn(e,t)||(ko=!0),e):0===(42&va)?(ko=!0,e.memoizedState=n):(e=Lc(),ba.lanes|=e,fc|=e,t)}function Is(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var s=O.T,o={};O.T=o,Us(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Oc());else Bs(e,t,r,Oc())}catch(u){Bs(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{L.p=a,O.T=s}}function Rs(){}function _s(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Ps(e).queue;Is(e,i,t,j,null===n?Rs:function(){return Ns(e),n(r)})}function Ps(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ns(e){Bs(e,Ps(e).next.queue,{},Oc())}function Ds(){return xi(Qd)}function Os(){return Ba().memoizedState}function Ls(){return Ba().memoizedState}function js(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=aa(t,e=ia(n),n);return null!==r&&(jc(r,t,n),sa(r,t,n)),t={cache:Di()},void(e.payload=t)}t=t.return}}function Ms(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zs(e)?Vs(t,n):null!==(n=_r(e,t,n,r))&&(jc(n,e,r),Hs(n,t,r))}function Fs(e,t,n){Bs(e,t,n,Oc())}function Bs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zs(e))Vs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,s))return Rr(e,t,i,0),null===rc&&Ir(),!1}catch(l){}if(null!==(n=_r(e,t,i,r)))return jc(n,e,r),Hs(n,t,r),!0}return!1}function Us(e,t,n,r){if(r={lane:2,revertLane:Ru(),action:r,hasEagerState:!1,eagerState:null,next:null},zs(e)){if(t)throw Error(s(479))}else null!==(t=_r(e,n,r,2))&&jc(t,e,2)}function zs(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Vs(e,t){Sa=Ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ke(e,n)}}var Gs={readContext:xi,use:za,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useLayoutEffect:Ra,useInsertionEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useSyncExternalStore:Ra,useId:Ra,useHostTransitionStatus:Ra,useFormState:Ra,useActionState:Ra,useOptimistic:Ra,useMemoCache:Ra,useCacheRefresh:Ra},qs={readContext:xi,use:za,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:xi,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Fa();t=void 0===t?null:t;var r=e();if(Aa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fa();if(void 0!==n){var i=n(t);if(Aa){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ms.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=$a(e)).queue,n=Fs.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ss,useDeferredValue:function(e,t){return xs(Fa(),e,t)},useTransition:function(){var e=$a(!1);return e=Is.bind(null,ba,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Fa();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ac)||Qa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ys(Ja.bind(null,r,a,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,a,n,t),null),n},useId:function(){var e=Fa(),t=rc.identifierPrefix;if(ai){var n=Zr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ia++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return Fa().memoizedState=js.bind(null,ba)}},Ks={readContext:xi,use:za,useCallback:As,useContext:xi,useEffect:vs,useImperativeHandle:Cs,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Ga,useRef:ps,useState:function(){return Ga(Ha)},useDebugValue:Ss,useDeferredValue:function(e,t){return ks(Ba(),wa.memoizedState,e,t)},useTransition:function(){var e=Ga(Ha)[0],t=Ba().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Wa,useId:Os,useHostTransitionStatus:Ds,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Ba(),0,e,t)},useMemoCache:Va,useCacheRefresh:Ls},Ws={readContext:xi,use:za,useCallback:As,useContext:xi,useEffect:vs,useImperativeHandle:Cs,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:Ts,useReducer:Ka,useRef:ps,useState:function(){return Ka(Ha)},useDebugValue:Ss,useDeferredValue:function(e,t){var n=Ba();return null===wa?xs(n,e,t):ks(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ka(Ha)[0],t=Ba().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Wa,useId:Os,useHostTransitionStatus:Ds,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Ba();return null!==wa?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:Ls},Qs=null,Ys=0;function Js(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xi(Qs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $s(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===x&&$s(a)===t.type)?(Xs(t=i(t,n.props),n),t.return=e,t):(Xs(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xs(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case x:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||_(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Js(t),n);if(t.$$typeof===E)return h(e,ki(e,t),n);Zs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case x:return f(e,t,n=(i=n._init)(n._payload),r)}if(D(n)||_(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Js(n),r);if(n.$$typeof===E)return f(e,t,ki(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(D(r)||_(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Js(r),i);if(r.$$typeof===E)return y(e,t,n,ki(t,r),i);Zs(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===x&&$s(b)===c.type){n(l,c.sibling),Xs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Hr(u,l.mode,d)).return=l,l=d}return o(l);case x:return v(l,c,u=(b=u._init)(u._payload),d)}if(D(u))return function(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),ai&&$r(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return ai&&$r(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),ai&&$r(i,p),c}(l,c,u,d);if(_(u)){if("function"!==typeof(b=_(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),ai&&$r(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,m),null===d?u=v:d.sibling=v,d=v);return ai&&$r(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=a(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(i,e)})),ai&&$r(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Js(u),d);if(u.$$typeof===E)return v(l,c,ki(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var i=v(e,t,n,r);return Qs=null,i}catch(s){if(s===qi||s===Wi)throw s;var a=jr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=B(null),io=null;function ao(e){var t=e.alternate;z(co,1&co.current),z(ro,e),null===io&&(null===t||null!==fa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if(z(co,co.current),z(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){z(co,co.current),z(ro,ro.current)}function lo(e){U(ro),io===e&&(io=null),U(co)}var co=B(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(jc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(jc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(jc(t,e,n),sa(t,e,n))}};function po(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(i,a))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function wo(e){yo(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Co(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function So(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function Ao(e){return(e=ia(e)).tag=3,e}function To(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Co(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Co(t,n,r),"function"!==typeof i&&(null===Ac?Ac=new Set([this]):Ac.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var xo=Error(s(461)),ko=!1;function Io(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ti(t),r=Pa(e,t,n,s,a,i),o=La(),null===e||ko?(ai&&o&&ti(t),t.flags|=1,Io(e,t,r,i),t.child):(ja(e,t,i),Yo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Mr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Po(e,t,a,r,i))}if(a=e.child,!Jo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(s,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref){if(ko=!1,t.pendingProps=r=a,!Jo(e,i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(ko=!0)}}return Lo(e,t,n,r,i)}function No(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),so(t)}else null!==a?(Hi(0,a.cachePool),ma(t,a),oo(),t.memoizedState=null):(null!==e&&Hi(0,null),ga(),oo());return Io(e,t,i,n),t.child}function Do(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ga(),so(t),null!==e&&Si(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,r,i){return Ti(t),n=Pa(e,t,n,r,void 0,i),r=La(),null===e||ko?(ai&&r&&ti(t),t.flags|=1,Io(e,t,n,i),t.child):(ja(e,t,i),Yo(e,t,i))}function jo(e,t,n,r,i,a){return Ti(t),t.updateQueue=null,n=Da(t,r,n,i),Na(e),r=La(),null===e||ko?(ai&&r&&ti(t),t.flags|=1,Io(e,t,n,a),t.child):(ja(e,t,a),Yo(e,t,a))}function Mo(e,t,n,r,i){if(Ti(t),null===t.stateNode){var a=Or,s=n.contextType;"object"===typeof s&&null!==s&&(a=xi(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?xi(s):Or,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,u=n.contextType;s=Or,"object"===typeof u&&null!==u&&(s=xi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&mo(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ta||po(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=go(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=xi(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var f=t.memoizedState;s!==d||h!==f||ta||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ta||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Oo(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Io(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Yo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,Io(e,t,n,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Gi()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=jr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,a?(oo(),c=Go({mode:"hidden",children:c},a=t.mode),i=zr(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Uo(n),a.childLanes=zo(e,r,n),t.memoizedState=Bo,i):(ao(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=qo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,c=t.mode,i=Go({mode:"visible",children:i.children},c),(a=zr(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Uo(n),i.childLanes=zo(e,r,n),t.memoizedState=Bo,t=a);else if(ao(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=qo(e,t,n)}else if(ko||Si(e,t,n,!1),r=0!==(n&e.childLanes),ko||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),jc(r,e,i),xo;"$?"===c.data||Wc(),t=qo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Qr[Yr++]=Xr,Qr[Yr++]=Zr,Qr[Yr++]=Jr,Xr=e.id,Zr=e.overflow,Jr=t),(t=Ho(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Fr(u,a):(a=zr(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Uo(n):(null!==(l=c.cachePool)?(u=Ni._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Gi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=zo(e,r,n),t.memoizedState=Bo,i):(ao(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Go({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Go(e,t){return(e=jr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Wo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,a);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ko=!0;else{if(!Jo(e,n)&&0===(128&t.flags))return ko=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Ni,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(ao(t),null!==(e=Yo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n);case 24:bi(0,Ni,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);ko=0!==(131072&e.flags)}else ko=!1,ai&&0!==(1048576&t.flags)&&ei(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===C){t.tag=11,t=Ro(null,t,r,e,n);break e}if(i===T){t.tag=14,t=_o(null,t,r,e,n);break e}}throw t=N(r)||r,Error(s(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Lo(null,t,r,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Ni,r),r!==a.cache&&Ci(t,[Ni],n,!0),ca(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=Ar(Error(s(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Yo(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(G.current).createElement(n))[Ne]=t,r[De]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ai&&(r=t.stateNode=wd(t.type,t.pendingProps,G.current),ri=t,oi=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),Io(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),Q(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,sd(i,a)?r=null:null!==o&&sd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Pa(e,t,Oa,null,null,n),Qd._currentValue=i),Oo(e,t),Io(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Io(e,t,r,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Io(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=xi(i)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return _o(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Go(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return No(e,t,n);case 24:return Ti(t),r=xi(Ni),null===e?(null===(i=Vi())&&(i=rc,a=Di(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Ni,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ni,r)):(r=a.cache,bi(0,Ni,r),r!==i.cache&&Ci(t,[Ni],n,!0))),Io(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function $o(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw Zi=Qi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ni),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(nl(t),$o(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),nl(t),$o(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=G.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Zo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd(G.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ne]=t,e[De]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=G.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ju(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ne]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Cc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>Cc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ni),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ni),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return W(),null;case 10:return wi(t.type),null;case 22:case 23:return lo(t),ya(),null!==e&&U(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ni),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(Ni),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:lo(t);break;case 19:U(co);break;case 10:wi(t.type);break;case 22:case 23:lo(t),ya(),null!==e&&U(zi);break;case 24:wi(Ni)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Zu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Zu(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Zu(e,t,o,i,r,a)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(xt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&$u(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||$u(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[De]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Ne]=e,t[De]=n}catch(a){uu(e,e.return,a)}}var bl=!1,wl=!1,El=!1,Cl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&sl(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&_l(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var a=wl;bl=r,(wl=t)&&!a?Bl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=i,wl=a}break;case 30:break;default:Ml(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xl=null,kl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=xl,i=kl;fd(n.type)&&(xl=n.stateNode,kl=!1),Il(e,t,n),Ed(n.stateNode),xl=r,kl=i;break;case 5:wl||dl(n,t);case 6:if(r=xl,i=kl,xl=null,Il(e,t,n),kl=i,null!==(xl=r))if(kl)try{(9===xl.nodeType?xl.body:"HTML"===xl.nodeName?xl.ownerDocument.body:xl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{xl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==xl&&(kl?(pd(9===(e=xl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),kh(e)):pd(xl,n.stateNode));break;case 4:r=xl,i=kl,xl=n.stateNode.containerInfo,kl=!0,Il(e,t,n),xl=r,kl=i;break;case 0:case 11:case 14:case 15:wl||ol(2,n,t),wl||ol(4,n,t),Il(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Il(e,t,n),wl=r;break;default:Il(e,t,n)}}function _l(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kh(e)}catch(n){uu(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){xl=l.stateNode,kl=!1;break e}break;case 5:xl=l.stateNode,kl=!1;break e;case 3:case 4:xl=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===xl)throw Error(s(160));Rl(a,o,i),xl=null,kl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Dl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Ll(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Nl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Dl;if(Nl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Be]||a[Ne]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Ne]=e,qe(a),r=a;break e;case"link":var o=Bd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=Bd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Ne]=e,qe(a),r=a}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Od(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Ud(i,e.type,e.stateNode):Od(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(El=!0);break;case 6:if(Nl(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,i=Dl,Dl=Ad(t.containerInfo),Nl(t,e),Dl=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{kh(t.containerInfo)}catch(p){uu(e,e.return,p)}El&&(El=!1,jl(e));break;case 4:r=Dl,Dl=Ad(e.stateNode.containerInfo),Nl(t,e),Ll(e),Dl=r;break;case 12:default:Nl(t,e),Ll(e);break;case 13:Nl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ec=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Nl(t,e),wl=d,bl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Nl(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Ct(a,""),n.flags&=-33),yl(e,ml(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Al(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:Ed(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Bl(i,a,n),sl(4,a);break;case 1:if(Bl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:vl(a);case 26:case 5:Bl(i,a,n),n&&null===r&&4&s&&hl(a),ul(a,a.return);break;case 12:Bl(i,a,n);break;case 13:Bl(i,a,n),n&&4&s&&_l(i,a);break;case 22:null===a.memoizedState&&Bl(i,a,n),ul(a,a.return);break;case 30:break;default:Bl(i,a,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Vl(e,t,n,r):ql(e,t):2&a._visibility?Vl(e,t,n,r):(a._visibility|=2,Gl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(s,t);break;case 24:Vl(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Gl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Gl(a,s,o,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Gl(a,s,o,l,i):ql(a,s):(u._visibility|=2,Gl(a,s,o,l,i)),i&&2048&c&&Ul(s.alternate,s);break;case 24:Gl(a,s,o,l,i),i&&2048&c&&zl(s.alternate,s);break;default:Gl(a,s,o,l,i)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ql(n,r),2048&i&&Ul(r.alternate,r);break;case 24:ql(n,r),2048&i&&zl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Kl=8192;function Wl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Wl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Rd(n.href),a=e.querySelector(_d(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Gd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,n=Pd(n),(i=Cd.get(i))&&jd(n,i),qe(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Gd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Dl;Dl=Ad(e.stateNode.containerInfo),Wl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Wl(e),Kl=t):Wl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,$l(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Jl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,$l(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function $l(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,a=r.return;if(Tl(r),r===n){Sl=null;break e}if(null!==i){i.return=a,Sl=i;break e}Sl=a}}}var ec={getCacheForType:function(e){var t=xi(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,Ec=0,Cc=1/0,Sc=null,Ac=null,Tc=0,xc=null,kc=null,Ic=0,Rc=0,_c=null,Pc=null,Nc=0,Dc=null;function Oc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==O.T){return 0!==Mi?Mi:Ru()}return _e()}function Lc(){0===gc&&(gc=0===(536870912&ac)||ai?Ce():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function jc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Hc(e,0),Uc(e,ac,gc,!1)),Te(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,ac,gc,!1)),Cu(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=qc(),i=Kc();rc!==e||ac!==t?(Sc=null,Cc=te()+500,Hc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var a=oc;t:switch(sc){case 1:sc=0,oc=null,$c(e,t,a,1);break;case 2:case 9:if(Yi(a)){sc=0,oc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),Cu(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Yi(a)?(sc=0,oc=null,Zc(t)):(sc=0,oc=null,$c(e,t,a,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||zd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,oc=null,$c(e,t,a,5);break;case 6:sc=0,oc=null,$c(e,t,a,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Jc();break}catch(d){Gc(e,d)}return vi=yi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Ir(),hc)}(e,t):Qc(e,t,!0),a=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!a||Bc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){Hc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Ec+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Sc,wc,t,gc,pc,yc,lc,a,2,-0,0),i)}else Fc(r,n,bc,Sc,wc,t,gc,pc,yc,lc,a,0,-0,0)}break}i=Qc(e,t,!1),a=!1}Cu(e)}function Fc(e,t,n,r,i,a,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Hd},Ql(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,r,i,o,l,c,d,1,f,p)),void Uc(e,a,o,!u);nu(e,t,a,n,r,i,o,l,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&xe(e,n,t)}function zc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Vc(){if(null!==ic){if(0===sc)var e=ic.return;else vi=yi=null,Ma(e=ic),Qs=null,Ys=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=Fr(e.current,null),ac=t,sc=0,oc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Ir(),n}function Gc(e,t){ba=null,O.H=Gs,t===qi||t===Wi?(t=$i(),sc=3):t===Ki?(t=$i(),sc=4):sc=t===xo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,Eo(e,Ar(t,e.current)))}function qc(){var e=O.H;return O.H=Gs,null===e?Gs:e}function Kc(){var e=O.A;return O.A=ec,e}function Wc(){hc=4,lc||(4194048&ac)!==ac&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,ac,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var i=qc(),a=Kc();rc===e&&ac===t||(Sc=null,Hc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var o=ic,l=oc;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,$c(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,$c(e,o,l,c)}}Yc(),s=hc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,O.H=i,O.A=a,null===ic&&(rc=null,ac=0,Ir()),s}function Yc(){for(;null!==ic;)Xc(ic)}function Jc(){for(;null!==ic&&!$();)Xc(ic)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jo(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=jo(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Ma(t);default:al(n,t),t=Xo(n,t=ic=Br(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function $c(e,t,n,r){vi=yi=null,Ma(t),Qs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Wc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Wc(),!1}if(ai)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Ar(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Ar(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Ar(r,n),oa(e,i=So(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(s(520),{cause:r});if(a=Ar(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;r=Ar(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Ac||!Ac.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,To(i=Ao(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,Eo(e,Ar(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,Eo(e,Ar(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Tc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&xe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=kr,o,l,c),e===rc&&(ic=rc=null,ac=0),kc=t,xc=e,Ic=n,Rc=a,_c=i,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ae,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(a=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,L.p=i,O.T=r}}Tc=1,ru(),iu(),au()}}function ru(){if(1===Tc){Tc=0;var e=xc,t=kc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{Ol(t,e);var a=nd,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&$n(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Zn(o,m),v=Zn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,L.p=r,O.T=n}}e.current=t,Tc=2}}function iu(){if(2===Tc){Tc=0;var e=xc,t=kc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{Al(e,t.alternate,t)}finally{nc=i,L.p=r,O.T=n}}Tc=3}}function au(){if(4===Tc||3===Tc){Tc=0,ee();var e=xc,t=kc,n=Ic,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,kc=xc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ac=null),Re(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{O.T=t,L.p=i}}0!==(3&Ic)&&ou(),Cu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Dc?Nc++:(Nc=0,Dc=e):Nc=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function ou(e){return ru(),iu(),au(),lu()}function lu(){if(5!==Tc)return!1;var e=xc,t=Rc;Rc=0;var n=Re(Ic),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=_c,_c=null;var a=xc,o=Ic;if(Tc=0,kc=xc=null,Ic=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(a.current),Hl(a,a.current,o,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{L.p=i,O.T=r,su(e,t)}}function cu(e,t,n){t=Ar(n,t),null!==(e=aa(e,t=So(e.stateNode,t,2),2))&&(Te(e,2),Cu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ac||!Ac.has(r))){e=Ar(n,e),null!==(r=aa(t,n=Ao(2),2))&&(To(n,r,t,e),Te(r,2),Cu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-Ec?0===(2&nc)&&Hc(e,0):mc|=n,yc===ac&&(yc=0)),Cu(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(Te(e,t),Cu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,Eu=0;function Cu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd((function(){0!==(6&nc)?X(re,Au):Tu()})))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Iu(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Iu(r,a));r=r.next}}while(n);wu=!1}}function Au(){Tu()}function Tu(){bu=vu=!1;var e=0;0!==Eu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=Eu),Eu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,a=xu(r,t);0===a?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=i}Su(e,!1)}function xu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-fe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ee(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Re(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=ku.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function ku(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),xu(e,te()),null!=e.callbackNode&&e.callbackNode===n?ku.bind(null,e):null)}function Iu(e,t){if(ou())return null;Mc(e,t,!0)}function Ru(){return 0===Eu&&(Eu=Ce()),Eu}function _u(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<Er.length;Nu++){var Du=Er[Nu];Cr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}Cr(fr,"onAnimationEnd"),Cr(pr,"onAnimationIteration"),Cr(mr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(gr,"onTransitionRun"),Cr(yr,"onTransitionStart"),Cr(vr,"onTransitionCancel"),Cr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){yo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){yo(u)}i.currentTarget=null,a=l}}}}function Mu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Bu]){e[Bu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Lu.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Fu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=ze(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}jt((function(){var r=a,i=Pt(n),s=[];e:{var o=wr.get(e);if(void 0!==o){var c=$t,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_t||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Oe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:He(c),p=null==u?o:He(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,ze(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=qu(p))m++;for(p=0,g=f;g;g=qu(g))p++;for(;0<m-p;)d=qu(d),m--;for(;0<p-m;)f=qu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=qu(d),f=qu(f)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Nn(o))if(Bn)y=Qn;else{y=Kn;var v=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&xt(r.elementType)&&(y=Fn):y=Wn;switch(y&&(y=y(e,r))?Dn(s,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?He(r):window,e){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var b;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else _n?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(_n||"onCompositionStart"!==w?"onCompositionEnd"===w&&_n&&(b=Gt()):(Vt="value"in(zt=i)?zt.value:zt.textContent,_n=!0)),0<(v=Gu(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=Rn(n))&&(w.data=b))),(b=An?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(kn=!0,xn);case"textInput":return(e=t.data)===xn&&kn?null:e;default:return null}}(e,n):function(e,t){if(_n)return"compositionend"===e||!Cn&&In(e,t)?(e=Gt(),Ht=Vt=zt=null,_n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Gu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=_u((i[De]||null).action),s=r.submitter;s&&null!==(t=(t=s[De]||null)?_u(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new $t("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Eu){var e=s?Pu(i,s):new FormData(i);_s(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Pu(i,s):new FormData(i),_s(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}ju(s,t)}))}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Mt(e,n))&&r.unshift(Hu(e,i,a)),null!=(i=Mt(e,t))&&r.push(Hu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,a))&&s.unshift(Hu(n,c,l)):i||null!=(c=Mt(n,a))&&s.push(Hu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Qu,"")}function Ju(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Zu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=kt.get(n)||n,r)}}function $u(e,t,n,r,i,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[De]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,r,o,n,null)}}return a&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,a,!1),void dt(e);case"select":for(a in Mu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Zu(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Mu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zu(e,t,o,l,n,null)}return Et(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Mu(Ou[i],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(xt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&$u(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Ed(s.documentElement),2&n&&Ed(s.body),4&n)for(Ed(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void kh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);kh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var Cd=new Map,Sd=new Set;function Ad(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=L.d;L.d={f:function(){var e=Td.f(),t=zc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ns(t):Td.r(e)},D:function(e){Td.D(e),kd("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),kd("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=xd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Rd(e);break;case"script":a=Nd(e)}Cd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Cd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(_d(a))||"script"===t&&r.querySelector(Dd(a))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=xd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Nd(e)}if(!Cd.has(a)&&(e=h({rel:"modulepreload",href:e},t),Cd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(a)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=xd;if(n&&e){var r=Ge(n).hoistableScripts,i=Nd(e),a=r.get(i);a||((a=n.querySelector(Dd(i)))||(e=h({src:e,async:!0},t),(t=Cd.get(i))&&Md(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Td.S(e,t,n);var r=xd;if(r&&e){var i=Ge(r).hoistableStyles,a=Rd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(_d(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cd.get(a))&&jd(e,n);var l=s=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Td.M(e,t);var n=xd;if(n&&e){var r=Ge(n).hoistableScripts,i=Nd(e),a=r.get(i);a||((a=n.querySelector(Dd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Cd.get(i))&&Md(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var xd="undefined"===typeof document?null:document;function kd(e,t,n){var r=xd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var i,a,o,l,c=(c=G.current)?Ad(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(r=(n=Ge(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var u=Ge(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(_d(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Cd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),ed(a,"link",o),qe(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nd(n),(r=(n=Ge(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rd(e){return'href="'+mt(e)+'"'}function _d(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+mt(e)+'"]'}function Dd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":i=Rd(n.href);var a=e.querySelector(_d(i));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;r=Pd(n),(i=Cd.get(i))&&jd(r,i),qe(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),ed(a,"link",r),t.state.loading|=4,Ld(a,n.precedence,e),t.instance=a;case"script":return a=Nd(n.src),(i=e.querySelector(Dd(a)))?(t.instance=i,qe(i),i):(r=n,(i=Cd.get(a))&&Md(r=h({},n),i),qe(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Bd(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Be]||a[Ne]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Hd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Wd,e),qd=null,Gd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Gd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:E,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Yd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Yd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=jr(3,null,null,t),e.current=a,a.stateNode=e,(t=Di()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Xd(e){return e?e=Or:Or}function Zd(e,t,n,r,i,a){i=Xd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(jc(n,0,t),sa(n,e,t))}function $d(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function th(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&jc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=2,ah(e,t,n,r)}finally{L.p=a,O.T=i}}function ih(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=8,ah(e,t,n,r)}finally{L.p=a,O.T=i}}function ah(e,t,n,r){if(nh){var i=sh(r);if(null===i)Vu(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ph.set(a,bh(ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var a=Ve(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ve(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}Cu(a),0===(6&nc)&&(Cc=te()+500,Su(0,!1))}}break;case 13:null!==(o=Pr(a,2))&&jc(o,0,2),zc(),eh(a,2)}if(null===(a=sh(r))&&Vu(e,t,r,oh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function sh(e){return lh(e=Pt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc();e=Ie(e);var t=Pr(n,e);null!==t&&jc(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Eh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,t.shift()}return!0}function Ch(e,t,n){Eh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&Eh(dh)&&(dh=null),null!==hh&&Eh(hh)&&(hh=null),null!==fh&&Eh(fh)&&(fh=null),ph.forEach(Ch),mh.forEach(Ch)}function Ah(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Th=null;function xh(e){Th!==e&&(Th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Th===e&&(Th=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=Ve(n);null!==a&&(e.splice(t,3),t-=3,_s(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function kh(e){function t(t){return Ah(t,e)}null!==dh&&Ah(dh,e),null!==hh&&Ah(hh,e),null!==fh&&Ah(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[De]||null;if("function"===typeof a)s||xh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[De]||null)o=s.formAction;else if(null!==lh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),xh(n)}}}function Ih(e){this._internalRoot=e}function Rh(e){this._internalRoot=e}Rh.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zd(t.current,Oc(),e,t,null,null)},Rh.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),zc(),t[Oe]=null}},Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=_e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var _h=i.version;if("19.1.0"!==_h)throw Error(s(527,_h,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ph={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ue=Nh.inject(Ph),de=Nh}catch(Oh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=vo,a=bo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,n,r,i,a,l,0,null),e[Oe]=t.current,Uu(e),new Ih(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=vo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Jd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Xd(null),n=t.current,(i=ia(r=Ie(r=Oc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Te(t,n),Cu(t),e[Oe]=t.current,Uu(e),new Rh(t)},t.version="19.1.0"},7106:(e,t,n)=>{"use strict";n.r(t),n.d(t,{db:()=>Pn});var r=n(7150);(0,r.KO)("firebase","11.8.1","app");var i=n(1529),a=n(2824);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new a.Vy("@firebase/auth");function h(e){if(d.logLevel<=a.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw y(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||b(t)}function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===S()||"https:"===S()}function S(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function T(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R=new A(3e4,6e4);function _(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function P(e,t,n,r){return N(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const o=(0,i.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},a);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),x.fetch()(await O(e,e.config.apiHost,n,o),c)}))}async function N(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},k),t);try{const t=new j(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw M(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw M(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(e,o,s);f(e,o)}}catch(a){if(a instanceof i.g)throw a;f(e,"network-request-failed",{message:String(a)})}}async function D(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await P(e,t,n,r,i);return"mfaPendingCredential"in a&&f(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function O(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?T(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(I.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function L(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),R.get())}))}}function M(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function F(e){return void 0!==e&&void 0!==e.enterprise}class B{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U(e,t){return P(e,"GET","/v2/recaptchaConfig",_(e,t))}async function z(e,t){return P(e,"POST","/v1/accounts:lookup",t)}function V(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function H(e){return 1e3*Number(e)}function G(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(a){return h("Caught error parsing JWT payload as JSON",null===a||void 0===a?void 0:a.toString()),null}}function q(e){const t=G(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function K(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class W{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){var t;const n=e.auth,r=await e.getIdToken(),i=await K(e,z(n,{idToken:r}));v(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?J(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Q(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function J(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await N(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=await O(e,r,"/v1/token","key=".concat(a)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new X;return n&&(v("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(v("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return b("not implemented")}}function Z(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ${constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await K(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),a=G(r);v(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:V(H(a.auth_time)),issuedAtTime:V(H(a.iat)),expirationTime:V(H(a.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await K(this,async function(e,t){return P(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:C,stsTokenManager:S}=t;v(b&&S,e,"internal-error");const A=X.fromJSON(this.name,S);v("string"===typeof b,e,"internal-error"),Z(u,e.name),Z(d,e.name),v("boolean"===typeof w,e,"internal-error"),v("boolean"===typeof E,e,"internal-error"),Z(h,e.name),Z(f,e.name),Z(p,e.name),Z(m,e.name),Z(g,e.name),Z(y,e.name);const T=new $({uid:b,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:E,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:A,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(T.providerData=C.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new X;r.updateFromServerResponse(t);const i=new $({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Y(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?J(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new X;s.updateFromIdToken(n);const o=new $({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Q(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const ee=new Map;function te(e){w(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function ie(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ae{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ie(this.userKey,r.apiKey,i),this.fullPersistenceKey=ie("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await z(this.auth,{idToken:e}).catch((()=>{}));return t?$._fromGetAccountInfoResponse(this.auth,t,e):null}return $._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ae(te(re),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||te(re);const a=ie(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await z(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await $._fromGetAccountInfoResponse(e,r,t)}else n=$._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new ae(i,e,n)):new ae(i,e,n)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(fe(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return pe(e)||de(e)||fe(e)||he(e)||/windows phone/i.test(e)||ue(e)}function ge(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=se((0,i.ZQ)());break;case"Worker":t="".concat(se((0,i.ZQ)()),"-").concat(e);break;default:t=e}const a=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(a)}class ye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ve{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class be{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ae.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await z(this,{idToken:e}),n=await $._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==r||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(te(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return P(e,"GET","/v2/passwordPolicy",_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ve(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return P(e,"POST","/v2/accounts:revokeToken",_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await ae.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=a.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function we(e){return(0,i.Ku)(e)}class Ee{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Se(e){return Ce.loadJS(e)}function Ae(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Te{constructor(){this.enterprise=new xe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ke="NO_RECAPTCHA";class Ie{constructor(e){this.type="recaptcha-enterprise",this.auth=we(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;F(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ke)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Te).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new B(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&F(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Se(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Re(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Ie(e);let s;if(i)s=ke;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _e(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Re(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Re(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Re(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Re(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Re(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Pe(e){const t=we(e),n=await U(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new B(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ie(t).verify()}}function Ne(e,t,n){const r=we(e);v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),s=De(t),{host:o,port:l}=function(e){const t=De(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Oe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Oe(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(s,"//").concat(o).concat(c,"/")},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void v((0,i.bD)(u,r.config.emulator)&&(0,i.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,i.zJ)(o)?((0,i.gE)("".concat(s,"//").concat(o).concat(c)),(0,i.P1)("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function De(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Le{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function je(e,t){return P(e,"POST","/v1/accounts:signUp",t)}async function Me(e,t){return D(e,"POST","/v1/accounts:signInWithPassword",_(e,t))}class Fe extends Le{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fe(e,t,"password")}static _fromEmailAndCode(e,t){return new Fe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return _e(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Me,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return D(e,"POST","/v1/accounts:signInWithEmailLink",_(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return _e(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",je,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return D(e,"POST","/v1/accounts:signInWithEmailLink",_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Be(e,t){return D(e,"POST","/v1/accounts:signInWithIdp",_(e,t))}class Ue extends Le{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ue(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Ue(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Be(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Be(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Be(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function ze(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",_(e,t))}const Ve={USER_NOT_FOUND:"user-not-found"};class He extends Le{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new He({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new He({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return D(e,"POST","/v1/accounts:signInWithPhoneNumber",_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await D(e,"POST","/v1/accounts:signInWithPhoneNumber",_(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return D(e,"POST","/v1/accounts:signInWithPhoneNumber",_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ve)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new He({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ge{constructor(e){var t,n,r,a,s,o;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(a=l.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=l.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ge(t)}catch(n){return null}}}class qe{constructor(){this.providerId=qe.PROVIDER_ID}static credential(e,t){return Fe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ge.parseLink(t);return v(n,"argument-error"),Fe._fromEmailAndCode(e,n.code,n.tenantId)}}qe.PROVIDER_ID="password",qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ke{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class We extends Ke{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qe extends We{constructor(){super("facebook.com")}static credential(e){return Ue._fromParams({providerId:Qe.PROVIDER_ID,signInMethod:Qe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qe.credentialFromTaggedObject(e)}static credentialFromError(e){return Qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qe.credential(t.oauthAccessToken)}catch(n){return null}}}Qe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qe.PROVIDER_ID="facebook.com";class Ye extends We{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ue._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ye.credential(n,r)}catch(i){return null}}}Ye.GOOGLE_SIGN_IN_METHOD="google.com",Ye.PROVIDER_ID="google.com";class Je extends We{constructor(){super("github.com")}static credential(e){return Ue._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.GITHUB_SIGN_IN_METHOD="github.com",Je.PROVIDER_ID="github.com";class Xe extends We{constructor(){super("twitter.com")}static credential(e,t){return Ue._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xe.credential(n,r)}catch(i){return null}}}async function Ze(e,t){return D(e,"POST","/v1/accounts:signUp",_(e,t))}Xe.TWITTER_SIGN_IN_METHOD="twitter.com",Xe.PROVIDER_ID="twitter.com";class $e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $._fromIdTokenResponse(e,n,r),a=et(n);return new $e({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=et(n);return new $e({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function et(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tt extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tt(e,t,n,r)}}function nt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw tt._fromErrorAndOperation(e,n,t,r);throw n}))}async function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await K(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $e._forOperation(e,"link",r)}async function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const a="reauthenticate";try{const r=await K(e,nt(i,a,t,e),n);v(r.idToken,i,"internal-error");const s=G(r.idToken);v(s,i,"internal-error");const{sub:o}=s;return v(e.uid===o,i,"user-mismatch"),$e._forOperation(e,a,r)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&f(i,"user-mismatch"),s}}async function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",a=await nt(e,i,t),s=await $e._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(s.user),s}function st(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",_(e,t))}new WeakMap;const ot="__sak";class lt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ot,"1"),this.storage.removeItem(ot),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ct extends lt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=me(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ct.type="LOCAL";const ut=ct;function dt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ht(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ft{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ht(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return dt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ht(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=ht(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=dt(n);const i=setInterval((()=>{const e=dt(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ft.type="COOKIE";class pt extends lt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pt.type="SESSION";const mt=pt;class gt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gt.receivers=[];class vt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=yt("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function bt(){return window}function wt(){return"undefined"!==typeof bt().WorkerGlobalScope&&"function"===typeof bt().importScripts}const Et="firebaseLocalStorageDb",Ct="firebaseLocalStorage",St="fbase_key";class At{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Tt(e,t){return e.transaction([Ct],t?"readwrite":"readonly").objectStore(Ct)}function xt(){const e=indexedDB.open(Et,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ct,{keyPath:St})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ct)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Et);return new At(e).toPromise()}(),t(await xt()))}))}))}async function kt(e,t,n){const r=Tt(e,!0).put({[St]:t,value:n});return new At(r).toPromise()}function It(e,t){const n=Tt(e,!0).delete(t);return new At(n).toPromise()}class Rt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await xt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gt._getInstance(wt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xt();return await kt(e,ot,"1"),await It(e,ot),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>kt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Tt(e,!1).get(t),r=await new At(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>It(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Tt(e,!1).getAll();return new At(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Rt.type="LOCAL";const _t=Rt;function Pt(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",_(e,t))}Ae("rcb"),new A(3e4,6e4);const Nt="recaptcha";async function Dt(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Pe(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){v("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=_e(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ke){v((null===n||void 0===n?void 0:n.type)===Nt,e,"argument-error");return st(e,await Ot(e,t,n))}return st(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;v(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=_e(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ke){v((null===n||void 0===n?void 0:n.type)===Nt,e,"argument-error");return Pt(e,await Ot(e,t,n))}return Pt(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=_e(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ke){v((null===n||void 0===n?void 0:n.type)===Nt,e,"argument-error");return ze(e,await Ot(e,t,n))}return ze(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ot(e,t,n){v(n.type===Nt,e,"argument-error");const r=await n.verify();v("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Lt{constructor(e){this.providerId=Lt.PROVIDER_ID,this.auth=we(e)}verifyPhoneNumber(e,t){return Dt(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return He._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lt.credentialFromTaggedObject(t)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?He._fromTokenResponse(n,r):null}}function jt(e,t){return t?te(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lt.PROVIDER_ID="phone",Lt.PHONE_SIGN_IN_METHOD="phone";class Mt extends Le{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Be(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Be(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Be(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ft(e){return at(e.auth,new Mt(e),e.bypassAuthState)}function Bt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),it(n,new Mt(e),e.bypassAuthState)}async function Ut(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),rt(n,new Mt(e),e.bypassAuthState)}class zt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return Bt;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vt=new A(2e3,1e4);class Ht extends zt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ht.currentPopupAction&&Ht.currentPopupAction.cancel(),Ht.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=yt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ht.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Vt.get())};e()}}Ht.currentPopupAction=null;const Gt=new Map;class qt extends zt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Gt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qt(t),r=Wt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Gt.set(this.auth._key(),e)}return this.bypassAuthState||Gt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Kt(e,t){Gt.set(e._key(),t)}function Wt(e){return te(e._redirectPersistence)}function Qt(e){return ie("pendingRedirect",e.config.apiKey,e.name)}async function Yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=we(e),a=jt(i,t),s=new qt(i,a,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class Jt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xt(e))}saveEventToCache(e){this.cachedEventUids.add(Xt(e)),this.lastProcessedEventTime=Date.now()}}function Xt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Zt(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,en=/^https?/;async function tn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return P(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(nn(r))return}catch(n){}f(e,"unauthorized-domain")}function nn(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!en.test(n))return!1;if($t.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rn=new A(3e4,6e4);function an(){const e=bt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function sn(e){return new Promise(((t,n)=>{var r,i,a;function s(){an(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{an(),n(p(e,"network-request-failed"))},timeout:rn.get()})}if(null===(i=null===(r=bt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=bt().gapi)||void 0===a?void 0:a.load)){const t=Ae("iframefcb");return bt()[t]=()=>{gapi.load?s():n(p(e,"network-request-failed"))},Se("".concat(Ce.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw on=null,e}))}let on=null;const ln=new A(5e3,15e3),cn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},un=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?T(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),a={apiKey:t.apiKey,appName:e.name,v:r.MF},s=un.get(e.config.apiHost);s&&(a.eid=s);const o=e._getFrameworks();return o.length&&(a.fw=o.join(",")),"".concat(n,"?").concat((0,i.Am)(a).slice(1))}async function hn(e){const t=await function(e){return on=on||sn(e),on}(e),n=bt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:dn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),a=bt().setTimeout((()=>{r(i)}),ln.get());function s(){bt().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const fn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function mn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},fn),{width:r.toString(),height:a.toString(),top:s,left:o}),u=(0,i.ZQ)().toLowerCase();n&&(l=ce(u)?"_blank":n),oe(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new pn(null);const h=window.open(t||"",l,d);v(h,e,"popup-blocked");try{h.focus()}catch(f){}return new pn(h)}const gn="__/auth/handler",yn="emulator/auth/handler",vn=encodeURIComponent("fac");async function bn(e,t,n,a,s,o){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:a,v:r.MF,eventId:s};if(t instanceof Ke){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof We){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?"#".concat(vn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(gn);return T(t,yn)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(d)}const wn="webStorageSupport";const En=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mt,this._completeRedirectFn=Yt,this._overrideRedirectResult=Kt}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return mn(e,await bn(e,t,n,E(),r),yt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bt().location.href=e}(await bn(e,t,n,E(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await hn(e),n=new Jt(e);return t.register("authEvent",(t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wn,{type:wn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[wn];void 0!==i&&t(!!i),f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return me()||le()||pe()}};var Cn="@firebase/auth",Sn="1.10.6";class An{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tn=(0,i.XA)("authIdTokenMaxAge")||300;let xn=null;var kn;Ce={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},kn="Browser",(0,r.om)(new o.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;v(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:kn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(kn)},c=new be(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(te);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new o.uA("auth-internal",(e=>(e=>new An(e))(we(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Cn,Sn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(kn)),(0,r.KO)(Cn,Sn,"esm2017");var In=n(5472);const Rn=(0,r.Wp)({apiKey:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",authDomain:"everdell-6e2b0.firebaseapp.com",projectId:"everdell-6e2b0",storageBucket:"everdell-6e2b0.firebasestorage.app",messagingSenderId:"87197549801",appId:"1:87197549801:web:5b2df129b6e8a61fcedc78",databaseURL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/"}),_n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:En,persistence:[_t,ut,mt]}),a=(0,i.XA)("authTokenSyncURL");if(a&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(a,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Tn)return;const r=null===t||void 0===t?void 0:t.token;xn!==r&&(xn=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var s;const o=(0,i.Tj)("auth");return o&&Ne(n,"http://".concat(o)),n}(Rn),Pn=(0,In.aU)(Rn);(async function(e){var t;if((0,r.xZ)(e.app))return Promise.reject(g(e));const n=we(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new $e({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Ze(n,{returnSecureToken:!0}),a=await $e._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(a.user),a})(_n).then((()=>console.log("Signed in anonymously"))).catch((e=>console.error("Auth error",e)))},7108:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/redtype.a62c5231f52d95232398.png"},7113:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/monk.65b0451a6a83fe90c94f.jpg"},7122:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/monastery.f509f2a34eab6a547c83.jpg"},7129:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/king.6dc523745900a967f7d1.jpg"},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>de,j6:()=>se,xZ:()=>oe,om:()=>ae,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(8812),i=n(2824),a=n(1529),s=n(2555);let o,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(v(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(v(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(v(this),t,...r);return d.set(a,t.sort?t.sort():[t]),y(a)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(y(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const v=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],E=new Map;function C(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(E.get(t))return E.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return E.set(t,a),a}p=(e=>(0,s.A)((0,s.A)({},e),{},{get:(t,n,r)=>C(t,n)||e.get(t,n,r),has:(t,n)=>!!C(t,n)||e.has(t,n)}))(p);class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const A="@firebase/app",T="0.13.0",x=new i.Vy("@firebase/app"),k="@firebase/app-compat",I="@firebase/analytics-compat",R="@firebase/analytics",_="@firebase/app-check-compat",P="@firebase/app-check",N="@firebase/auth",D="@firebase/auth-compat",O="@firebase/database",L="@firebase/data-connect",j="@firebase/database-compat",M="@firebase/functions",F="@firebase/functions-compat",B="@firebase/installations",U="@firebase/installations-compat",z="@firebase/messaging",V="@firebase/messaging-compat",H="@firebase/performance",G="@firebase/performance-compat",q="@firebase/remote-config",K="@firebase/remote-config-compat",W="@firebase/storage",Q="@firebase/storage-compat",Y="@firebase/firestore",J="@firebase/ai",X="@firebase/firestore-compat",Z="firebase",$="[DEFAULT]",ee={[A]:"fire-core",[k]:"fire-core-compat",[R]:"fire-analytics",[I]:"fire-analytics-compat",[P]:"fire-app-check",[_]:"fire-app-check-compat",[N]:"fire-auth",[D]:"fire-auth-compat",[O]:"fire-rtdb",[L]:"fire-data-connect",[j]:"fire-rtdb-compat",[M]:"fire-fn",[F]:"fire-fn-compat",[B]:"fire-iid",[U]:"fire-iid-compat",[z]:"fire-fcm",[V]:"fire-fcm-compat",[H]:"fire-perf",[G]:"fire-perf-compat",[q]:"fire-rc",[K]:"fire-rc-compat",[W]:"fire-gcs",[Q]:"fire-gcs-compat",[Y]:"fire-fst",[X]:"fire-fst-compat",[J]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){x.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ae(e){const t=e.name;if(re.has(t))return x.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new a.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="11.8.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:$,automaticDataCollectionEnabled:!0},t),s=i.name;if("string"!==typeof s||!s)throw ce.create("bad-app-name",{appName:String(s)});if(n||(n=(0,a.T9)()),!n)throw ce.create("no-options");const o=te.get(s);if(o){if((0,a.bD)(n,o.options)&&(0,a.bD)(i,o.config))return o;throw ce.create("duplicate-app",{appName:s})}const l=new r.h1(s);for(const r of re.values())l.addComponent(r);const c=new ue(n,i,l);return te.set(s,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;const t=te.get(e);if(!t&&e===$&&(0,a.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let a=null!==(i=ee[e])&&void 0!==i?i:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void x.warn(e.join(" "))}ae(new r.uA("".concat(a,"-version"),(()=>({library:a,version:t})),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ye(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=y(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(y(s.result),e.oldVersion,e.newVersion,y(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(n){console.warn(n)}}}).catch((e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})}))),ge}async function ve(e,t){try{const n=(await ye()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof a.g)x.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});x.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ce(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ee();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){x.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ee(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Se(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Se(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return x.warn(t),""}}}function Ee(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(t){if(t instanceof a.g)x.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});x.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Se(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ae;Ae="",ae(new r.uA("platform-logger",(e=>new S(e)),"PRIVATE")),ae(new r.uA("heartbeat",(e=>new we(e)),"PRIVATE")),pe(A,T,Ae),pe(A,T,"esm2017"),pe("fire-js","")},7228:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chipsweep.66c3f42aba2c9fa3a44e.jpg"},7248:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GameProvider:()=>c,useGame:()=>u});var r=n(5472),i=n(5043),a=n(1380),s=n(579);let o=Promise.resolve();const l=(0,i.createContext)(void 0),c=e=>{let{children:t,game:n,gameId:c}=e;const[u,d]=(0,i.useState)(n),h=(0,r.H9)((0,r.aU)(),"games/".concat(c));function f(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];o=o.then((async()=>{d((n=>{const a=e(n,...i);return t&&(0,r.BN)(h,a),a}))})).catch((e=>{console.error("Action failed:",e)}))}}(0,i.useEffect)((()=>{const e=(0,r.aQ)(h,(e=>{const t=e.data();t&&d(t)}));return()=>e()}),[c]);const p={game:u,endTurn:f(a.endTurn),resetTurn:f(a.resetTurn),visitLocation:f(a.visitLocation),visitJourney:f(a.visitJourney),visitEvent:f(a.visitEvent),achieveEvent:f(a.achieveEvent),visitSpecialEvent:f(a.visitSpecialEvent),achieveSpecialEvent:f(a.achieveSpecialEvent),visitCardInCity:f(a.visitCardInCity),setDiscarding:f(a.setDiscarding),setPlaying:f(a.setPlaying),setGiving:f(a.setGiving),playCard:f(a.playCard),playToOppositeCity:f(a.playToOppositeCity),revealCard:f(a.revealCard),swapHands:f(a.swapHands),harvest:f(a.harvest),refillMeadow:f(a.refillMeadow,!0),toggleOccupiedCardInCity:f(a.toggleOccupiedCardInCity,!0),moveCardBelowInCity:f(a.moveCardBelowInCity,!0),giveResources:f(a.giveResources,!0),addResourcesToCardInCity:f(a.addResourcesToCardInCity,!0),addResourcesToPower:f(a.addResourcesToPower,!0),placeCharacterOnLocation:f(a.placeCharacterOnLocation,!0),placeCharacterOnCardInMeadow:f(a.placeCharacterOnCardInMeadow,!0),nextPower:f(a.nextPower,!0),addResourcesToLocation:f(a.addResourcesToLocation,!0),toggleCardDiscarding:f(a.toggleCardDiscarding,!1),toggleCardPlaying:f(a.toggleCardPlaying,!1),toggleCardGiving:f(a.toggleCardGiving,!1),discardSelectedCards:f(a.discardSelectedCards,!1),playSelectedCards:f(a.playSelectedCards,!1),giveSelectedCards:f(a.giveSelectedCards,!1),drawCard:f(a.drawCard,!1),addResourcesToSelf:f(a.addResourcesToSelf,!1)};return(0,s.jsx)(l.Provider,{value:p,children:t})},u=()=>{const e=(0,i.useContext)(l);if(!e)throw new Error("useGame must be used within a GameProvider");return e}},7324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},7326:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/blueworker.581774b3542fb04dc0e9.PNG"},7391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(1242),i=n(443),a=n(3181),s=n(3e3),o=n(7923),l=n(1920),c=n(3258),u=n(8652),d=n(579);const h=()=>(0,d.jsx)(i.CardManagementProvider,{children:(0,d.jsxs)(r.BV,{children:[(0,d.jsx)(r.qh,{path:"/",element:(0,d.jsx)(r.C5,{to:u.HOME_PATH,replace:!0})}),(0,d.jsx)(r.qh,{path:u.HOME_PATH,element:(0,d.jsx)(o.default,{})}),(0,d.jsx)(r.qh,{path:u.LOBBY_PATH,element:(0,d.jsx)(l.default,{})}),(0,d.jsx)(r.qh,{path:u.CARD_MANAGEMENT_PATH,element:(0,d.jsx)(a.default,{})}),(0,d.jsx)(r.qh,{path:"".concat(u.GAME_PATH,"/:gameId"),element:(0,d.jsx)(c.default,{children:(0,d.jsx)(s.default,{})})})]})})},7419:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/amillaglistendew.1991a8ec36ac52ef628b.jpg"},7478:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/postoffice.864beee783c293333622.jpg"},7766:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EXPANSION_NAMES:()=>r});const r=["base","extra extra","legends","rugwort"]},7823:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/purpletype.cfd8246c81934ab71a63.png"},7831:(e,t,n)=>{"use strict";n.r(t),n.d(t,{journeys:()=>i});var r=n(5545);const i=[{exclusive:!1,discardCount:2,value:2,workers:r.defaultPlayerCount},{exclusive:!0,discardCount:3,value:3,workers:r.defaultPlayerCount},{exclusive:!0,discardCount:4,value:4,workers:r.defaultPlayerCount},{exclusive:!0,discardCount:5,value:5,workers:r.defaultPlayerCount}]},7869:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/shepherd.2e1b7e4b691eb8be7766.jpg"},7887:(e,t,n)=>{"use strict";n.r(t),n.d(t,{computeResourceDelta:()=>c,countCardOccurrences:()=>d,countCardValue:()=>u,countCharactersOnLocation:()=>m,countEffectTypeOccurrences:()=>p,hasCards:()=>h,hasPowers:()=>f,isOnSpecialEvents:()=>g,listCardNames:()=>a,mapOverCharacters:()=>l,mapOverEffectTypes:()=>o,mapOverResources:()=>s,sortCity:()=>y,sortGroupedCards:()=>v});var r=n(2555),i=n(5545);function a(e){return e.join(", ")}function s(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return 0===i.RESOURCE_ORDER.reduce(((t,n)=>t+Math.abs(e[n])),0)&&r?r():i.RESOURCE_ORDER.filter((t=>0!==e[t]||!n)).map((n=>t(n,e[n])))}function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return 0===i.EFFECT_ORDER.reduce(((t,n)=>t+Math.abs(e[n])),0)&&r?r():i.EFFECT_ORDER.filter((t=>0!==e[t]||!n)).map((n=>t(n,e[n])))}function l(e){return i.CHARACTER_TYPE_ORDER.map((t=>e(t)))}function c(e,t){const n=(0,r.A)({},i.defaultResources);for(const r of i.RESOURCE_ORDER)n[r]=t[r]-e[r];return n}function u(e){return e.reduce(((e,t)=>e+("Dungeon"===t.below?0:t.value)),0)}function d(e,t){return e.reduce(((e,n)=>e+(n.name===t&&"Dungeon"!==n.below?1:0)),0)}function h(e,t){return e.some((e=>t.includes(e.name)&&"Dungeon"!==e.below))}function f(e,t){return t.some((t=>t===(null===e||void 0===e?void 0:e.name)))}function p(e,t){return e.reduce(((e,n)=>e+(n.effectType===t&&"Dungeon"!==n.below?1:0)),0)}function m(e){return e.characters?i.CHARACTER_TYPE_ORDER.reduce(((t,n)=>t+Math.abs(e.characters[n])),0):0}function g(e,t,n){return t.some((t=>n.includes(t.name)&&t.workers[e.color]>0))}function y(e){return e.sort(((e,t)=>e.name<t.name?-1:1)).sort(((e,t)=>e.effectType.toString()<t.effectType.toString()?-1:1))}function v(e){return e.sort(((e,t)=>{const n=e[0].card,r=t[0].card,i=n.effectType.toString().localeCompare(r.effectType.toString());return 0!==i?i:n.name.localeCompare(r.name)}))}},7921:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/crane.068d84f7adda53efb8b1.jpg"},7923:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(5043),i=n(5852),a=n(9291),s=n(5059),o=n(443),l=n(8948),c=n(8652),u=n(2749),d=n(579);const h=function(){const{isModified:e,activeExpansions:t,powersEnabled:n}=(0,o.useCardManagement)(),[h,f]=(0,r.useState)((()=>{const e=(0,l.getPlayerName)();if(e)return e;const t="Guest";return(0,l.storePlayerName)(t),t})),[p,m]=(0,r.useState)((()=>{const e=(0,l.getPlayerId)();if(e)return e;const t=(0,i.A)();return(0,l.storePlayerId)(t),t}));return(0,r.useEffect)((()=>{(0,l.storePlayerName)(h),(0,l.storePlayerId)(p)}),[h,p]),(0,d.jsxs)("div",{className:"max-w-2xl mx-auto p-4 flex gap-6 flex-col justify-center min-h-screen text-text",children:[(0,d.jsx)(a.default,{displayText:e?"Using custom card frequencies":"Using default card frequencies",secondaryDisplay:(0,u.renderActiveExpansions)(t),tertiaryDisplay:(0,u.renderPowersEnabled)(n),variant:e?"warning":"info",visible:!0}),(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)("label",{htmlFor:"player-name",className:"block mb-2 font-bold text-sm",children:"Display Name"}),(0,d.jsx)("input",{id:"player-name",type:"text",value:h,onChange:e=>{f(e.target.value)},className:"w-full px-3 py-2.5 rounded-md border font-sans border-container-border bg-container text-text"})]}),(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)("label",{htmlFor:"player-id",className:"block mb-2 font-bold text-sm",children:"Player ID"}),(0,d.jsx)("input",{id:"player-id",type:"text",value:p,onChange:e=>{m(e.target.value)},className:"w-full px-3 py-2.5 rounded-md border font-mono border-container-border bg-container text-text"})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)(s.default,{link:c.LOBBY_PATH,displayText:"Go to Lobby",arrow:"forward"}),(0,d.jsx)(s.default,{link:c.CARD_MANAGEMENT_PATH,displayText:"Card Management",arrow:"forward"})]})]})}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},7981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{specialEvents:()=>i});var r=n(5545);const i=[{name:"Under New Management",cardRequirement:["Peddler","General Store"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"You may place up to 3 wildcards here",specialReward:"Each berry twig = 1 coin, each resin pebble = 2 coins",value:null},{name:"A Well Run City",cardRequirement:["Chip Sweep","Clock Tower"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"Bring back one of your deployed workers",specialReward:null,value:4},{name:"Path of the Pilgrims",cardRequirement:["Monastery","Wanderer"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:null,specialReward:"3 coins for each worker in your Monastery",value:null},{name:"Remembering the Fallen",cardRequirement:["Cemetery","Shepherd"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:null,specialReward:"3 coins for each buried worker in your Cemetery",value:null},{name:"Performer in Residence",cardRequirement:["Inn","Bard"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"You may place up to 3 berries here",specialReward:"2 coins for each berry on this Event",value:null},{name:"Croak Wart Cure",cardRequirement:["Undertaker","Barge Toad"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"Pay 2 berries and discard 2 cards from your city",specialReward:null,value:6},{name:"Capture of the Acorn Thieves",cardRequirement:["Courthouse","Ranger"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"Place up to 2 Critters from your city face-down beneath this Event",specialReward:"3 coins for each Critter beneath this Event",value:null},{name:"Tax Relief",cardRequirement:["Judge","Queen"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"Activate your greens",specialReward:null,value:3},{name:"A Brilliant Marketing Plan",cardRequirement:["Shopkeeper","Post Office"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"You may give opponents up to a total of 3 wildcards",specialReward:"For each donation, gain 2 coins",value:null},{name:"Ministering to Miscreants",cardRequirement:["Monk","Dungeon"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:null,specialReward:"3 coins for each prisoner in your Dungeon",value:null},{name:"Graduation of Scholars",cardRequirement:["Teacher","University"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"You may place up to 3 Critters from your hand beneath this Event",specialReward:"2 coins for each Critter beneath this Event",value:null},{name:"Pristine Chapel Ceiling",cardRequirement:["Woodcarver","Chapel"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"Draw 1 card and receive 1 wildcard for each coin on your Chapel",specialReward:"2 coins for each coin on your Chapel",value:null},{name:"The Everdell Games",cardRequirement:[],effectTypeRequirement:{Blue:2,Green:2,Purple:2,Red:2,Tan:2},specialDescription:null,specialReward:null,value:9},{name:"Ancient Scrolls Discovered",cardRequirement:["Historian","Ruins"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"Reveal 5 cards. You may draw any or place any beneath this Event",specialReward:"1 coin for each card beneath this Event",value:null},{name:"An Evening of Fireworks",cardRequirement:["Lookout","Miner Mole"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:"You may place up to 3 twigs here",specialReward:"2 coins for each twig on this Event",value:null},{name:"Flying Doctor Service",cardRequirement:["Doctor","Postal Pigeon"],effectTypeRequirement:r.defaultEffectTypeCount,specialDescription:null,specialReward:"3 coins for each Husband/Wife pair in every city",value:null}]},8090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(7248),i=n(9924),a=n(8948),s=n(2749),o=n(4807),l=n(8375),c=n(579);function u(e){let{event:t,index:n}=e;const{game:u,visitEvent:d,achieveEvent:h}=(0,r.useGame)(),f=(0,a.getPlayerId)(),p=(0,a.getPlayerColor)(u,f),m=(0,i.isNotYourTurn)(u,f),g=p&&(0,i.canVisitEvent)(u,t,p,1),y=p&&(0,i.canVisitEvent)(u,t,p,-1),v=p&&(0,i.canAchieveEvent)(u,t,p);return(0,c.jsx)(l.BaseLocationDisplay,{titleChildren:t.name,buttonChildren:(0,s.renderVisitButtons)(m||!g,m||!y,(()=>d(f,n,1)),(()=>d(f,n,-1)),u.activeExpansions.includes("legends")?m||!v:void 0,u.activeExpansions.includes("legends")?()=>h(f,n):void 0),workerChildren:(0,s.renderVisitingWorkers)(t),resourceChildren:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.EffectTypeIcon,{type:t.effectTypeRequirement})," ",t.effectTypeCount,"\u2192",(0,c.jsx)(o.ResourceIcon,{type:"coins"})," ",t.value]}),used:t.used,wide:!0})}const d=function(){const{game:e}=(0,r.useGame)();return(0,c.jsx)("div",{className:"flex gap-2 h-[102px]",children:e.events.map(((e,t)=>(0,c.jsx)(u,{event:e,index:t})))})}},8098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(7248),i=n(9924),a=n(8948),s=n(8559),o=n(579);const l=function(){const{game:e,toggleCardDiscarding:t,toggleCardPlaying:n,toggleCardGiving:l}=(0,r.useGame)(),c=e.players[e.turn],u=c.discarding,d=c.playing,h=c.giving,f=(0,a.getPlayerId)(),p=(0,i.canRevealDeck)(e,e.turn),m=(0,i.canRevealDiscard)(e,e.turn),g=0===e.reveal.length,y=r=>{var i;const a=null!==(i=e.reveal[r])&&void 0!==i?i:null;return(0,o.jsx)(s.default,{index:r,card:a,location:"reveal",cityColor:null,onLeftClick:()=>((e,r)=>{u&&r?t(f,"reveal",e):d&&r?n(f,"reveal",e,null):h&&r&&l(f,"reveal",e)})(r,a)},r)};return(0,o.jsx)(o.Fragment,{children:(p||m)&&!g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("div",{className:"flex justify-between",children:Array.from({length:2}).map(((e,t)=>y(t)))}),(0,o.jsx)("div",{className:"flex justify-between",children:Array.from({length:2}).map(((e,t)=>y(t+2)))})]})]})})}},8159:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/historian.f80cc77a493f6175f128.jpg"},8221:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(7248),i=n(9924),a=n(8948),s=n(8652),o=n(2749),l=n(8417),c=n(223),u=n(4346),d=n(3187),h=n(5059),f=n(1428),p=n(6159),m=n(8098),g=n(579);const y=function(e){let{gameId:t}=e;const{game:n,resetTurn:y}=(0,r.useGame)(),v=(0,a.getPlayerId)(),b=(0,i.isNotYourTurn)(n,v),w=(0,a.getPlayerColor)(n,v),E=null!==w&&void 0!==w?w:"Red",C=n.players[n.turn];let S="";return C.discarding?S="Discarding...":C.playing?S="Playing...":C.giving&&(S="Giving..."),(0,g.jsxs)("div",{className:"w-sidebar h-screen overflow-y-auto overflow-x-hidden fixed border-r bg-container border-container-border p-2 flex flex-col gap-1",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,g.jsx)(h.default,{link:s.LOBBY_PATH,displayText:"Back to Lobby",arrow:"backward"}),(0,g.jsx)(u.default,{id:null!==t&&void 0!==t?t:""}),(0,g.jsxs)("div",{children:[(0,o.renderActiveExpansions)(n.activeExpansions),(0,o.renderPowersEnabled)(n.powersEnabled)]}),(0,g.jsxs)("h3",{className:"font-bold text-lg",children:[n.turn,"'s Turn"," ",S&&(0,g.jsxs)("span",{className:"text-sm",children:["(",S,")"]})]})]}),(0,g.jsx)("hr",{}),(0,g.jsx)(f.default,{playerColor:E}),(0,g.jsx)("hr",{}),(0,g.jsx)(f.default,{playerColor:(0,i.oppositePlayerOf)(E)}),(0,g.jsx)("hr",{}),(0,g.jsx)(c.default,{}),(0,g.jsx)("hr",{}),(0,g.jsx)("p",{children:"Deck size: ".concat(n.deck.length)}),(0,g.jsx)(p.default,{}),(0,g.jsx)(m.default,{}),(0,g.jsx)("hr",{}),(0,g.jsx)(d.default,{playerColor:E}),(0,g.jsx)("hr",{}),(0,g.jsx)("div",{className:"grid grid-cols-2 gap-2 max-w-400px",children:(0,g.jsx)(l.default,{disabled:b,variant:"danger",onClick:()=>y(v),children:"Reset Turn"})})]})}},8257:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bargetoad.8abeea20805e988b8c51.jpg"},8332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{nextOption:()=>s,partition:()=>i,pickNRandom:()=>a,shuffleArray:()=>r});const r=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};function i(e,t){const n=[],r=[];for(const i of e)(t(i)?n:r).push(i);return[n,r]}function a(e,t){const n=[...t];for(let r=n.length-1;r>0;r--){const e=Math.floor(Math.random()*(r+1));[n[r],n[e]]=[n[e],n[r]]}return n.slice(0,e)}function s(e,t,n){const r=t.length;return(e+n+r)%r}},8355:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(8382),i=n(7248),a=n(8948),s=n(8959),o=n(579);const l=function(e){let{color:t}=e;const{game:n,toggleCardPlaying:l}=(0,i.useGame)(),c=n.players[t],u=c.playing,d=(0,a.getPlayerId)();return(0,o.jsx)(s.default,{cards:c.legends,maxLength:r.MAX_LEGENDS_SIZE,location:"legends",cityColor:t,onLeftClick:(e,t)=>{u&&t&&l(d,"legends",e,null)}})}},8375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseLocationDisplay:()=>f,default:()=>g});var r=n(7248),i=n(9924),a=n(8948),s=n(7887),o=n(2749),l=n(8490),c=n(3759),u=n(4807),d=n(6214),h=n(579);function f(e){let{buttonChildren:t,workerChildren:n,resourceChildren:r,characterChildren:i=null,storageChildren:a=null,titleChildren:s=null,exclusive:o=!1,used:c=!1,wide:u=!1}=e;return(0,h.jsxs)("div",{className:"flex flex-col rounded-lg items-center text-center border-2 bg-location-default ".concat((0,l.styleLocationBorderColor)(c,o)),style:{width:u?"150px":"96px"},children:[(0,h.jsx)("div",{className:"flex flex-col justify-center",children:t}),s&&(0,h.jsx)("div",{className:"text-[10px] pt-0.5",children:s}),n,i,(0,h.jsx)("div",{className:"mt-auto",children:(0,h.jsx)("div",{className:"flex flex-wrap items-center gap-0.5",children:r})}),a&&(0,h.jsx)("div",{className:"w-full flex-shrink-0 flex flex-wrap justify-evenly items-center rounded-b bg-location-storage p-1",children:a})]})}function p(e){let{location:t,index:n}=e;const{game:l,visitLocation:p}=(0,r.useGame)(),m=(0,a.getPlayerId)(),g=(0,a.getPlayerColor)(l,m),y=(0,i.isNotYourTurn)(l,m),v=g&&(0,i.canVisitLocation)(l,t,g,1),b=g&&(0,i.canVisitLocation)(l,t,g,-1);return(0,h.jsx)(c.default,{isInteractive:!0,onRightClick:e=>(0,h.jsx)(d.default,{location:t,onClose:e,index:n}),children:(0,h.jsx)(f,{exclusive:t.exclusive,buttonChildren:(0,o.renderVisitButtons)(y||!v,y||!b,(()=>p(m,n,1)),(()=>p(m,n,-1))),workerChildren:(0,o.renderVisitingWorkers)(t),characterChildren:(0,o.renderPlacedCharacters)(t),resourceChildren:(0,s.mapOverResources)(t.resources,((e,t)=>(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[(0,h.jsx)(u.ResourceIcon,{type:e})," ",t]},e))),storageChildren:t.storage&&(0,s.mapOverResources)(t.storage,((e,t)=>(0,h.jsxs)("div",{className:"flex items-center text-[10px]",children:[(0,h.jsx)(u.ResourceIcon,{type:e})," ",t]},e)),!0,(()=>null))})})}function m(){const{game:e,visitLocation:t}=(0,r.useGame)(),n=(0,a.getPlayerId)(),s=(0,a.getPlayerColor)(e,n),l=e.locations[e.locations.length-1],c=(0,i.isNotYourTurn)(e,n),d=s&&(0,i.canVisitLocation)(e,l,s,1),p=s&&(0,i.canVisitLocation)(e,l,s,-1);return(0,h.jsx)(f,{buttonChildren:(0,o.renderVisitButtons)(c||!d,c||!p,(()=>t(n,e.locations.length-1,1)),(()=>t(n,e.locations.length-1,-1))),workerChildren:(0,o.renderVisitingWorkers)(l),resourceChildren:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.ResourceIcon,{type:"cards"})," ",-2,"\u2192",(0,h.jsx)(u.ResourceIcon,{type:"wildcards"})," ",1]})})}const g=function(){const{game:e}=(0,r.useGame)();return(0,h.jsxs)("div",{className:"flex gap-2 items-start",children:[e.locations.slice(0,e.locations.length-1).map(((e,t)=>(0,h.jsx)(p,{location:e,index:t},t))),(0,h.jsx)("div",{className:"ml-2",children:(0,h.jsx)(m,{})})]})}},8382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FIRST_PLAYER_HAND_SIZE:()=>l,MAX_BASE_CITY_SIZE:()=>a,MAX_HAND_SIZE:()=>r,MAX_LEGENDS_SIZE:()=>o,MAX_MEADOW_SIZE:()=>i,MAX_REVEAL_SIZE:()=>s,RESOURCE_COUNT:()=>u,SECOND_PLAYER_HAND_SIZE:()=>c});const r=8,i=8,a=15,s=4,o=2,l=5,c=6,u={twigs:30,resin:30,pebbles:25,berries:30,coins:50,cards:0,wildcards:0}},8402:(e,t,n)=>{"use strict";n.r(t),n.d(t,{events:()=>r});const r=[{name:"City Monument",value:3,effectTypeRequirement:"Blue",effectTypeCount:3},{name:"Grand Tour",value:3,effectTypeRequirement:"Red",effectTypeCount:3},{name:"Harvest Festival",value:3,effectTypeRequirement:"Green",effectTypeCount:4},{name:"Cartographer's Expedition",value:3,effectTypeRequirement:"Tan",effectTypeCount:3}]},8417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043);var r=n(579);const i=e=>{let{onClick:t,children:n,variant:i="default",disabled:a=!1,className:s="",style:o}=e;return(0,r.jsx)("button",{onClick:t,disabled:a,className:"".concat("text-button-text border border-button-border cursor-pointer disabled:cursor-auto disabled:opacity-40 transition-all duration-100 ease-in-out hover:enabled:scale-[102%] hover:enabled:brightness-105 rounded-[4px] text-sm px-1 py-0"," ").concat({default:"bg-button-default",important:"bg-button-important",danger:"bg-button-danger",rare:"bg-button-rare"}[i]," ").concat(s),style:o,children:n})}},8464:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/purpletype.bd14150eaecb3f9ee2ec.png"},8490:(e,t,n)=>{"use strict";function r(e){return"text-player-".concat(e.toLowerCase())}function i(e){switch(e){case"Winter":return"text-season-winter";case"Spring":return"text-season-spring";case"Summer":return"text-season-summer";case"Autumn":return"text-season-autumn"}}function a(e,t){return e?"border-location-used":t?"border-location-exclusive":"border-location-default"}function s(e,t,n){return e?"border-cardPreviewOutline-discarding":t?"border-cardPreviewOutline-playing":n?"border-cardPreviewOutline-giving":"border-cardPreviewOutline-default"}n.r(t),n.d(t,{styleCardPreviewBorderColor:()=>s,styleLocationBorderColor:()=>a,stylePlayerColor:()=>r,styleSeasonColor:()=>i})},8559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(5043),i=n(6588),a=n(7887),s=n(8490),o=n(3791),l=n(3759),c=n(4807),u=n(2749),d=n(579);const h=function(e){let{card:t,index:h,onLeftClick:f,location:p,cityColor:m,onDrop:g,isDropTarget:y=!1}=e;const v=t&&(t.storage||null!=t.maxDestinations)&&"city"===p,b=!(!t||!f),w=null!==t&&void 0!==t&&t.occupied?"text-cardPreviewOutline-occupied":"text-text",E=!!t&&"city"!==p,[C,S]=(0,r.useState)(!1);return(0,d.jsx)(l.default,{isInteractive:b,onLeftClick:f,onRightClick:e=>t&&(0,d.jsx)(o.default,{card:t,index:h,cityColor:m,onClose:e,location:p}),children:(0,d.jsx)("div",{className:"w-[100px] rounded text-center border-2 flex-none flex flex-col bg-card-preview ".concat((0,s.styleCardPreviewBorderColor)(!(null===t||void 0===t||!t.discarding),!(null===t||void 0===t||!t.playing),!(null===t||void 0===t||!t.giving))),style:{height:v||t&&(0,a.countCharactersOnLocation)(t)>0?"210px":"170px"},draggable:E,onDragStart:e=>{t&&(e.dataTransfer.setData("application/json",JSON.stringify({card:t,sourceLocation:p,sourceIndex:h})),e.dataTransfer.effectAllowed="move")},onDragOver:e=>{y&&!t&&(e.preventDefault(),e.dataTransfer.dropEffect="move",S(!0))},onDragLeave:e=>{y&&!t&&(e.preventDefault(),S(!1))},onDrop:e=>{if(y&&!t&&g){e.preventDefault();try{const n=JSON.parse(e.dataTransfer.getData("application/json")),r=n.card,i=n.sourceLocation,a=n.sourceIndex;t||(g(r,i,a,h),S(!1))}catch(n){console.error("Failed to parse drag data:",n)}}},children:t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,d.jsx)("img",{src:n(5538)("./".concat((0,i.getCardPath)(t.expansionName,t.imageKey))),alt:t.name,className:"w-full p-0 pb-0 h-[138px] object-cover rounded-t flex-shrink-0",draggable:!1}),(0,d.jsx)("div",{className:"text-[11px] leading-tight font-bold ".concat(w," flex-grow flex items-center justify-center"),children:t.name})]}),(v||(0,a.countCharactersOnLocation)(t)>0)&&(0,d.jsxs)("div",{className:"h-[40px] flex-shrink-0 flex flex-wrap justify-evenly items-center rounded-b bg-storage p-1 text-[10px]",children:[t.storage&&(0,a.mapOverResources)(t.storage,((e,t)=>(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(c.ResourceIcon,{type:e})," ",t]},e))),t.workers.Red>0&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(c.WorkerIcon,{playerColor:"Red"})," ",t.workers.Red]}),t.workers.Blue>0&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(c.WorkerIcon,{playerColor:"Blue"})," ",t.workers.Blue]}),(0,u.renderPlacedCharacters)(t)]})]}):y&&(0,d.jsx)("div",{className:"flex-grow flex items-center justify-center text-gray-400 text-xs ".concat(C?"bg-highlight":"")})})})}},8652:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CARD_MANAGEMENT_PATH:()=>a,GAME_PATH:()=>s,HOME_PATH:()=>r,LOBBY_PATH:()=>i});const r="/home",i="/lobby",a="/card-management",s="/game"},8660:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/castle.47a0ab20b42d9c8adbe7.jpg"},8678:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/wanderer.edd20440d78faa4d47a7.jpg"},8728:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/dungeon.1e8bf3f310b26f2a5322.jpg"},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>i});var r=n(1529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===a?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8813:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/doctor.f7e66e65781f7f435868.jpg"},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearActiveExpansions:()=>p,clearCardFrequencies:()=>f,getActiveExpansions:()=>v,getCardFrequencies:()=>y,getPlayerColor:()=>w,getPlayerId:()=>g,getPlayerName:()=>m,getPowersEnabled:()=>b,storeActiveExpansions:()=>d,storeCardFrequencies:()=>u,storePlayerId:()=>c,storePlayerName:()=>l,storePowersEnabled:()=>h});const r="playerName",i="playerId",a="cardFrequencies",s="activeExpansions",o="powersEnabled";function l(e){console.log("Storing",e),sessionStorage.setItem(r,e)}function c(e){console.log("Storing",e),sessionStorage.setItem(i,e)}function u(e){localStorage.setItem(a,JSON.stringify(e))}function d(e){localStorage.setItem(s,JSON.stringify(e))}function h(e){localStorage.setItem(o,JSON.stringify(e))}function f(){localStorage.removeItem(a)}function p(){localStorage.removeItem(s)}function m(){return sessionStorage.getItem(r)}function g(){return sessionStorage.getItem(i)}function y(){const e=localStorage.getItem(a);return e?JSON.parse(e):null}function v(){const e=localStorage.getItem(s);return e?JSON.parse(e):null}function b(){const e=localStorage.getItem(o);return!!e&&JSON.parse(e)}function w(e,t){return null===t?null:t===e.players.Red.id?"Red":t===e.players.Blue.id?"Blue":null}},8959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(7248),i=n(6588),a=n(9924),s=n(7887),o=n(8559),l=n(9495),c=n(579);const u=function(e){let{cards:t,location:n,cityColor:u,onLeftClick:d,maxLength:h,onDrop:f,isDropTarget:p=!1}=e;const{game:m}=(0,r.useGame)();if("city"!==n||!u||!f){const e=null!==h&&void 0!==h?h:t.length;return(0,c.jsx)("div",{className:"flex overflow-y-hidden scrollbar-thin w-full pr-1 gap-1 rounded-[4px]",children:Array.from({length:e}).map(((e,r)=>{var i;const a=null!==(i=t[r])&&void 0!==i?i:null;return(0,c.jsx)(o.default,{index:r,card:a,location:n,cityColor:u,onLeftClick:()=>d(r,a),onDrop:f,isDropTarget:p},r)}))})}const g=(0,a.computeMaxCitySize)(t,m.players[u].power),y=t.map(((e,t)=>({card:e,index:t}))),v=(0,i.groupCardsByBelow)(y),b=(0,s.sortGroupedCards)(v),w=b.reduce(((e,t)=>e+t.length),0);return(0,c.jsxs)("div",{className:"flex overflow-y-hidden scrollbar-thin w-full gap-1 rounded-[4px]",children:[b.map(((e,t)=>(0,c.jsx)(l.default,{cards:e.map((e=>{let{card:t}=e;return t})),indices:e.map((e=>{let{index:t}=e;return t})),location:"city",cityColor:u,onLeftClick:d,onDrop:f,isDropTarget:p},t))),Array.from({length:g-w}).map(((e,t)=>(0,c.jsx)(o.default,{index:w+t,card:null,location:"city",cityColor:u,onLeftClick:()=>d(w+t,null),onDrop:f,isDropTarget:p},t)))]})}},9100:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/card.5073eb99c1e5b01b798a.png"},9186:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(7248),i=n(9924),a=n(8948),s=n(8959),o=n(579);const l=function(e){let{color:t}=e;const{game:n,toggleCardDiscarding:l,toggleCardPlaying:c,toggleCardGiving:u}=(0,r.useGame)(),d=n.players[t],h=d.discarding,f=d.playing,p=d.giving,m=(0,a.getPlayerId)();return(0,o.jsx)(s.default,{cards:d.hand,maxLength:(0,i.computeMaxHandSize)(n,t),location:"hand",cityColor:null,onLeftClick:(e,t)=>{h&&t?l(m,"hand",e):f&&t?c(m,"hand",e,null):p&&t&&u(m,"hand",e)}})}},9247:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/wildcard.113f991363464dbb4ac3.png"},9261:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(7248),i=n(9924),a=n(8948),s=n(7887),o=n(2749),l=n(3759),c=n(4807),u=n(8375),d=n(2756),h=n(579);function f(e){let{specialEvent:t,index:n}=e;const{game:f,visitSpecialEvent:p,achieveSpecialEvent:m}=(0,r.useGame)(),g=(0,a.getPlayerId)(),y=(0,a.getPlayerColor)(f,g),v=(0,i.isNotYourTurn)(f,g),b=y&&(0,i.canVisitSpecialEvent)(f,t,y,1),w=y&&(0,i.canVisitSpecialEvent)(f,t,y,-1),E=y&&(0,i.canAchieveSpecialEvent)(f,t,y);return(0,h.jsx)(l.default,{isInteractive:!0,onRightClick:e=>(0,h.jsx)(d.default,{specialEvent:t,onClose:e,index:n}),children:(0,h.jsx)(u.BaseLocationDisplay,{titleChildren:t.name,buttonChildren:(0,o.renderVisitButtons)(v||!b,v||!w,(()=>p(g,n,1)),(()=>p(g,n,-1)),f.activeExpansions.includes("legends")?v||!E:void 0,f.activeExpansions.includes("legends")?()=>m(g,n):void 0),workerChildren:(0,o.renderVisitingWorkers)(t),resourceChildren:(0,h.jsxs)("div",{children:[t.cardRequirement.map((e=>(0,h.jsx)("p",{className:"font-bold text-[11px]",children:e}))),(0,h.jsx)("div",{className:"flex flex-wrap justify-center gap-2 text-[10px]",children:(0,s.mapOverEffectTypes)(t.effectTypeRequirement,((e,t)=>(0,h.jsxs)("div",{children:[(0,h.jsx)(c.EffectTypeIcon,{type:e})," ",t]},e)))})]}),used:t.used,wide:!0})})}const p=function(){const{game:e}=(0,r.useGame)();return(0,h.jsx)("div",{className:"flex gap-2 pr-1",children:e.specialEvents.map(((e,t)=>(0,h.jsx)(f,{specialEvent:e,index:t})))})}},9291:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(579);const i=function(e){let{displayText:t,secondaryDisplay:n,tertiaryDisplay:i,variant:a,visible:s=!0}=e;return(0,r.jsxs)("div",{className:"p-4 text-white rounded-lg transition-opacity duration-200 ".concat("info"===a?"bg-blue-500/60":"warning"===a?"bg-yellow-500/60":"bg-red-500/60"," ").concat(s?"opacity-100":"opacity-0"),children:[(0,r.jsxs)("p",{className:"text-base font-semibold",children:["info"===a?"\u2139\ufe0f":"warning"===a?"\u26a0\ufe0f":"\u274c"," ",t]}),n,i]})}},9392:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fairgrounds.cffaa01cc291f6022859.jpg"},9401:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rugworttherowdy.08665194b82178f218b6.jpg"},9428:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/peddler.0167f9ac396ceab14bce.jpg"},9479:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.r(t),n.d(t,{default:()=>Xt});var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(5043),o=n(7324),l=n.n(o),c="-ms-",u="-moz-",d="-webkit-",h="comm",f="rule",p="decl",m="@keyframes",g=Math.abs,y=String.fromCharCode,v=Object.assign;function b(e){return e.trim()}function w(e,t){return(e=t.exec(e))?e[0]:e}function E(e,t,n){return e.replace(t,n)}function C(e,t,n){return e.indexOf(t,n)}function S(e,t){return 0|e.charCodeAt(t)}function A(e,t,n){return e.slice(t,n)}function T(e){return e.length}function x(e){return e.length}function k(e,t){return t.push(e),e}function I(e,t){return e.filter((function(e){return!w(e,t)}))}var R=1,_=1,P=0,N=0,D=0,O="";function L(e,t,n,r,i,a,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:R,column:_,length:s,return:"",siblings:o}}function j(e,t){return v(L("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function M(e){for(;e.root;)e=j(e.root,{children:[e]});k(e,e.siblings)}function F(){return D=N>0?S(O,--N):0,_--,10===D&&(_=1,R--),D}function B(){return D=N<P?S(O,N++):0,_++,10===D&&(_=1,R++),D}function U(){return S(O,N)}function z(){return N}function V(e,t){return A(O,e,t)}function H(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return R=_=1,P=T(O=e),N=0,[]}function q(e){return O="",e}function K(e){return b(V(N-1,Y(91===e?e+2:40===e?e+1:e)))}function W(e){for(;(D=U())&&D<33;)B();return H(e)>2||H(D)>3?"":" "}function Q(e,t){for(;--t&&B()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return V(e,z()+(t<6&&32==U()&&32==B()))}function Y(e){for(;B();)switch(D){case e:return N;case 34:case 39:34!==e&&39!==e&&Y(D);break;case 40:41===e&&Y(e);break;case 92:B()}return N}function J(e,t){for(;B()&&e+D!==57&&(e+D!==84||47!==U()););return"/*"+V(t,N-1)+"*"+y(47===e?e:B())}function X(e){for(;!H(U());)B();return V(e,N)}function Z(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function $(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case p:return e.return=e.return||e.value;case h:return"";case m:return e.return=e.value+"{"+Z(e.children,r)+"}";case f:if(!T(e.value=e.props.join(",")))return""}return T(n=Z(e.children,r))?e.return=e.value+"{"+n+"}":""}function ee(e,t,n){switch(function(e,t){return 45^S(e,0)?(((t<<2^S(e,0))<<2^S(e,1))<<2^S(e,2))<<2^S(e,3):0}(e,t)){case 5103:return d+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return d+e+e;case 4789:return u+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return d+e+u+e+c+e+e;case 5936:switch(S(e,t+11)){case 114:return d+e+c+E(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return d+e+c+E(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return d+e+c+E(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return d+e+c+e+e;case 6165:return d+e+c+"flex-"+e+e;case 5187:return d+e+E(e,/(\w+).+(:[^]+)/,d+"box-$1$2"+c+"flex-$1$2")+e;case 5443:return d+e+c+"flex-item-"+E(e,/flex-|-self/g,"")+(w(e,/flex-|baseline/)?"":c+"grid-row-"+E(e,/flex-|-self/g,""))+e;case 4675:return d+e+c+"flex-line-pack"+E(e,/align-content|flex-|-self/g,"")+e;case 5548:return d+e+c+E(e,"shrink","negative")+e;case 5292:return d+e+c+E(e,"basis","preferred-size")+e;case 6060:return d+"box-"+E(e,"-grow","")+d+e+c+E(e,"grow","positive")+e;case 4554:return d+E(e,/([^-])(transform)/g,"$1"+d+"$2")+e;case 6187:return E(E(E(e,/(zoom-|grab)/,d+"$1"),/(image-set)/,d+"$1"),e,"")+e;case 5495:case 3959:return E(e,/(image-set\([^]*)/,d+"$1$`$1");case 4968:return E(E(e,/(.+:)(flex-)?(.*)/,d+"box-pack:$3"+c+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+d+e+e;case 4200:if(!w(e,/flex-|baseline/))return c+"grid-column-align"+A(e,t)+e;break;case 2592:case 3360:return c+E(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,w(e.props,/grid-\w+-end/)}))?~C(e+(n=n[t].value),"span",0)?e:c+E(e,"-start","")+e+c+"grid-row-span:"+(~C(n,"span",0)?w(n,/\d+/):+w(n,/\d+/)-+w(e,/\d+/))+";":c+E(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return w(e.props,/grid-\w+-start/)}))?e:c+E(E(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return E(e,/(.+)-inline(.+)/,d+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(T(e)-1-t>6)switch(S(e,t+1)){case 109:if(45!==S(e,t+4))break;case 102:return E(e,/(.+:)(.+)-([^]+)/,"$1"+d+"$2-$3$1"+u+(108==S(e,t+3)?"$3":"$2-$3"))+e;case 115:return~C(e,"stretch",0)?ee(E(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return E(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,s,o){return c+n+":"+r+o+(i?c+n+"-span:"+(a?s:+s-+r)+o:"")+e}));case 4949:if(121===S(e,t+6))return E(e,":",":"+d)+e;break;case 6444:switch(S(e,45===S(e,14)?18:11)){case 120:return E(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+d+(45===S(e,14)?"inline-":"")+"box$3$1"+d+"$2$3$1"+c+"$2box$3")+e;case 100:return E(e,":",":"+c)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return E(e,"scroll-","scroll-snap-")+e}return e}function te(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case p:return void(e.return=ee(e.value,e.length,n));case m:return Z([j(e,{value:E(e.value,"@","@"+d)})],r);case f:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(w(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":M(j(e,{props:[E(t,/:(read-\w+)/,":-moz-$1")]})),M(j(e,{props:[t]})),v(e,{props:I(n,r)});break;case"::placeholder":M(j(e,{props:[E(t,/:(plac\w+)/,":"+d+"input-$1")]})),M(j(e,{props:[E(t,/:(plac\w+)/,":-moz-$1")]})),M(j(e,{props:[E(t,/:(plac\w+)/,c+"input-$1")]})),M(j(e,{props:[t]})),v(e,{props:I(n,r)})}return""}))}}function ne(e){return q(re("",null,null,null,[""],e=G(e),0,[0],e))}function re(e,t,n,r,i,a,s,o,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,v=1,b=1,w=0,A="",x=i,I=a,R=r,_=A;v;)switch(p=w,w=B()){case 40:if(108!=p&&58==S(_,d-1)){-1!=C(_+=E(K(w),"&","&\f"),"&\f",g(c?o[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:_+=K(w);break;case 9:case 10:case 13:case 32:_+=W(p);break;case 92:_+=Q(z()-1,7);continue;case 47:switch(U()){case 42:case 47:k(ae(J(B(),z()),t,n,l),l);break;default:_+="/"}break;case 123*m:o[c++]=T(_)*b;case 125*m:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+u:-1==b&&(_=E(_,/\f/g,"")),f>0&&T(_)-d&&k(f>32?se(_+";",r,n,d-1,l):se(E(_," ","")+";",r,n,d-2,l),l);break;case 59:_+=";";default:if(k(R=ie(_,t,n,c,u,i,o,A,x=[],I=[],d,a),a),123===w)if(0===u)re(_,t,R,R,x,a,d,o,I);else switch(99===h&&110===S(_,3)?100:h){case 100:case 108:case 109:case 115:re(e,R,R,r&&k(ie(e,R,R,0,0,i,o,A,i,x=[],d,I),I),i,I,d,o,r?x:I);break;default:re(_,R,R,R,[""],I,0,o,I)}}c=u=f=0,m=b=1,A=_="",d=s;break;case 58:d=1+T(_),f=p;default:if(m<1)if(123==w)--m;else if(125==w&&0==m++&&125==F())continue;switch(_+=y(w),w*m){case 38:b=u>0?1:(_+="\f",-1);break;case 44:o[c++]=(T(_)-1)*b,b=1;break;case 64:45===U()&&(_+=K(B())),h=U(),u=d=T(A=_+=X(z())),w++;break;case 45:45===p&&2==T(_)&&(m=0)}}return a}function ie(e,t,n,r,i,a,s,o,l,c,u,d){for(var h=i-1,p=0===i?a:[""],m=x(p),y=0,v=0,w=0;y<r;++y)for(var C=0,S=A(e,h+1,h=g(v=s[y])),T=e;C<m;++C)(T=b(v>0?p[C]+" "+S:E(S,/&\f/g,p[C])))&&(l[w++]=T);return L(e,t,n,0===i?f:o,l,c,u,d)}function ae(e,t,n,r){return L(e,t,n,h,y(D),A(e,2,-2),0,r)}function se(e,t,n,r,i){return L(e,t,n,p,A(e,0,r),A(e,r+1,-1),r,i)}var oe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},le="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}&&({NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.SC_ATTR)||"data-styled",ce="active",ue="data-styled-version",de="6.1.19",he="/*!sc*/\n",fe="undefined"!=typeof window&&"undefined"!=typeof document,pe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/everdell",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDa1_Lfp7pdlIko4yVXIwjWIKOtgRgFohU",REACT_APP_FIREBASE_APP_ID:"1:87197549801:web:5b2df129b6e8a61fcedc78",REACT_APP_FIREBASE_AUTH_DOMAIN:"everdell-6e2b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://everdell-6e2b0-default-rtdb.firebaseio.com/",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"87197549801",REACT_APP_FIREBASE_PROJECT_ID:"everdell-6e2b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"everdell-6e2b0.firebasestorage.app"}.SC_DISABLE_SPEEDY)),me=(new Set,Object.freeze([])),ge=Object.freeze({});function ye(e,t,n){return void 0===n&&(n=ge),e.theme!==n.theme&&e.theme||t||n.theme}var ve=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function Ee(e){return e.replace(be,"-").replace(we,"")}var Ce=/(a)(d)/gi,Se=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ae(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Se(t%52)+n;return(Se(t%52)+n).replace(Ce,"$1-$2")}var Te,xe=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ke=function(e){return xe(5381,e)};function Ie(e){return Ae(ke(e)>>>0)}function Re(e){return e.displayName||e.name||"Component"}function _e(e){return"string"==typeof e&&!0}var Pe="function"==typeof Symbol&&Symbol.for,Ne=Pe?Symbol.for("react.memo"):60115,De=Pe?Symbol.for("react.forward_ref"):60112,Oe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Le={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},je={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Me=((Te={})[De]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Te[Ne]=je,Te);function Fe(e){return("type"in(t=e)&&t.type.$$typeof)===Ne?je:"$$typeof"in e?Me[e.$$typeof]:Oe;var t}var Be=Object.defineProperty,Ue=Object.getOwnPropertyNames,ze=Object.getOwnPropertySymbols,Ve=Object.getOwnPropertyDescriptor,He=Object.getPrototypeOf,Ge=Object.prototype;function qe(e,t,n){if("string"!=typeof t){if(Ge){var r=He(t);r&&r!==Ge&&qe(e,r,n)}var i=Ue(t);ze&&(i=i.concat(ze(t)));for(var a=Fe(e),s=Fe(t),o=0;o<i.length;++o){var l=i[o];if(!(l in Le||n&&n[l]||s&&l in s||a&&l in a)){var c=Ve(t,l);try{Be(e,l,c)}catch(e){}}}}return e}function Ke(e){return"function"==typeof e}function We(e){return"object"==typeof e&&"styledComponentId"in e}function Qe(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ye(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Je(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Xe(e,t,n){if(void 0===n&&(n=!1),!n&&!Je(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Xe(e[r],t[r]);else if(Je(t))for(var r in t)e[r]=Xe(e[r],t[r]);return e}function Ze(e,t){Object.defineProperty(e,"toString",{value:t})}function $e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var et=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw $e(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(e+1),o=(a=0,t.length);a<o;a++)this.tag.insertRule(s,t[a])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat(he);return t},e}(),tt=new Map,nt=new Map,rt=1,it=function(e){if(tt.has(e))return tt.get(e);for(;nt.has(rt);)rt++;var t=rt++;return tt.set(e,t),nt.set(t,e),t},at=function(e,t){rt=t+1,tt.set(e,t),nt.set(t,e)},st="style[".concat(le,"][").concat(ue,'="').concat(de,'"]'),ot=new RegExp("^".concat(le,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),lt=function(e,t,n){for(var r,i=n.split(","),a=0,s=i.length;a<s;a++)(r=i[a])&&e.registerName(t,r)},ct=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(he),i=[],a=0,s=r.length;a<s;a++){var o=r[a].trim();if(o){var l=o.match(ot);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(at(u,c),lt(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}},ut=function(e){for(var t=document.querySelectorAll(st),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(le)!==ce&&(ct(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function dt(){return n.nc}var ht=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(le,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(le,ce),r.setAttribute(ue,de);var s=dt();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},ft=function(){function e(e){this.element=ht(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw $e(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),pt=function(){function e(e){this.element=ht(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),mt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),gt=fe,yt={isServer:!fe,useCSSOMInjection:!pe},vt=function(){function e(e,t,n){void 0===e&&(e=ge),void 0===t&&(t={});var r=this;this.options=i(i({},yt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&fe&&gt&&(gt=!1,ut(this)),Ze(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return nt.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),s=t.getGroup(n);if(void 0===a||!a.size||0===s.length)return"continue";var o="".concat(le,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(s).concat(o,'{content:"').concat(l,'"}').concat(he)},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return it(e)},e.prototype.rehydrate=function(){!this.server&&fe&&ut(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(i(i({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new mt(n):t?new ft(n):new pt(n)}(this.options),new et(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(it(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(it(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(it(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),bt=/&/g,wt=/^\s*\/\/.*$/gm;function Et(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Et(e.children,t)),e}))}function Ct(e){var t,n,r,i=void 0===e?ge:e,a=i.options,s=void 0===a?ge:a,o=i.plugins,l=void 0===o?me:o,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===f&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(bt,n).replace(r,c))})),s.prefix&&u.push(te),u.push($);var d=function(e,i,a,o){void 0===i&&(i=""),void 0===a&&(a=""),void 0===o&&(o="&"),t=o,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(wt,""),c=ne(a||i?"".concat(a," ").concat(i," { ").concat(l," }"):l);s.namespace&&(c=Et(c,s.namespace));var d,h=[];return Z(c,function(e){var t=x(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}(u.concat((d=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),h};return d.hash=l.length?l.reduce((function(e,t){return t.name||$e(15),xe(e,t.name)}),5381).toString():"",d}var St=new vt,At=Ct(),Tt=s.createContext({shouldForwardProp:void 0,styleSheet:St,stylis:At}),xt=(Tt.Consumer,s.createContext(void 0));function kt(){return(0,s.useContext)(Tt)}function It(e){var t=(0,s.useState)(e.stylisPlugins),n=t[0],r=t[1],i=kt().styleSheet,a=(0,s.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,i]),o=(0,s.useMemo)((function(){return Ct({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,s.useEffect)((function(){l()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var c=(0,s.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:o}}),[e.shouldForwardProp,a,o]);return s.createElement(Tt.Provider,{value:c},s.createElement(xt.Provider,{value:o},e.children))}var Rt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=At);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Ze(this,(function(){throw $e(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=At),this.name+e.hash},e}(),_t=function(e){return e>="A"&&e<="Z"};function Pt(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;_t(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Nt=function(e){return null==e||!1===e||""===e},Dt=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!Nt(s)&&(Array.isArray(s)&&s.isCss||Ke(s)?r.push("".concat(Pt(i),":"),s,";"):Je(s)?r.push.apply(r,a(a(["".concat(i," {")],Dt(s),!1),["}"],!1)):r.push("".concat(Pt(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in oe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ot(e,t,n,r){return Nt(e)?[]:We(e)?[".".concat(e.styledComponentId)]:Ke(e)?!Ke(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Ot(e(t),t,n,r):e instanceof Rt?n?(e.inject(n,r),[e.getName(r)]):[e]:Je(e)?Dt(e):Array.isArray(e)?Array.prototype.concat.apply(me,e.map((function(e){return Ot(e,t,n,r)}))):[e.toString()];var i}function Lt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ke(n)&&!We(n))return!1}return!0}var jt=ke(de),Mt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Lt(e),this.componentId=t,this.baseHash=xe(jt,t),this.baseStyle=n,vt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Qe(r,this.staticRulesId);else{var i=Ye(Ot(this.rules,e,t,n)),a=Ae(xe(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var s=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,s)}r=Qe(r,a),this.staticRulesId=a}else{for(var o=xe(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=Ye(Ot(u,e,t,n));o=xe(o,d+c),l+=d}}if(l){var h=Ae(o>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(l,".".concat(h),void 0,this.componentId)),r=Qe(r,h)}}return r},e}(),Ft=s.createContext(void 0);Ft.Consumer;var Bt={};new Set;function Ut(e,t,n){var r=We(e),a=e,o=!_e(e),l=t.attrs,c=void 0===l?me:l,u=t.componentId,d=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Ee(e);Bt[n]=(Bt[n]||0)+1;var r="".concat(n,"-").concat(Ie(de+n+Bt[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):u,h=t.displayName,f=void 0===h?function(e){return _e(e)?"styled.".concat(e):"Styled(".concat(Re(e),")")}(e):h,p=t.displayName&&t.componentId?"".concat(Ee(t.displayName),"-").concat(t.componentId):t.componentId||d,m=r&&a.attrs?a.attrs.concat(c).filter(Boolean):c,g=t.shouldForwardProp;if(r&&a.shouldForwardProp){var y=a.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;g=function(e,t){return y(e,t)&&v(e,t)}}else g=y}var b=new Mt(n,p,r?a.componentStyle:void 0);function w(e,t){return function(e,t,n){var r=e.attrs,a=e.componentStyle,o=e.defaultProps,l=e.foldedComponentIds,c=e.styledComponentId,u=e.target,d=s.useContext(Ft),h=kt(),f=e.shouldForwardProp||h.shouldForwardProp,p=ye(t,d,o)||ge,m=function(e,t,n){for(var r,a=i(i({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=Ke(r=e[s])?r(a):r;for(var l in o)a[l]="className"===l?Qe(a[l],o[l]):"style"===l?i(i({},a[l]),o[l]):o[l]}return t.className&&(a.className=Qe(a.className,t.className)),a}(r,t,p),g=m.as||u,y={};for(var v in m)void 0===m[v]||"$"===v[0]||"as"===v||"theme"===v&&m.theme===p||("forwardedAs"===v?y.as=m.forwardedAs:f&&!f(v,g)||(y[v]=m[v]));var b=function(e,t){var n=kt();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,m),w=Qe(l,c);return b&&(w+=" "+b),m.className&&(w+=" "+m.className),y[_e(g)&&!ve.has(g)?"class":"className"]=w,n&&(y.ref=n),(0,s.createElement)(g,y)}(E,e,t)}w.displayName=f;var E=s.forwardRef(w);return E.attrs=m,E.componentStyle=b,E.displayName=f,E.shouldForwardProp=g,E.foldedComponentIds=r?Qe(a.foldedComponentIds,a.styledComponentId):"",E.styledComponentId=p,E.target=r?a.target:e,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Xe(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Ze(E,(function(){return".".concat(E.styledComponentId)})),o&&qe(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function zt(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Vt=function(e){return Object.assign(e,{isCss:!0})};function Ht(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ke(e)||Je(e))return Vt(Ot(zt(me,a([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Ot(r):Vt(Ot(zt(r,t)))}function Gt(e,t,n){if(void 0===n&&(n=ge),!t)throw $e(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,Ht.apply(void 0,a([r],i,!1)))};return r.attrs=function(r){return Gt(e,t,i(i({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Gt(e,t,i(i({},n),r))},r}var qt=function(e){return Gt(Ut,e)},Kt=qt;ve.forEach((function(e){Kt[e]=qt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Lt(e),vt.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(Ye(Ot(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&vt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=dt(),r=Ye([n&&'nonce="'.concat(n,'"'),"".concat(le,'="true"'),"".concat(ue,'="').concat(de,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw $e(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw $e(2);var n=e.instance.toString();if(!n)return[];var r=((t={})[le]="",t[ue]=de,t.dangerouslySetInnerHTML={__html:n},t),a=dt();return a&&(r.nonce=a),[s.createElement("style",i({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new vt({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw $e(2);return s.createElement(It,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw $e(3)}})(),"__sc-".concat(le,"__");var Wt,Qt,Yt=n(3495);const Jt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Ye(Ht.apply(void 0,a([e],t,!1))),i=Ie(r);return new Rt(i,r)}(Wt||(Wt=r(["\n  0% { background-position: 20% 0%; }\n  12.5% { background-position: 80% 25%; }\n  25% { background-position: 20% 50%; }\n  37.5% { background-position: 80% 75%; }\n  50% { background-position: 20% 100%; }\n  62.5% { background-position: 80% 75%; }\n  75% { background-position: 20% 50%; }\n  87.5% { background-position: 80% 25%; }\n  100% { background-position: 20% 0%; }\n"]))),Xt=Kt.div.attrs({className:"min-h-screen bg-no-repeat bg-fixed"})(Qt||(Qt=r(["\n  background-image:\n    linear-gradient(rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.85)),\n    url(",");\n  background-size: 120%;\n  animation: "," 400s linear infinite;\n"])),Yt,Jt)},9490:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/twig.5305380c21de87a0bf10.png"},9495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8559),i=n(5186),a=n(579);const s=function(e){var t;let{cards:n,indices:s,location:o,cityColor:l,onLeftClick:c,onDrop:u,isDropTarget:d=!1}=e;return(0,a.jsxs)("div",{className:"flex flex-col h-full rounded-[4px]",children:[(0,a.jsx)(r.default,{card:null!==(t=null===n||void 0===n?void 0:n[0])&&void 0!==t?t:null,index:s[0],location:o,cityColor:l,onLeftClick:()=>{var e;return c(s[0],null!==(e=null===n||void 0===n?void 0:n[0])&&void 0!==e?e:null)},onDrop:u,isDropTarget:d}),null===n||void 0===n?void 0:n.slice(1).map(((e,t)=>(0,a.jsx)(i.default,{card:e,index:s[t+1],location:o,cityColor:l,onLeftClick:()=>c(s[t+1],e)})))]})}},9555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},9673:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/spider.3ceecf41b56dde094d01.png"},9689:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/poe.02b6c5f5c8b816fca895.jpg"},9742:e=>{"use strict";e.exports="data:image/png;base64,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"},9798:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mcgregorsmarket.b2f11b2500503c7360b7.jpg"},9814:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(8382),i=n(7248),a=n(8948),s=n(8959),o=n(579);const l=function(){const{game:e,toggleCardDiscarding:t,toggleCardPlaying:n,toggleCardGiving:l}=(0,i.useGame)(),c=e.players[e.turn],u=c.discarding,d=c.playing,h=c.giving,f=(0,a.getPlayerId)();return(0,o.jsx)(s.default,{cards:e.meadow,maxLength:r.MAX_MEADOW_SIZE,location:"meadow",cityColor:null,onLeftClick:(e,r)=>{u&&r?t(f,"meadow",e):d&&r?n(f,"meadow",e,null):h&&r&&l(f,"meadow",e)}})}},9841:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rat.f3c1eeddf6b214832651.png"},9865:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/berry.1f0e409a50a49a9a8d2f.png"},9921:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chapel.7f9798952bed943de2bc.jpg"},9924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activeDestinationsLeftOnCard:()=>F,canAchieveEvent:()=>D,canAchieveSpecialEvent:()=>L,canAddResourcesToLocation:()=>R,canAddResourcesToPower:()=>_,canGiveResources:()=>q,canGiveToOpponent:()=>V,canGiveToSelf:()=>z,canMoveCardBelowInCity:()=>Y,canPlaceCharacterOnLocation:()=>I,canPlayToOppositeCity:()=>Q,canRevealDeck:()=>H,canRevealDiscard:()=>G,canStealCard:()=>W,canSwapHands:()=>K,canVisitCardInCity:()=>j,canVisitEvent:()=>N,canVisitJourney:()=>P,canVisitLocation:()=>x,canVisitSpecialEvent:()=>O,computeMaxCitySize:()=>y,computeMaxHandSize:()=>v,computeResourceCount:()=>w,computeStartingHandSize:()=>b,dealCards:()=>S,isFarmStackEnabled:()=>T,isNotYourTurn:()=>m,isPermanentLocationCard:()=>M,isSafeToEndTurn:()=>g,oppositePlayerOf:()=>p,sanityCheck:()=>E,setupGame:()=>C,workersLeftOnCard:()=>B});var r=n(2555),i=n(8402),a=n(7831),s=n(2091),o=n(7981),l=n(8382),c=n(5545),u=n(6588),d=n(8948),h=n(7887),f=n(8332);function p(e){return"Red"===e?"Blue":"Red"}function m(e,t){return(0,d.getPlayerColor)(e,t)!==e.turn}function g(e){const t=e.players[e.turn],n=e.meadow.length===l.MAX_MEADOW_SIZE||0===e.deck.length,r=!t.discarding&&!t.giving&&!t.playing;return n&&r}function y(e,t){const n=Math.min((0,h.countCardOccurrences)(e,"Husband"),(0,h.countCardOccurrences)(e,"Wife")),r=(0,h.countCardOccurrences)(e,"Wanderer"),i=(0,h.countCardOccurrences)(e,"Scurrble Champion"),a=e.reduce(((e,t)=>e+("legends"===t.expansionName?1:0)),0),s=e.reduce(((e,t)=>e+("Dungeon"===t.below?1:0)),0),o=(0,h.countCardOccurrences)(e,"Farm");return l.MAX_BASE_CITY_SIZE+n+r+Math.max(0,i-1)+a+s+((0,h.hasPowers)(t,["Pigs"])?o:0)}function v(e,t){var n;switch(null===(n=e.players[t].power)||void 0===n?void 0:n.name){case"Butterflies":return 12;case"Starlings":return 11;case"Cardinals":return 10;case"Owls":return 9;default:return l.MAX_HAND_SIZE}}function b(e,t){if(t&&null!==t.startingHandSize)return t.startingHandSize;switch(e){case"Red":return l.FIRST_PLAYER_HAND_SIZE;case"Blue":return l.SECOND_PLAYER_HAND_SIZE}}function w(e){let t=(0,r.A)({},l.RESOURCE_COUNT);for(const n of Object.keys(e.players)){const r=e.players[n];for(const e of Object.keys(l.RESOURCE_COUNT))t[e]-=r.resources[e];for(const e of r.city)if(e.storage)for(const n of Object.keys(l.RESOURCE_COUNT))t[n]-=e.storage[n]}return t}function E(e){for(const n of Object.keys(e.players)){const t=e.players[n];if(t.hand.length>v(e,n))return!1;if(t.city.length>y(t.city,t.power))return!1}if(e.meadow.length>l.MAX_MEADOW_SIZE)return!1;if(e.reveal.length>l.MAX_REVEAL_SIZE)return!1;const t=w(e);for(const n of Object.keys(l.RESOURCE_COUNT))if(t[n]<0)return!1;return!e.previousState||!e.previousState.previousState}function C(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const h=(0,u.makeShuffledDeck)(t,l),p=s.locations.map((e=>(0,r.A)((0,r.A)({},e),{},{workers:c.defaultPlayerCount,characters:l?c.defaultCharacterCount:null,storage:l?c.defaultResources:null}))),m=i.events.map((e=>(0,r.A)((0,r.A)({},e),{},{used:!1,workers:c.defaultPlayerCount}))),g=(0,f.pickNRandom)(4,o.specialEvents.map((e=>(0,r.A)((0,r.A)({},e),{},{used:!1,workers:c.defaultPlayerCount}))));return{players:{Red:(0,r.A)((0,r.A)({},c.defaultPlayer),{},{color:"Red",power:d}),Blue:(0,r.A)((0,r.A)({},c.defaultPlayer),{},{color:"Blue"})},deck:h,discard:[],meadow:[],reveal:[],farmStack:[],locations:p,journeys:a.journeys,events:m,specialEvents:g,turn:e,previousState:null,cardFrequencies:t,activeExpansions:n,powersEnabled:l}}function S(e,t,n){let i=[],a=[...e.deck];T(e)&&([i,a]=(0,f.partition)(a,(e=>"Farm"===e.name)));const s=l.MAX_MEADOW_SIZE,o=s+b(t,e.players[t].power),c=o+b(n,e.players[n].power),d=a.slice(0,s),h=a.slice(s,o),p=a.slice(o,c),m=a.slice(c);let g=[],y=[];if(e.activeExpansions.includes("legends")&&e.cardFrequencies){const{critters:t,constructions:n}=(0,u.makeLegendsDecks)(e.cardFrequencies.legends),r=l.MAX_LEGENDS_SIZE;g=[...t.slice(0,r/2),...n.slice(0,r/2)],y=[...t.slice(r/2,r),...n.slice(r/2,r)]}const v=(0,r.A)((0,r.A)({},e),{},{players:{Red:(0,r.A)((0,r.A)({},e.players.Red),{},{hand:"Red"===t?h:p,legends:"Red"===t?g:y}),Blue:(0,r.A)((0,r.A)({},e.players.Blue),{},{hand:"Blue"===t?h:p,legends:"Blue"===t?g:y})},deck:m,meadow:d,farmStack:i}),w=(0,r.A)((0,r.A)({},v),{},{previousState:structuredClone(v),cardFrequencies:null});return E(w)?w:e}function A(e,t,n){const r=e.workers.workersLeft-n;return!(r<0||r>e.workers.maxWorkers)&&!(n<0&&t.workers[e.color]<Math.abs(n))}function T(e){const t=(0,h.hasPowers)(e.players.Red.power,["Pigs"]),n=(0,h.hasPowers)(e.players.Blue.power,["Pigs"]);return(t||n)&&e.powersEnabled}function x(e,t,n,r){const i=e.players[n];if(!A(i,t,r))return!1;const a=t.workers.Red+t.workers.Blue;return!(r>0&&t.exclusive&&a>0)||!!((0,h.hasPowers)(i.power,["Cats"])&&a-t.workers[n]>0)}function k(e){return void 0!==e.cardType}function I(e,t,n,r,i){if(null!==t.characters&&r<0&&t.characters[i]<Math.abs(r))return!1;switch(i){case"rat":return!!k(t)&&(0,h.hasPowers)(e.players[n].power,["Rats"]);case"spider":return!k(t)&&(0,h.hasPowers)(e.players[n].power,["Spiders"]);default:return!1}}function R(e,t,n){return(0,h.hasPowers)(e.players[n].power,["Axolotls"])&&null!==t.storage}function _(e,t,n){return(0,h.hasPowers)(e.players[n].power,["Platypuses","Turtles"])&&null!==t.storage}function P(e,t,n,r){const i=e.players[n];if(!A(i,t,r))return!1;const a=t.workers.Red+t.workers.Blue;return!(r>0&&t.exclusive&&a>0)&&"Autumn"===i.season}function N(e,t,n,r){const i=e.players[n];if(!A(i,t,r))return!1;if(r>0&&t.used)return!1;const a=(0,h.countEffectTypeOccurrences)(i.city,t.effectTypeRequirement);return!(r>0&&a<t.effectTypeCount)}function D(e,t,n){const r=e.players[n];return!t.used&&0!==(0,h.countCardOccurrences)(r.city,"Amilla Glistendew")}function O(e,t,n,r){const i=e.players[n];if(!A(i,t,r))return!1;if(r>0&&t.used)return!1;const a=t.cardRequirement.map((e=>(0,h.hasCards)(i.city,[e]))).reduce(((e,t)=>e&&t),!0),s=Object.entries(t.effectTypeRequirement).every((e=>{let[t,n]=e;return(0,h.countEffectTypeOccurrences)(i.city,t)>=n}));return!(r>0&&(!a||!s))}function L(e,t,n){const r=e.players[n];return!t.used&&0!==(0,h.countCardOccurrences)(r.city,"Amilla Glistendew")}function j(e,t,n,r){const i=e.players[n];if(!A(i,t,r))return!1;if(null===t.maxDestinations||null==t.activeDestinations)return!1;return!(t.activeDestinations+r>t.maxDestinations)||!!((0,h.hasPowers)(i.power,["Cats"])&&t.activeDestinations-t.workers[n]>0)}function M(e){return(0,h.hasCards)([e],["Cemetery","Monastery"])}function F(e,t){const n=e.activeDestinations;if(M(e))return n;const r=e.workers[t];return null!==n?n-r:null}function B(e,t){const n=e.workers[t];return(0,r.A)((0,r.A)({},e.workers),{},{[t]:M(e)?n:0})}function U(e,t,n,r,i,a,s){const o=e.players[t],l=e.players[p(t)],c=e.specialEvents;return(0,h.hasCards)(o.city,[...n,...r])||(0,h.hasCards)(l.city,i)||(0,h.hasCards)(o.city,["Miner Mole"])&&(0,h.hasCards)(l.city,n)||(0,h.isOnSpecialEvents)(o,c,a)||(0,h.hasPowers)(o.power,s)}function z(e,t){return U(e,t,[],["Undertaker"],[],["A Brilliant Marketing Plan","Ancient Scrolls Discovered"],["Platypuses","Starlings"])}function V(e,t){return U(e,t,["Teacher","Town Crier"],["Post Office"],["Post Office"],[],["Owls"])}function H(e,t){return U(e,t,["Postal Pigeon"],["Cemetery","Juggler"],[],["Ancient Scrolls Discovered"],[])}function G(e,t){return U(e,t,[],["Cemetery"],[],[],[])}function q(e,t){return U(e,t,["Monk"],["Monastery","Shepherd"],[],["A Brilliant Marketing Plan"],[])}function K(e,t){return U(e,t,[],["Rugwort the Robber"],[],[],[])}function W(e,t){return U(e,t,[],["Rugwort the Rowdy"],[],[],[])}function Q(e,t,n){return"Rugwort the Rowdy"===n.name}function Y(e,t,n,r){return null===r?null!==n.below:null===n.below&&(!!(0,h.hasCards)(e.players[t].city,[r.name])&&(!("Critter"!==n.cardType||!["Dungeon"].includes(r.name))||(("Bridge of the Sky"===n.name||"Silver Scale Spring"===n.name)&&"Construction"===r.cardType&&n.name!==r.name||"Wife"===n.name&&"Husband"===r.name)))}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/everdell/",n.nc=void 0;n(2974)})();
//# sourceMappingURL=main.55f5d9f4.js.map